2025-09-23 02:45:12,190 - DEBUG - Using selector: EpollSelector
2025-09-23 02:45:12,191 - INFO - Generating glue code for step ID 1188
2025-09-23 02:45:12,193 - INFO - Generating glue code for step ID 33
2025-09-23 02:45:12,277 - INFO - Generating glue code for step ID 1019
2025-09-23 02:45:12,283 - INFO - Generating glue code for step ID 621
2025-09-23 02:45:12,290 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-ff2ff0ee-1c3f-413f-8a3f-9b0cd5e9c71b', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n  @Given("a calculator I just turned on")\nGlue Code:\n  @Given("a calculator I just turned on")\n  public void a_calculator_I_just_turned_on() {\n    calc = new Calculator();\n  }\n\nExample 2:\nGherkin Step:\n\n  @Given("a calculator I just turned on")\nGlue Code:\n  @Given("a calculator I just turned on")\n  public void a_calculator_I_just_turned_on() {\n    calc = new Calculator();\n  }\n\nExample 3:\nGherkin Step:\n\n  @Given("a calculator I just turned on")\nGlue Code:\n  @Given("a calculator I just turned on")\n  public void a_calculator_I_just_turned_on() {\n    calc = new Calculator();\n  }\n\nExample 4:\nGherkin Step:\n\n  @Given("a flaky calculator I just turned on")\nGlue Code:\n  @Given("a flaky calculator I just turned on")\n  public void a_flaky_calculator_I_just_turned_on() {\n    calc = new Calculator(++flakyCounter < 3);\n  }\n\nExample 5:\nGherkin Step:\n\n  @When("I add {int} and {int}")\nGlue Code:\n  @When("I add {int} and {int}")\n  public void adding(int arg1, int arg2) {\n    calc.push(arg1);\n    calc.push(arg2);\n    calc.push("+");\n  }\n\nExample 6:\nGherkin Step:\n\n  @Then("the result is {int}")\nGlue Code:\n  @Then("the result is {int}")\n  public void the_result_is(double expected) {\n    assertEquals(expected, calc.value());\n  }\n\nExample 7:\nGherkin Step:\n\n  @When("I add {int} and {int}")\nGlue Code:\n  @When("I add {int} and {int}")\n  public void adding(int arg1, int arg2) {\n    calc.push(arg1);\n    calc.push(arg2);\n    calc.push("+");\n  }\n\nExample 8:\nGherkin Step:\n\n  @When("I slowly add {int} and {int}")\nGlue Code:\n  @When("I slowly add {int} and {int}")\n  public void addingSlow(int arg1, int arg2) throws InterruptedException {\n    Thread.sleep(1100);\n    calc.push(arg1);\n    calc.push(arg2);\n    calc.push("+");\n  }\n\nExample 9:\nGherkin Step:\n\n  @Given("^I press (.+)$")\nGlue Code:\n  @Given("^I press (.+)$")\n  public void I_press(String what) {\n    calc.push(what);\n  }\n\nExample 10:\nGherkin Step:\n\n  @Then("the result is {int}")\nGlue Code:\n  @Then("the result is {int}")\n  public void the_result_is(double expected) {\n    assertEquals(expected, calc.value());\n  }\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n  @Given("a calculator I just turned on")\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:12,315 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-ef07a1db-eb9d-48af-b266-ee3ea3980834', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n    @Then("^I should have no errors$")\nGlue Code:\n    @Then("^I should have no errors$")\n    public void i_should_have_no_errors() {\n        generalSteps.hasNoServerError();\n    }\n\nExample 2:\nGherkin Step:\n\n    @Then("^I should see no applications by reviewer results$")\nGlue Code:\n    @Then("^I should see no applications by reviewer results$")\n    public void i_should_see_no_applications_by_reviewer_results() {\n        applicationsByReviewerSteps.checkNoApplicationsByReviewerResults();\n    }\n\nExample 3:\nGherkin Step:\n\n    @Then("^I can move on from the personal info page with no errors$")\nGlue Code:\n    @Then("^I can move on from the personal info page with no errors$")\n    public void i_will_move_on_from_the_personal_info_page_with_no_errors() {\n        applicationSteps.advanceFromIndividualPersonalInfoToLicenseInfo();\n    }\n\nExample 4:\nGherkin Step:\n\n    @Then("^I should see applications$")\nGlue Code:\n    @Then("^I should see applications$")\n    public void i_should_see_applications() {\n        applicationListSteps.verifyApplicationsInTable();\n    }\n\nExample 5:\nGherkin Step:\n\n    @Given("^I have started an application$")\nGlue Code:\n    @Given("^I have started an application$")\n    public void i_have_started_an_application() {\n        generalSteps.login("p1", "p1");\n        applicationSteps.prepareSpeechLanguagePathologistApplication();\n        applicationSteps.createApplication();\n    }\n\nExample 6:\nGherkin Step:\n\n    @Then("^I should be logged in$")\nGlue Code:\n    @Then("^I should be logged in$")\n    public void i_should_be_logged_in() {\n        loginPage.checkUserLoggedIn("p1");\n    }\n\nExample 7:\nGherkin Step:\n\n    @Then("^I should see search results$")\nGlue Code:\n    @Then("^I should see search results$")\n    public void i_should_see_search_results() {\n        searchSteps.verifySearchResults();\n    }\n\nExample 8:\nGherkin Step:\n\n    @Then("^I should get an FEIN error$")\nGlue Code:\n    @Then("^I should get an FEIN error$")\n    public void i_should_get_an_fein_error() throws Exception {\n        applicationSteps.checkForFeinError();\n    }\n\nExample 9:\nGherkin Step:\n\n    @Then("^I should see the login page$")\nGlue Code:\n    @Then("^I should see the login page$")\n    public void checkLogout() {\n        loginPage.checkUserLoggedOut();\n    }\n\nExample 10:\nGherkin Step:\n\n    @Then("^I should see the reports page$")\nGlue Code:\n    @Then("^I should see the reports page$")\n    public void i_should_see_the_reports_page() {\n        reportSteps.checkOnReportPage();\n    }\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n    @Then("^I should have no accessibility issues$")\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:12,318 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-2535723e-241a-48a3-855d-8f66363353a2', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n    @When("^The following test is executed:$")\nGlue Code:\n    @When("^The following test is executed:$")\n    public void The_test_below_is_executed(String docstring) throws Throwable {\n        assertNotNull(docstring);\n    }\n\nExample 2:\nGherkin Step:\n\n\n\n    @Given("^The following junit5 test is executed$")\nGlue Code:\n\n\n    @Given("^The following junit5 test is executed$")\n    public void the_following_junit_rules(String docString) throws Throwable {\n\n    }\n\nExample 3:\nGherkin Step:\n\n\n    @Given("^DBUnit interceptor is enabled in your test beans.xml:$")\nGlue Code:\n\n    @Given("^DBUnit interceptor is enabled in your test beans.xml:$")\n    public void DBUnit_interceptor_is_enabled_in_your_test_beans_xml(String docstring) throws Throwable {\n        assertTrue(true);\n    }\n\nExample 4:\nGherkin Step:\n\n    @Then("^Dataset script should be interpreted while seeding the database$")\nGlue Code:\n    @Then("^Dataset script should be interpreted while seeding the database$")\n    public void Dataset_script_should_be_interpreted_when_seeding_the_database() throws Throwable {\n        // Express the Regexp above with the code you wish you had\n    }\n\nExample 5:\nGherkin Step:\n\n    @Then("^Test must pass because database state is as in expected dataset.$")\nGlue Code:\n    @Then("^Test must pass because database state is as in expected dataset.$")\n    public void Test_must_pass_because_dataBase_state_is_as_expected_in_dataset() throws Throwable {\n        // Express the Regexp above with the code you wish you had\n    }\n\nExample 6:\nGherkin Step:\n\n    @Then("^The database should be seeded with the dataset content before test execution$")\nGlue Code:\n    @Then("^The database should be seeded with the dataset content before test execution$")\n    public void The_database_should_be_seeded_with_the_dataset_content() throws Throwable {\n\n    }\n\nExample 7:\nGherkin Step:\n\n    @Then("^The database should be seeded with the dataset content before test execution$")\nGlue Code:\n    @Then("^The database should be seeded with the dataset content before test execution$")\n    @DataSet("yml/users.yml")\n    public void The_database_should_be_seeded_with_the_dataset_content() throws Throwable {\n        List<User> users = em.createQuery("select u from User u order by u.id asc").getResultList();\n        User user1 = new User(1);\n        User user2 = new User(2);\n        Tweet tweetUser1 = new Tweet();\n        tweetUser1.setId("abcdef12345");\n        Tweet tweetUser2 = new Tweet();\n        tweetUser2.setId("abcdef12233");\n        assertThat(users).isNotNull().hasSize(2).contains(user1, user2);\n        List<Tweet> tweetsUser1 = users.get(0).getTweets();\n        assertThat(tweetsUser1).isNotNull().hasSize(1).contains(tweetUser1);\n\n        List<Tweet> tweetsUser2 = users.get(1).getTweets();\n        assertThat(tweetsUser2).isNotNull().hasSize(2).contains(tweetUser2);\n\n    }\n\nExample 8:\nGherkin Step:\n\n\n    @Then("^Test must fail with following error:$")\nGlue Code:\n\n    @Then("^Test must fail with following error:$")\n    public void Test_must_fail_with_following_error(String docstring) throws Throwable {\n        assertNotNull(docstring);\n    }\n\nExample 9:\nGherkin Step:\n\n    @Then("^Test must pass because inserted users are commited to database and database state matches expected dataset.$")\nGlue Code:\n    @Then("^Test must pass because inserted users are commited to database and database state matches expected dataset.$")\n    public void Test_must_pass_because_inserted_users_are_commited_to_database_and_database_state_matches_in_expected_dataset() throws Throwable {\n    }\n\nExample 10:\nGherkin Step:\n\n    @And("^The following dataset$")\nGlue Code:\n    @And("^The following dataset$")\n    public void The_following_dataset(String docstring) throws Throwable {\n        assertNotNull(docstring);\n    }\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n\n    @Given("^Groovy script engine is on test classpath$")\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:12,321 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-71a8e178-3c69-4327-9f8c-a9a2b5ed0f32', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n    @When("doing get results operation on SCA scan with {int} {int} {int} results")\nGlue Code:\n    @When("doing get results operation on SCA scan with {int} {int} {int} results")\n    public void getSCAResults(int high, int medium, int low) throws InterruptedException {\n        try {\n            scanResultsToInject = createFakeSCAScanResults(high, medium, low);\n            ScanRequest scanRequest = createScanRequest();\n\n            //addAdditionalInfoToResults();\n            //addFlowSummaryToResults(high, medium, low, info);\n            CompletableFuture<ScanResults> task = resultsService.processScanResultsAsync(\n                    scanRequest, PROJECT_ID, SCAN_ID, null, null);\n            task.get(1, TimeUnit.MINUTES);\n        } catch (MachinaException | ExecutionException | TimeoutException e) {\n            String message = "Error processing scan results.";\n            log.error(message, e);\n            Assert.fail(message);\n        }\n    }\n\nExample 2:\nGherkin Step:\n    @And("doing get results operation on scan with {int} {int} {int} {int} results")\nGlue Code:\n    public void getASTResults(int high, int medium, int low, int info) throws InterruptedException {\n        try {\n            if(scannerType.equalsIgnoreCase(AST)) {\n                scanResultsToInject = createFakeASTScanResults(high, medium, low);\n                addFlowSummaryToResults(high, medium, low, info);\n            }\n            if(scannerType.equalsIgnoreCase(AST_SCA)) {\n                scanResultsToInject = createFakeSCAScanResults(high, medium, low);\n                ScanResults astScanResults = createFakeASTScanResults(high, medium, low);\n                scanResultsToInject.setAstResults(astScanResults.getAstResults());\n                addFlowSummaryToResults(high*2, medium*2, low*2, info*2);\n            }\n            \n            ScanRequest scanRequest = createScanRequest();\n\n            CompletableFuture<ScanResults> task = resultsService.processScanResultsAsync(\n                    scanRequest, PROJECT_ID, SCAN_ID, null, null);\n            task.get(1, TimeUnit.MINUTES);\n            \n        } catch (MachinaException | ExecutionException | TimeoutException e) {\n            String message = "Error processing scan results.";\n            log.error(message, e);\n            Assert.fail(message);\n        }\n\nExample 3:\nGherkin Step:\n\n    @When("doing get results operation on SAST scan with {int} {int} {int} {int} results and filter is {string}")\nGlue Code:\n    @When("doing get results operation on SAST scan with {int} {int} {int} {int} results and filter is {string}")\n    public void getResultsWithFilter(int high, int medium, int low, int info, String filter) throws InterruptedException  {\n        try {\n            scanResultsToInject = createFakeSASTScanResults();\n            ScanRequest scanRequest = createScanRequest();\n            setFindingsSummary(high, medium, low, info, filter);\n            addAdditionalInfoToResults();\n            addFlowSummaryToResults(high, medium, low, info);\n            CompletableFuture<ScanResults> task = resultsService.processScanResultsAsync(\n                    scanRequest, PROJECT_ID, SCAN_ID, null, null);\n            task.get(1, TimeUnit.MINUTES);\n        } catch (MachinaException | ExecutionException | TimeoutException e) {\n            String message = "Error processing scan results.";\n            log.error(message, e);\n            Assert.fail(message);\n        }\n    }\n\nExample 4:\nGherkin Step:\n\n    @Given("there are {int} findings from which {int} results match the filter")\nGlue Code:\n    @Given("there are {int} findings from which {int} results match the filter")\n    public void setResultsAndFilters(int totalResults, int matchingResults) {\n        findingsType = FindingsType.DIFFERENT_SEVERITIES;\n        numOfFindings = matchingResults;\n        this.totalResults = totalResults;\n        needFilter = true;\n        Filter filter = Filter.builder().type(Filter.Type.SEVERITY).value("High").build();\n        filters = Collections.singletonList(filter);\n    }\n\nExample 5:\nGherkin Step:\n\n    @Then("ADO contains {int} issues")\nGlue Code:\n    @Then("ADO contains {int} issues")\n    public void adoContainsIssueCount(int expectedIssueCount) {\n        Duration timeout = Duration.ofSeconds(30);\n        Duration pollInterval = Duration.ofSeconds(5);\n        try {\n            Awaitility.await().atMost(timeout)\n                    .pollInterval(pollInterval)\n                    .until(() -> adoClient.getIssueCount() == expectedIssueCount);\n        } catch (ConditionTimeoutException e) {\n            String message = String.format("Waited for %s but didn\'t get the expected ADO issue count (%d).",\n                    timeout, expectedIssueCount);\n\n            Assert.fail(message);\n        }\n    }\n\nExample 6:\nGherkin Step:\n\n\n    @Given("SAST results with that should result in {int} JIRS issues")\nGlue Code:\n\n    @Given("SAST results with that should result in {int} JIRS issues")\n\nExample 7:\nGherkin Step:\n\n\n    @Then("SAST output will contain high severity number {int} and medium severity number {int} and low severity number {int} and  SAST team name will be {string}")\nGlue Code:\n\n    @Then("SAST output will contain high severity number {int} and medium severity number {int} and low severity number {int} and  SAST team name will be {string}")\n\nExample 8:\nGherkin Step:\n\n    @Given("input has {int} findings with {string} severity")\nGlue Code:\n    @Given("input has {int} findings with {string} severity")\n    public void inputHasFindingsWithSeverity(int findingCount, String severity) {\n        String fragment = String.format("%d-%s-", findingCount,\n                severity.toLowerCase(Locale.ROOT));\n\n        testContext.appendToInputFilename(fragment);\n    }\n\nExample 9:\nGherkin Step:\n\n    @And("each issue contains {int} result")\nGlue Code:\n    @And("each issue contains {int} result")\n    public void eachIssueContainsResult(int expectedResultCount) throws IOException {\n        verifyCxFlowResultCount(expectedResultCount, false);\n    }\n\nExample 10:\nGherkin Step:\n\n    @Then("Azure DevOps contains {int} issues")\nGlue Code:\n    @Then("Azure DevOps contains {int} issues")\n    public void azureDevOpsContainsIssueCountIssues(int expectedCount) throws IOException {\n        List<Issue> issues = getIssues();\n        verifyIssueCount(issues, expectedCount);\n    }\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n    @When("doing get results operation on SAST scan with {int} {int} {int} {int} results")\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:12,336 - INFO - Generating glue code for step ID 1215
2025-09-23 02:45:12,341 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:12,342 - DEBUG - connect_tcp.started host='openrouter.ai' port=443 local_address=None timeout=None socket_options=None
2025-09-23 02:45:12,343 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:12,343 - DEBUG - connect_tcp.started host='openrouter.ai' port=443 local_address=None timeout=None socket_options=None
2025-09-23 02:45:12,344 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:12,345 - DEBUG - connect_tcp.started host='openrouter.ai' port=443 local_address=None timeout=None socket_options=None
2025-09-23 02:45:12,346 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:12,347 - DEBUG - connect_tcp.started host='openrouter.ai' port=443 local_address=None timeout=None socket_options=None
2025-09-23 02:45:12,351 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-29bc514e-032f-496f-b9d8-3b1ec26ff99e', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n\t@And("^the order identified by (.*) is (completed) and an exception with error-code (.*) is thrown$")\nGlue Code:\n\t@And("^the order identified by (.*) is (completed) and an exception with error-code (.*) is thrown$")\n\tpublic void order_action(@NonNull final String orderIdentifier, @NonNull final String action, @NonNull final String errorCode)\n\t{\n\t\ttry\n\t\t{\n\t\t\torder_action(orderIdentifier, action);\n\t\t\tassertThat(1).as("An Exception should have been thrown !").isEqualTo(2);\n\t\t}\n\t\tcatch (final AdempiereException exception)\n\t\t{\n\t\t\tassertThat(exception.getErrorCode()).as("ErrorCode of %s", exception).isEqualTo(errorCode);\n\t\t}\n\t}\n\nExample 2:\nGherkin Step:\n\n\t@And("^the (shipment|material receipt) identified by (.*) is (completed) and an exception with error-code (.*) is thrown")\nGlue Code:\n\t@And("^the (shipment|material receipt) identified by (.*) is (completed) and an exception with error-code (.*) is thrown")\n\tpublic void complete_inOut_expect_exception(\n\t\t\t@NonNull final String model_UNUSED,\n\t\t\t@NonNull final String shipmentIdentifier,\n\t\t\t@NonNull final String action,\n\t\t\t@NonNull final String errorCode)\n\t{\n\t\ttry\n\t\t{\n\t\t\tprocessInOut(model_UNUSED, shipmentIdentifier, action);\n\t\t\tassertThat(1).as("An Exception should have been thrown !").isEqualTo(2);\n\t\t}\n\t\tcatch (final AdempiereException exception)\n\t\t{\n\t\t\tassertThat(exception.getErrorCode()).as("ErrorCode of %s", exception).isEqualTo(errorCode);\n\t\t}\n\t}\n\nExample 3:\nGherkin Step:\n\n\t@And("^load latest ModCntr_Interest_Run for invoicing group (.*) as (.*)$")\nGlue Code:\n\t@And("^load latest ModCntr_Interest_Run for invoicing group (.*) as (.*)$")\n\tpublic void metasfresh_contains_ModCntr_InvoicingGroup(@NonNull final String invoicingGroupIdentifier, @NonNull final String interestRunIdentifier)\n\t{\n\t\tfinal I_ModCntr_InvoicingGroup invoicingGroup = invoicingGroupTable.get(invoicingGroupIdentifier);\n\n\t\tfinal I_ModCntr_Interest_Run lastInterestRun = queryBL.createQueryBuilder(I_ModCntr_Interest_Run.class)\n\t\t\t\t.addOnlyActiveRecordsFilter()\n\t\t\t\t.addEqualsFilter(I_ModCntr_Interest_Run.COLUMNNAME_ModCntr_InvoicingGroup_ID, invoicingGroup.getModCntr_InvoicingGroup_ID())\n\t\t\t\t.orderByDescending(I_ModCntr_Interest_Run.COLUMNNAME_Created)\n\t\t\t\t.first();\n\t\tCheck.assumeNotNull(lastInterestRun, "Found no interest run for invoicing group {}", invoicingGroupIdentifier);\n\t\tinterestRunTable.putOrReplace(interestRunIdentifier, lastInterestRun);\n\t}\n\nExample 4:\nGherkin Step:\n\n\t@And("^generate (.*) additional M_Delivery_Planning records for: (.*)$")\nGlue Code:\n\t@And("^generate (.*) additional M_Delivery_Planning records for: (.*)$")\n\tpublic void generate_additional_M_Delivery_Planning(final int noAdditionalRecords, @NonNull final String deliveryPlanningIdentifier)\n\t{\n\t\tfinal I_M_Delivery_Planning deliveryPlanning = deliveryPlanningTable.get(deliveryPlanningIdentifier);\n\t\tassertThat(deliveryPlanning).isNotNull();\n\n\t\tfinal DeliveryPlanningId deliveryPlanningId = DeliveryPlanningId.ofRepoId(deliveryPlanning.getM_Delivery_Planning_ID());\n\t\tdeliveryPlanningService.createAdditionalDeliveryPlannings(deliveryPlanningId, noAdditionalRecords);\n\t}\n\nExample 5:\nGherkin Step:\n\n\t@And("^set sys config (String|boolean|int) value (.*) for sys config (.*)$")\nGlue Code:\n\t@And("^set sys config (String|boolean|int) value (.*) for sys config (.*)$")\n\tpublic void enable_sys_config(@NonNull final String sysconfigType, @NonNull final String sysconfigValue, @NonNull final String sysConfigName)\n\t{\n\t\tswitch (sysconfigType)\n\t\t{\n\t\t\tcase "String":\n\t\t\t\tfinal String value = DataTableUtil.nullToken2Null(sysconfigValue);\n\t\t\t\tsysConfigBL.setValue(sysConfigName, value, ClientId.SYSTEM, StepDefConstants.ORG_ID_SYSTEM);\n\t\t\t\tbreak;\n\t\t\tcase "boolean":\n\t\t\t\tfinal boolean booleanValue = Boolean.parseBoolean(sysconfigValue);\n\t\t\t\tsysConfigBL.setValue(sysConfigName, booleanValue, ClientId.SYSTEM, StepDefConstants.ORG_ID_SYSTEM);\n\t\t\t\tbreak;\n\t\t\tcase "int":\n\t\t\t\tfinal int intValue = Integer.parseInt(sysconfigValue);\n\t\t\t\tsetSysConfigIntValue(sysConfigName, intValue);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tthrow new AdempiereException("Unhandled sysConfig type")\n\t\t\t\t\t\t.appendParametersToMessage()\n\t\t\t\t\t\t.setParameter("type:", sysconfigType);\n\t\t}\n\t\tCacheMgt.get().reset(I_AD_SysConfig.Table_Name); // also without this, we fire a CacheInvalidation event, but that event may not be processed in time\n\t}\n\nExample 6:\nGherkin Step:\n\n\t@And("^after not more than (.*)s, M_CostDetails are found for product (.*) and cost element (.*)$")\nGlue Code:\n\t@And("^after not more than (.*)s, M_CostDetails are found for product (.*) and cost element (.*)$")\n\tpublic void validateCostDetails(\n\t\t\tfinal int timeoutSec,\n\t\t\t@NonNull final String productIdentifierStr,\n\t\t\t@NonNull final String costElementStr,\n\t\t\t@NonNull final DataTable table) throws Throwable\n\t{\n\t\tfinal ProductId productId = productTable.getId(productIdentifierStr);\n\t\tfinal Set<CostElementId> costElementIds = costElementTable.getIdsOfCommaSeparatedString(costElementStr);\n\t\tfinal CostDetailMatchers matchers = toCostDetailMatchers(table);\n\n\t\tassertThat(costElementIds).isNotEmpty();\n\n\t\tSharedTestContext.forEach(costElementIds, "costElement", costElementId -> {\n\t\t\tfinal CostDetailQuery costDetailQuery = CostDetailQuery.builder()\n\t\t\t\t\t.productId(productId)\n\t\t\t\t\t.costElementId(costElementId)\n\t\t\t\t\t.orderBy(CostDetailQuery.OrderBy.ID_ASC)\n\t\t\t\t\t.build();\n\t\t\tSharedTestContext.put("costDetailQuery", costDetailQuery);\n\n\t\t\tStepDefUtil.tryAndWaitForData(() -> costDetailRepository.stream(costDetailQuery).collect(ImmutableList.toImmutableList()))\n\t\t\t\t\t.validateUsingFunction(matchers::checkValid)\n\t\t\t\t\t.maxWaitSeconds(timeoutSec)\n\t\t\t\t\t.execute();\n\t\t});\n\t}\n\nExample 7:\nGherkin Step:\n\n\t@Then("^C_Flatrate_Term identified by (.*) is extended$")\nGlue Code:\n\t@Then("^C_Flatrate_Term identified by (.*) is extended$")\n\tpublic void c_flatrate_termIsExtended(@NonNull final String contractIdentifier)\n\t{\n\t\tassertThat(contractIdentifier).isNotBlank();\n\n\t\tfinal I_C_Flatrate_Term contract = contractTable.get(contractIdentifier);\n\t\tassertThat(contract).isNotNull();\n\n\t\tfinal I_C_Flatrate_Term nextContract = contract.getC_FlatrateTerm_Next();\n\t\tassertThat(nextContract).isNotNull(); // next term created & contract extended\n\t}\n\nExample 8:\nGherkin Step:\n\n\t@And("^M_Delivery_Planning identified by (.*) is (closed|opened|canceled)$")\nGlue Code:\n\t@And("^M_Delivery_Planning identified by (.*) is (closed|opened|canceled)$")\n\tpublic void delivery_Planning_action(@NonNull final String deliveryPlanningIdentifier, @NonNull final String action)\n\t{\n\t\tfinal I_M_Delivery_Planning deliveryPlanning = deliveryPlanningTable.get(deliveryPlanningIdentifier);\n\t\tassertThat(deliveryPlanning).isNotNull();\n\n\t\tswitch (StepDefDocAction.valueOf(action))\n\t\t{\n\t\t\tcase closed:\n\t\t\t\tdeliveryPlanningService.closeSelectedDeliveryPlannings(getQueryFilterFor(deliveryPlanningIdentifier));\n\t\t\t\tbreak;\n\t\t\tcase opened:\n\t\t\t\tdeliveryPlanningService.reOpenSelectedDeliveryPlannings(getQueryFilterFor(deliveryPlanningIdentifier));\n\t\t\t\tbreak;\n\t\t\tcase canceled:\n\t\t\t\tdeliveryPlanningService.cancelDelivery(getQueryFilterFor(deliveryPlanningIdentifier));\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tthrow new AdempiereException("Unsupported action for M_Delivery_Planning!")\n\t\t\t\t\t\t.appendParametersToMessage()\n\t\t\t\t\t\t.setParameter(I_M_Delivery_Planning.COLUMNNAME_M_Delivery_Planning_ID, deliveryPlanning.getM_Delivery_Planning_ID());\n\t\t}\n\t}\n\nExample 9:\nGherkin Step:\n\n\t@And("^the C_Flatrate_Term identified by (.*) has (.*) C_Flatrate_DataEntries.$")\nGlue Code:\n\t@And("^the C_Flatrate_Term identified by (.*) has (.*) C_Flatrate_DataEntries.$")\n\tpublic void the_C_Flatrate_Term_has_DataEntries(@NonNull final String identifier, final String countStr)\n\t{\n\t\tfinal int count = NumberUtils.asInt(countStr);\n\n\t\tfinal I_C_Flatrate_Term flatrateTermRecord = contractTable.get(identifier);\n\t\tassertThat(flatrateTermRecord)\n\t\t\t\t.as("Missing C_Flatrate_Term record for identifier=%s", identifier)\n\t\t\t\t.isNotNull();\n\n\t\tfinal List<I_C_Flatrate_DataEntry> list = queryBL.createQueryBuilder(I_C_Flatrate_DataEntry.class)\n\t\t\t\t.addOnlyActiveRecordsFilter()\n\t\t\t\t.addEqualsFilter(I_C_Flatrate_DataEntry.COLUMNNAME_C_Flatrate_Term_ID, flatrateTermRecord.getC_Flatrate_Term_ID())\n\t\t\t\t.create()\n\t\t\t\t.list();\n\n\t\tassertThat(list)\n\t\t\t\t.as("Number of C_Flatrate_DataEntry record for C_Flatrate_Term_ID=%s - identifier=%s", flatrateTermRecord.getC_Flatrate_Term_ID(), identifier)\n\t\t\t\t.hasSize(count);\n\t}\n\nExample 10:\nGherkin Step:\n\n\t@And("^the (shipment|material receipt|return inOut) identified by (.*) is reversed as (.*)$")\nGlue Code:\n\t@And("^the (shipment|material receipt|return inOut) identified by (.*) is reversed as (.*)$")\n\tpublic void reverseInOut(\n\t\t\t@NonNull @SuppressWarnings("unused") final String model_UNUSED,\n\t\t\t@NonNull final String identifier,\n\t\t\t@NonNull final String reversalIdentifier)\n\t{\n\t\tfinal I_M_InOut inout = inoutTable.get(identifier);\n\t\tInterfaceWrapperHelper.refresh(inout);\n\t\tdocumentBL.processEx(inout, IDocument.ACTION_Reverse_Correct, IDocument.STATUS_Reversed);\n\n\t\tfinal InOutId reversalId = InOutId.ofRepoId(inout.getReversal_ID());\n\t\tfinal I_M_InOut reversal = inOutDAO.getById(reversalId);\n\t\tinoutTable.put(reversalIdentifier, reversal);\n\t}\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n\t@Given("^assert defaultValue is (.*) for tableName (.*) and columnName (.*)$")\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:12,352 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:12,353 - DEBUG - connect_tcp.started host='openrouter.ai' port=443 local_address=None timeout=None socket_options=None
2025-09-23 02:45:12,353 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f0bcc48a7a0>
2025-09-23 02:45:12,353 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f0bca16d0c0>
2025-09-23 02:45:12,354 - INFO - Generating glue code for step ID 0
2025-09-23 02:45:12,354 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7f0bcc9a0140> server_hostname='openrouter.ai' timeout=None
2025-09-23 02:45:12,355 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f0bca16e8c0>
2025-09-23 02:45:12,355 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7f0bcc9a0140> server_hostname='openrouter.ai' timeout=None
2025-09-23 02:45:12,358 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-10c080db-66ad-49a7-aab7-368f9d8553fd', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n\n    @Given("^I have a web application configured locations \\"([^\\"]*)\\" servletPath \\"([^\\"]*)\\" contextPath \\"([^\\"]*)\\"$")\nGlue Code:\n\n    @Given("^I have a web application configured locations \\"([^\\"]*)\\" servletPath \\"([^\\"]*)\\" contextPath \\"([^\\"]*)\\"$")\n    public void I_have_a_web_application_configured_locations_servletPath_contextPath(String locations, String servletPath, String contextPath) throws Throwable {\n\n        this.servletPath = servletPath;\n        this.contextPath = contextPath;\n\n        MockServletContext sc = new MockServletContext();\n        sc.setContextPath(contextPath);\n\n        this.wac = new XmlWebApplicationContext();\n        this.wac.setServletContext(sc);\n        this.wac.setConfigLocations(locations.split(","));\n        this.wac.refresh();\n\n        this.hm = this.wac.getBean(RouterHandlerMapping.class);\n        this.ha = this.wac.getBean(RequestMappingHandlerAdapter.class);\n    }\n\nExample 2:\nGherkin Step:\n\n    @Given("^I have a web application with javaconfig in package \\"([^\\"]*)\\"$")\nGlue Code:\n    @Given("^I have a web application with javaconfig in package \\"([^\\"]*)\\"$")\n    public void I_have_a_web_application_with_javaconfig_in_package(String scanPackage) throws Throwable {\n        MockServletContext sc = new MockServletContext("");\n        AnnotationConfigWebApplicationContext appContext = new AnnotationConfigWebApplicationContext();\n        appContext.scan(scanPackage);\n        appContext.setServletContext(sc);\n        appContext.refresh();\n\n        this.wac = appContext;\n\n        this.hm = appContext.getBean(RouterHandlerMapping.class);\n        this.ha = appContext.getBean(RequestMappingHandlerAdapter.class);\n    }\n\nExample 3:\nGherkin Step:\n\n    @Given("^I have routes:$")\nGlue Code:\n    @Given("^I have routes:$")\n    public void I_have_routes(List<RouteItem> routes) throws Throwable {\n        for(RouteItem item : routes) {\n            Router.addRoute(item.method,item.path,item.action,item.params,null);\n        }\n    }\n\nExample 4:\nGherkin Step:\n\n    @Given("^I have a route with method \\"([^\\"]*)\\" path \\"([^\\"]*)\\" action \\"([^\\"]*)\\"$")\nGlue Code:\n    @Given("^I have a route with method \\"([^\\"]*)\\" path \\"([^\\"]*)\\" action \\"([^\\"]*)\\"$")\n    public void I_have_a_route_with_method_url_action(String method, String path, String action) throws Throwable {\n        Router.prependRoute(method, path, action);\n    }\n\nExample 5:\nGherkin Step:\n\n\n\n    @When("^I send the HTTP request \\"([^\\"]*)\\" \\"([^\\"]*)\\"$")\nGlue Code:\n\n\n    @When("^I send the HTTP request \\"([^\\"]*)\\" \\"([^\\"]*)\\"$")\n    public void I_send_the_HTTP_request(String method, String url) throws Throwable {\n\n        int pathLength = 0;\n        if(this.contextPath.length() > 0) {\n            pathLength += this.contextPath.length();\n        }\n\n        if(this.servletPath.length() > 0) {\n            pathLength += this.servletPath.length();\n        }\n\n        request = new MockHttpServletRequest(this.wac.getServletContext(),method, url);\n        request.setContextPath(this.contextPath);\n        request.setServletPath(this.servletPath);\n        request.addHeader("host", host);\n\n\t    ServletRequestAttributes requestAttributes = new ServletRequestAttributes(request);\n\t    RequestContextHolder.setRequestAttributes(requestAttributes);\n\n        for (HTTPHeader header : headers) {\n            request.addHeader(header.name, header.value);\n        }\n\n        for (HTTPParam param : queryParams) {\n            request.addParameter(param.name, param.value);\n        }\n\n        request.setPathInfo(url.substring(pathLength));\n        chain = this.hm.getHandler(request);\n    }\n\nExample 6:\nGherkin Step:\n\n    @When("^I send the HTTP request \\"([^\\"]*)\\" \\"([^\\"]*)\\" with a null pathInfo$")\nGlue Code:\n    @When("^I send the HTTP request \\"([^\\"]*)\\" \\"([^\\"]*)\\" with a null pathInfo$")\n    public void I_send_the_HTTP_request_with_a_null_pathInfo(String method, String url) throws Throwable {\n\n        request = new MockHttpServletRequest(this.wac.getServletContext());\n        request.setMethod(method);\n        request.setContextPath(this.contextPath);\n        request.setServletPath(url.replaceFirst(this.contextPath,""));\n        request.addHeader("host", host);\n\n        for (HTTPHeader header : headers) {\n            request.addHeader(header.name, header.value);\n        }\n\n        for (HTTPParam param : queryParams) {\n            request.addParameter(param.name, param.value);\n        }\n\n        request.setPathInfo(null);\n\n\t    ServletRequestAttributes requestAttributes = new ServletRequestAttributes(request);\n\t    RequestContextHolder.setRequestAttributes(requestAttributes);\n\n        chain = this.hm.getHandler(request);\n    }\n\nExample 7:\nGherkin Step:\n\n\n\n    @When("^I send the HTTP request \\"([^\\"]*)\\" \\"([^\\"]*)\\" to host \\"([^\\"]*)\\"$")\nGlue Code:\n\n\n    @When("^I send the HTTP request \\"([^\\"]*)\\" \\"([^\\"]*)\\" to host \\"([^\\"]*)\\"$")\n    public void I_send_the_HTTP_request_to_host(String method, String url, String host) throws Throwable {\n\n        this.host = host;\n        I_send_the_HTTP_request(method,url);\n    }\n\nExample 8:\nGherkin Step:\n\n    @When("^I send the HTTP request \\"([^\\"]*)\\" \\"([^\\"]*)\\" with headers:$")\nGlue Code:\n    @When("^I send the HTTP request \\"([^\\"]*)\\" \\"([^\\"]*)\\" with headers:$")\n    public void I_send_the_HTTP_request_with_headers(String method, String url, List<HTTPHeader> headers) throws Throwable {\n\n        this.headers = headers;\n        I_send_the_HTTP_request(method,url);\n    }\n\nExample 9:\nGherkin Step:\n\n    @When("^I send the HTTP request \\"([^\\"]*)\\" \\"([^\\"]*)\\" with query params:$")\nGlue Code:\n    @When("^I send the HTTP request \\"([^\\"]*)\\" \\"([^\\"]*)\\" with query params:$")\n    public void I_send_the_HTTP_request_with_query_params(String method, String url, List<HTTPParam> queryParams) throws Throwable {\n\n        this.queryParams = queryParams;\n        I_send_the_HTTP_request(method,url);\n    }\n\nExample 10:\nGherkin Step:\n\n    @When("^I build a link for controller \\"([^\\"]*)\\" and action \\"([^\\"]*)\\"$")\nGlue Code:\n    @When("^I build a link for controller \\"([^\\"]*)\\" and action \\"([^\\"]*)\\"$")\n    public void I_build_a_link_for_controller_and_action(String controller, String action) throws Throwable {\n\n         linkBuilder = RouterLinkBuilder.linkTo(controller,action);\n    }\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n    @Given("^I have a web application with the config locations \\"([^\\"]*)\\"$")\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:12,359 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f0bca16dba0>
2025-09-23 02:45:12,359 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7f0bcc9a0140> server_hostname='openrouter.ai' timeout=None
2025-09-23 02:45:12,362 - INFO - Generating glue code for step ID 83
2025-09-23 02:45:12,362 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f0bca16f820>
2025-09-23 02:45:12,363 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:12,363 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7f0bcc9a0140> server_hostname='openrouter.ai' timeout=None
2025-09-23 02:45:12,367 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-d68c4f3e-a48d-4d12-8fb3-44b507de6daf', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n    @Given( "Bidding Stakeholder logins" )\nGlue Code:\n    @Given( "Bidding Stakeholder logins" )\n    public void stakeholderLogins() {\n        BidDto bidDto = BidDto.builder()\n                .projectId( project.getId() )\n                .amount( 100 )\n                .build();\n        bidService.addBid( bidDto, (Freelancer) freelancer.getType() );\n\n        webDriver.get( Utils.LOGIN_PAGE );\n        webDriver.findElement( By.id( "email" ) ).sendKeys( stakeholder.getEmail() );\n        webDriver.findElement( By.id( "password" ) ).sendKeys( "password" );\n        webDriver.findElement( By.id( "submit" ) ).click();\n    }\n\nExample 2:\nGherkin Step:\n\n    @Given( "Freelancer logins" )\nGlue Code:\n    @Given( "Freelancer logins" )\n    public void freelancerLogins() {\n        webDriver.get( Utils.LOGIN_PAGE );\n        webDriver.findElement( By.id( "email" ) ).sendKeys( "freelancer@test.com" );\n        webDriver.findElement( By.id( "password" ) ).sendKeys( "password" );\n        webDriver.findElement( By.id( "submit" ) ).click();\n    }\n\nExample 3:\nGherkin Step:\n\n    @Given( "Stakeholder logins" )\nGlue Code:\n    @Given( "Stakeholder logins" )\n    public void stakeholderLogins() {\n        webDriver.get( Utils.LOGIN_PAGE );\n        webDriver.findElement( By.id( "email" ) ).sendKeys( "stakeholder@test.com" );\n        webDriver.findElement( By.id( "password" ) ).sendKeys( "password" );\n        webDriver.findElement( By.id( "submit" ) ).click();\n    }\n\nExample 4:\nGherkin Step:\n\n    @Given( "Dashboard Stakeholder logins" )\nGlue Code:\n    @Given( "Dashboard Stakeholder logins" )\n    public void stakeholderLogins() {\n        webDriver.get( Utils.LOGIN_PAGE );\n        webDriver.findElement( By.id( "email" ) ).sendKeys( "stakeholder@test.com" );\n        webDriver.findElement( By.id( "password" ) ).sendKeys( "password" );\n        webDriver.findElement( By.id( "submit" ) ).click();\n    }\n\nExample 5:\nGherkin Step:\n\n    @Given( "Close Dashboard Stakeholder logins" )\nGlue Code:\n    @Given( "Close Dashboard Stakeholder logins" )\n    public void closeDashboardStakeholderLogins() {\n        webDriver.get( Utils.LOGIN_PAGE );\n        webDriver.manage().window().maximize();\n\n        webDriver.findElement( By.id( "email" ) ).sendKeys( stakeholder.getEmail() );\n        webDriver.findElement( By.id( "password" ) ).sendKeys( "password" );\n        webDriver.findElement( By.id( "submit" ) ).click();\n    }\n\nExample 6:\nGherkin Step:\n\n    @And( "Bidding Close Browser" )\nGlue Code:\n    @And( "Bidding Close Browser" )\n    public void biddingCloseBrowser() {\n        webDriver.close();\n    }\n\nExample 7:\nGherkin Step:\n\n    @Given("Proposal Freelancer logs in")\nGlue Code:\n    @Given("Proposal Freelancer logs in")\n    public void proposalFreelancerLogsIn() {\n        setUp();\n        proposalService.sendProposal(\n                ProposalDto\n                        .builder()\n                        .freelancerId( freelancer.getType().getId() )\n                        .projectId( project.getId() )\n                        .amount( 200 )\n                        .build()\n        );\n        var proposals = proposalRepository.findAll();\n        assertEquals( proposals.size(), 1 );\n\n        this.proposal = proposals.get( 0 );\n        emailRepository.deleteAll();\n        webDriver.manage().window().maximize();\n\n        webDriver.get( Utils.LOGIN_PAGE );\n        webDriver.findElement( By.id( "email" ) ).sendKeys( freelancer.getEmail() );\n        webDriver.findElement( By.id( "password" ) ).sendKeys( "password" );\n        webDriver.findElement( By.id( "submit" ) ).click();\n    }\n\nExample 8:\nGherkin Step:\n\n    @Then( "He Can See Each Freelancer Rating" )\nGlue Code:\n    @Then( "He Can See Each Freelancer Rating" )\n    public void heCanSeeEachFreelancerRating() {\n        assertDoesNotThrow( () -> webDriver.findElement( By.className( "rating" ) ) );\n        webDriver.close();\n    }\n\nExample 9:\nGherkin Step:\n\n    @Given( "User visits login page" )\nGlue Code:\n    @Given( "User visits login page" )\n    public void userVisitsLoginPage() {\n        webDriver.manage().window().maximize();\n        webDriver.get( Utils.LOGIN_PAGE );\n    }\n\nExample 10:\nGherkin Step:\n\n    @Given( "Admin visits users admin page" )\nGlue Code:\n    @Given( "Admin visits users admin page" )\n    public void adminVisitsUsersAdminPage() {\n        User user = Utils.getOrCreateTestUser( userService );\n\n        // setup user for this test (user must be disabled and have no emails)\n        user.setEnabled( false );\n        userRepository.save( user );\n        emailRepository.deleteAll( emailRepository.findAllByTo( user.getEmail() ) );\n\n        loginAsAdmin();\n\n        webDriver.get( Utils.USER_ADMIN_PANEL );\n    }\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n    @Given( "Bidding Freelancer logins" )\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:12,367 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7f0bcc9a0140> server_hostname='openrouter.ai' timeout=None
2025-09-23 02:45:12,373 - INFO - Generating glue code for step ID 432
2025-09-23 02:45:12,374 - DEBUG - connect_tcp.started host='openrouter.ai' port=443 local_address=None timeout=None socket_options=None
2025-09-23 02:45:12,374 - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f0bca16c490>
2025-09-23 02:45:12,375 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:12,377 - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f0bca16d150>
2025-09-23 02:45:12,380 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-fd32095b-430b-41cf-9c92-b2d4e5e98da1', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n    @Given("^I open application$")\nGlue Code:\n    public void iMOpenSite() {\n        openUrl(getDomain());\n    }\n\n    @Given("^I open \\"([^\\"]*)\\"(?: page|)$")\n    public void iOpen(String pageName) {\n\nExample 2:\nGherkin Step:\n\n    @Given("^I open \\"([^\\"]*)\\"(?: page|)$")\nGlue Code:\n    @Given("^I open \\"([^\\"]*)\\"(?: page|)$")\n    public void iOpen(String pageName) {\n        if (pageName.startsWith("http")) {\n            WebPage.openUrl(pageName);\n            return;\n        }\n        getPage(pageName).shouldBeOpened();\n    }\n\nExample 3:\nGherkin Step:\n\n    @Given("^I open \\"([^\\"]*)\\"(?: page|) with params \\"([^\\"]*)\\"$")\nGlue Code:\n    @Given("^I open \\"([^\\"]*)\\"(?: page|) with params \\"([^\\"]*)\\"$")\n    public void iMOpenParams(String pageName, Object params) {\n        getPage(pageName).shouldBeOpened(params);\n    }\n\nExample 4:\nGherkin Step:\n\n    @When("^I try to upload file \\"([^\\"]*)\\" by \\"([^\\"]*)\\" file input element$")\nGlue Code:\n    @When("^I try to upload file \\"([^\\"]*)\\" by \\"([^\\"]*)\\" file input element$")\n    public void iTryToUploadFileByFileInputElement(String pathToFile, String elementName) {\n        FileInput fileInput = getUI(elementName, FileInput.class);\n        try {\n            fileInput.uploadFile(mergePath(COMMON.projectPath, pathToFile));\n            fail("Can\'t upload file in disabled FileInput");\n        } catch (Exception ex) {\n            assertTrue(ex.getLocalizedMessage().contains("FileInput \'Disabled File Input\' is disabled. Can\'t upload file"));\n        }\n    }\n\nExample 5:\nGherkin Step:\n    @When("^I select \\"([^\\"]*)\\" disabled option \\"([^\\"]*)\\"")\nGlue Code:\n    public void iSelectDisabled(String name, String option) {\n        try {\n            iCheckCheckBox(name, option);\n            fail("Select disabled should throw exception");\n        } catch (Exception ignore) {}\n\nExample 6:\nGherkin Step:\n    @When("^(?:I |)refresh webpage$")\nGlue Code:\n    public void refreshWebpage() {\n        WebPage.refresh();\n    }\n\n    @When("^(?:I |)click on \\"([^\\"]*)\\"$")\n    public void click(String name) {\n\nExample 7:\nGherkin Step:\n\n    @When("^(?:I |)click on \\"([^\\"]*)\\"$")\nGlue Code:\n    @When("^(?:I |)click on \\"([^\\"]*)\\"$")\n    public void click(String name) {\n        getUI(name, IClickable.class).click();\n    }\n\nExample 8:\nGherkin Step:\n\n    @When("^(?:I |)send keys \\"([^\\"]*)\\" to \\"([^\\"]*)\\"$")\nGlue Code:\n    @When("^(?:I |)send keys \\"([^\\"]*)\\" to \\"([^\\"]*)\\"$")\n    public void sendKeys(String value, String name) {\n        input(name).sendKeys(value);\n    }\n\nExample 9:\nGherkin Step:\n\n    @When("^(?:I |)check \\"([^\\"]*)\\"$")\nGlue Code:\n    @When("^(?:I |)check \\"([^\\"]*)\\"$")\n    public void check(String name) {\n        getUI(name, HasCheck.class).check();\n    }\n\nExample 10:\nGherkin Step:\n\n    @When("^(?:I |)uncheck \\"([^\\"]*)\\"$")\nGlue Code:\n    @When("^(?:I |)uncheck \\"([^\\"]*)\\"$")\n    public void uncheck(String name) {\n        getUI(name, HasCheck.class).uncheck();\n    }\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n    @Given("^I should be logged in$")\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:12,381 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:12,381 - INFO - Generating glue code for step ID 607
2025-09-23 02:45:12,382 - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f0bca16e650>
2025-09-23 02:45:12,382 - DEBUG - connect_tcp.started host='openrouter.ai' port=443 local_address=None timeout=None socket_options=None
2025-09-23 02:45:12,382 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:12,383 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:12,384 - DEBUG - send_request_headers.complete
2025-09-23 02:45:12,385 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:12,388 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-b02eb18c-37b9-4d70-afd5-b49509e8f100', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n    @Given("^an empty graph$")\nGlue Code:\n    @Given("^an empty graph$")\n    public void givenEmptyGraph() {\n        createGraph();\n    }\n\nExample 2:\nGherkin Step:\n\n    @Given("^the binary-tree-(\\\\d+) graph$")\nGlue Code:\n    @Given("^the binary-tree-(\\\\d+) graph$")\n    public void givenTheBinaryTreeGraph(int number) throws Throwable {\n        createGraph();\n        String resourceName = String.format("/org/vertexium/cypher/tck/graphs/binary-tree-%d/binary-tree-%d.cypher", number, number);\n        InputStream treeIn = this.getClass().getResourceAsStream(resourceName);\n        if (treeIn == null) {\n            throw new VertexiumException("Could not find \'" + resourceName + "\'");\n        }\n        String cyp = IOUtils.toString(treeIn);\n        CypherCompilerContext compilerContext = new CypherCompilerContext(ctx.getFunctions());\n        VertexiumCypherQuery.parse(compilerContext, cyp).execute(ctx);\n    }\n\nExample 3:\nGherkin Step:\n\n    @Given("^parameters are:$")\nGlue Code:\n    @Given("^parameters are:$")\n    public void givenParametersAre(DataTable parameters) {\n        for (List<String> parameterRow : parameters.raw()) {\n            String key = parameterRow.get(0);\n            String valueString = parameterRow.get(1);\n            Object value = parseParameterValue(valueString);\n            ctx.setParameter(key, value);\n        }\n    }\n\nExample 4:\nGherkin Step:\n\n    @When("^executing(.*)query:$")\nGlue Code:\n    @When("^executing(.*)query:$")\n    public void whenExecutingQuery(String queryName, String queryString) {\n        ctx.clearCounts();\n        lastResultRows = null;\n        lastResultColumnNames = null;\n        lastCompileTimeException = null;\n        lastRuntimeException = null;\n        try {\n            CypherCompilerContext compilerContext = new CypherCompilerContext(ctx.getFunctions());\n            query = VertexiumCypherQuery.parse(compilerContext, queryString);\n            try {\n                VertexiumCypherResult results = query.execute(ctx);\n                lastResultRows = results\n                    .peek(row -> {\n                        try {\n                            Map<String, Object> scope = row.popScope();\n                            throw new VertexiumCypherException("Scope should be empty:\\n"\n                                + scope.entrySet().stream().map(e -> e.getKey() + ": " + e.getValue()).collect(Collectors.joining("\\n"))\n                            );\n                        } catch (Exception ex) {\n                            // OK\n                        }\n                    })\n                    .collect(Collectors.toList());\n                lastResultColumnNames = results.getColumnNames();\n            } catch (Exception ex) {\n                lastRuntimeException = ex;\n            }\n        } catch (Exception ex) {\n            lastCompileTimeException = ex;\n        }\n    }\n\nExample 5:\nGherkin Step:\n\n    @Given("^having executed:$")\nGlue Code:\n    @Given("^having executed:$")\n    public void givenHavingExecuted(String queryString) {\n        CypherCompilerContext compilerContext = new CypherCompilerContext(ctx.getFunctions());\n        VertexiumCypherQuery.parse(compilerContext, queryString).execute(ctx).count();\n    }\n\nExample 6:\nGherkin Step:\n\n    @Then("^the result should be, in order:$")\nGlue Code:\n    @Then("^the result should be, in order:$")\n    public void thenTheResultShouldBeInOrder(DataTable expected) throws Throwable {\n        thenTheResultShouldBe(expected);\n    }\n\nExample 7:\nGherkin Step:\n\n    @Then("^the result should be \\\\(ignoring element order for lists\\\\):$")\nGlue Code:\n    @Then("^the result should be \\\\(ignoring element order for lists\\\\):$")\n    public void thenTheResultShouldBeIgnoringElementOrderForLists(DataTable expected) throws Throwable {\n        thenTheResultShouldBe(expected);\n    }\n\nExample 8:\nGherkin Step:\n\n    @Then("^the result should be:$")\nGlue Code:\n    @Then("^the result should be:$")\n    public void thenTheResultShouldBe(DataTable expected) throws Throwable {\n        if (lastCompileTimeException != null) {\n            throw lastCompileTimeException;\n        }\n        if (lastRuntimeException != null) {\n            throw lastRuntimeException;\n        }\n        List<String> columnNames = expected.raw().get(0);\n        if (expected.raw().size() > 0) {\n            List<List<String>> expectedRows = expected.raw().stream()\n                .skip(1)\n                .collect(Collectors.toList());\n            List<List<String>> foundRows = lastResultRows.stream()\n                .map(row -> lastResultColumnNames.stream()\n                    .map(row::get)\n                    .map(obj -> ctx.getResultWriter().columnValueToString(ctx, obj))\n                    .collect(Collectors.toList())\n                )\n                .collect(Collectors.toList());\n\n            expectedRows.sort(new RowComparator());\n            foundRows.sort(new RowComparator());\n\n            if (expectedRows.size() > 0) {\n                System.out.println("Expected");\n                System.out.println(String.join(", ", expected.raw().get(0)));\n                for (List<String> expectedRow : expectedRows) {\n                    System.out.println(String.join(", ", expectedRow));\n                }\n            }\n\n            System.out.println("Found");\n            System.out.println(String.join(", ", lastResultColumnNames));\n            for (List<String> foundRow : foundRows) {\n                System.out.println(String.join(", ", foundRow));\n            }\n\n            if (expectedRows.size() > 0) {\n                assertEquals(\n                    String.format(\n                        "Header count, expected (%s), found (%s)",\n                        String.join(", ", expected.raw().get(0)),\n                        String.join(", ", lastResultColumnNames)\n                    ),\n                    expected.raw().get(0).size(),\n                    lastResultColumnNames.size()\n                );\n                for (int colIdx = 0; colIdx < expected.raw().get(0).size(); colIdx++) {\n                    String expectedColumnName = expected.raw().get(0).get(colIdx);\n                    assertTrue(\n                        String.format(\n                            "Header mismatch (expected: %s, columnNames: %s)",\n                            expectedColumnName,\n                            String.join(", ", lastResultColumnNames)\n                        ),\n                        lastResultColumnNames.contains(expectedColumnName)\n                    );\n                }\n            }\n\n            assertEquals("result count", expectedRows.size(), foundRows.size());\n\n            if (expectedRows.size() > 0) {\n                for (int row = 0; row < expectedRows.size(); row++) {\n                    List<String> expectedRow = expectedRows.get(row);\n                    List<String> foundRow = foundRows.get(row);\n                    for (int col = 0; col < expectedRow.size(); col++) {\n                        String expectedColumn = expectedRow.get(col);\n                        String foundColumn = foundRow.get(col);\n                        assertColumnValue(row, col, expectedColumn, foundColumn);\n                    }\n                }\n            }\n        }\n    }\n\nExample 9:\nGherkin Step:\n\n    @Then("^a (.*) should be raised at compile time: (.*)$")\nGlue Code:\n    @Then("^a (.*) should be raised at compile time: (.*)$")\n    public void thenASyntaxErrorShouldBeRaisedAtCompileTime(String errorType, String error) {\n        Exception ex = this.lastCompileTimeException;\n        if (ex == null) {\n            if (lastRuntimeException != null) {\n                lastRuntimeException.printStackTrace();\n                // TODO do we care?\n                LOGGER.warn("statement should have resulted in a compile time exception, but resulted in a runtime exception");\n                ex = lastRuntimeException;\n            } else {\n                Assume.assumeTrue("statement should have resulted in a compile time exception", false);\n            }\n        }\n        if (!ex.getClass().getName().contains(errorType)) {\n            ex.printStackTrace();\n            // TODO do we care?\n            LOGGER.warn("exception type should contain \\"" + errorType + "\\", but only contained \\"" + ex.getClass().getName() + "\\": " + ex);\n        }\n        if (ex.getMessage() == null || !ex.getMessage().contains(error)) {\n            ex.printStackTrace();\n            // TODO do we care?\n            LOGGER.warn("exception should contain \\"" + error + "\\", but only contained \\"" + ex.getMessage() + "\\"");\n        }\n    }\n\nExample 10:\nGherkin Step:\n\n    @Then("^a (.*) should be raised at runtime: (.*)$")\nGlue Code:\n    @Then("^a (.*) should be raised at runtime: (.*)$")\n    public void thenATypeErrorShouldBeRaisedAtRuntime(String errorType, String error) {\n        if (lastRuntimeException == null) {\n            if (lastCompileTimeException != null) {\n                LOGGER.error("compile time exception", lastCompileTimeException);\n                fail("statement should have resulted in a runtime exception, but resulted in a compile time exception");\n            } else {\n                fail("statement should have resulted in a runtime exception");\n            }\n        }\n        if (!lastRuntimeException.getClass().getName().contains(errorType)) {\n            lastRuntimeException.printStackTrace();\n            // TODO do we care?\n            LOGGER.warn("exception type should contain \\"" + errorType + "\\", but only contained \\"" + lastRuntimeException.getClass().getName() + "\\": " + lastRuntimeException);\n        }\n        if (!lastRuntimeException.getMessage().contains(error)) {\n            lastRuntimeException.printStackTrace();\n            // TODO do we care?\n            LOGGER.warn("exception should contain \\"" + error + "\\", but only contained \\"" + lastRuntimeException.getMessage() + "\\"");\n        }\n    }\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n    @Given("^any graph$")\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:12,388 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f0bca055a20>
2025-09-23 02:45:12,389 - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f0bca16dc30>
2025-09-23 02:45:12,390 - DEBUG - send_request_headers.complete
2025-09-23 02:45:12,391 - INFO - Generating glue code for step ID 62
2025-09-23 02:45:12,392 - DEBUG - connect_tcp.started host='openrouter.ai' port=443 local_address=None timeout=None socket_options=None
2025-09-23 02:45:12,392 - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f0bca16f8b0>
2025-09-23 02:45:12,392 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:12,393 - DEBUG - send_request_headers.complete
2025-09-23 02:45:12,394 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:12,394 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7f0bcc9a0140> server_hostname='openrouter.ai' timeout=None
2025-09-23 02:45:12,394 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:12,395 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:12,399 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-e97410d2-f32c-43a7-bf77-4a647f31c9a1', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n    @Given("a library, containing (only one )book(s) with isbn(s) {string}")\nGlue Code:\n    @Given("a library, containing (only one )book(s) with isbn(s) {string}")\n    public void createLibraryWithSingleBookWithGivenIsbn(String isbns) {\n        emptyLibrary();\n        List<Book> newBooks = createNewBooksByISBNS(isbns);\n        newBooks.stream().forEach(book -> storyContext.putObject("LAST_INSERTED_BOOK", book));\n        storyContext.putObject("LAST_INSERTED_BOOKS", newBooks);\n\n\n//    Book book = DemoBookFactory.createDemoBook().withISBN(isbn).build();\n//    Optional<Book> createdBook =\n//        bookService.createBook(\n//            new BookParameter(\n//                book.getTitle(),\n//                book.getAuthor(),\n//                book.getEdition(),\n//                book.getIsbn(),\n//                book.getYearOfPublication(),\n//                book.getDescription()));\n//    createdBook.ifPresent(b -> storyContext.putObject("LAST_INSERTED_BOOK", b));\n    }\n\nExample 2:\nGherkin Step:\n\n\n    @Given("{string} has borrowed book(s) {string}")\nGlue Code:\n\n    @Given("{string} has borrowed book(s) {string}")\n\nExample 3:\nGherkin Step:\n\n    @Given("{string} has borrowed books {string} on {date}")\nGlue Code:\n    @Given("{string} has borrowed books {string} on {date}")\n    public void has_borrowed_books_on(String borrower, String isbns, LocalDate borrowDate) {\n        List<Book> books = (List<Book>) storyContext.getObject("LAST_INSERTED_BOOKS");\n        Splitter.on(" ").omitEmptyStrings().splitToList(isbns).stream().forEach(isbn -> {\n            Book bookToBeBorrowed = books.stream()\n                                        .filter(book -> book.getIsbn().equals(isbn))\n                                        .findFirst().orElseThrow();\n\n            LocalDate date = borrowDate.atStartOfDay(ZoneId.systemDefault()).toLocalDate();\n\n            Borrowing newBorrowing = new Borrowing(bookToBeBorrowed, borrower, date);\n            borrowingRepository.save(newBorrowing);\n\n            bookToBeBorrowed.setBorrowing(newBorrowing);\n            bookRepository.save(bookToBeBorrowed);\n        });\n    }\n\nExample 4:\nGherkin Step:\n\n    @Then("the library contains {long} books")\nGlue Code:\n    @Then("the library contains {long} books")\n    public void shouldContainNumberOfBooks(long books) {\n        assertThat(bookRepository.count(), is(books));\n    }\n\nExample 5:\nGherkin Step:\n\n    @Then("the library contains {int} book(s) with {string}")\nGlue Code:\n    @Then("the library contains {int} book(s) with {string}")\n    public void shouldContainNumberOfBooksWithISBN(int books, String isbn) {\n        if (isbn.isEmpty()) return;\n        assertThat(bookRepository.findByIsbn(isbn).size(), is(books));\n    }\n\nExample 6:\nGherkin Step:\n\n    @Then("the library still contains all borrowed books {string}")\nGlue Code:\n    @Then("the library still contains all borrowed books {string}")\n    public void shouldContainOneCopyOf(String isbn) {\n        if (isbn.isEmpty()) return;\n        assertThat(bookRepository.findByIsbn(isbn).size(), is(1));\n    }\n\nExample 7:\nGherkin Step:\n\n    @Then("the new book {string} be added")\nGlue Code:\n    @Then("the new book {string} be added")\n    public void shouldNotHaveCreatedANewCopy(String can) {\n        Book lastInsertedBook = (Book) storyContext.getObject("LAST_INSERTED_BOOK");\n        int numberOfCopies = "CAN".equals(can) ? 2 : 1;\n        assertNumberOfCopies(lastInsertedBook.getIsbn(), numberOfCopies);\n    }\n\nExample 8:\nGherkin Step:\n\n  @When("I navigate to the detail page of the book with the isbn {string}")\nGlue Code:\n  @When("I navigate to the detail page of the book with the isbn {string}")\n  public void navigateToDetailPage(String isbn) {\n    seleniumAdapter.clickOnPageElementByClassName("detailsLink-" + isbn);\n    storyContext.put("LAST_BROWSED_BOOK_DETAILS", isbn);\n  }\n\nExample 9:\nGherkin Step:\n\n  @When("a librarian removes book(s) {string}")\nGlue Code:\n  @When("a librarian removes book(s) {string}")\n  public void a_librarian_removes_book(String isbn) {\n    seleniumAdapter.gotoPageWithParameter(Page.REMOVEBOOK, isbn);\n//    seleniumAdapter.clickOnPageElementById(PageElement.REMOVE_BOOK_BUTTON);\n  }\n\nExample 10:\nGherkin Step:\n\n  @Then("I can see all book details for that book")\nGlue Code:\n  @Then("I can see all book details for that book")\n  public void allBookDetailsVisible() {\n    String isbn = storyContext.get("LAST_BROWSED_BOOK_DETAILS");\n    Set<Book> books = bookService.findBooksByIsbn(isbn);\n    assertThat(books, hasSize(greaterThanOrEqualTo(1)));\n    Book book = books.iterator().next();\n    String description = book.getDescription();\n    assertThat(seleniumAdapter.containsTextOnPage(book.getIsbn()), is(true));\n    assertThat(seleniumAdapter.containsTextOnPage(book.getAuthor()), is(true));\n    assertThat(seleniumAdapter.containsTextOnPage(book.getTitle()), is(true));\n    assertThat(seleniumAdapter.containsTextOnPage(book.getEdition()), is(true));\n    assertThat(\n        seleniumAdapter.containsTextOnPage(String.valueOf(book.getYearOfPublication())), is(true));\n    Optional.ofNullable(description)\n        .ifPresent(desc -> assertThat(seleniumAdapter.containsTextOnPage(description), is(true)));\n  }\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n    @Given("an empty library")\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:12,399 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f0bca056f50>
2025-09-23 02:45:12,400 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:12,405 - DEBUG - send_request_body.complete
2025-09-23 02:45:12,405 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f0bca057640>
2025-09-23 02:45:12,407 - INFO - Generating glue code for step ID 248
2025-09-23 02:45:12,407 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:12,408 - DEBUG - connect_tcp.started host='openrouter.ai' port=443 local_address=None timeout=None socket_options=None
2025-09-23 02:45:12,408 - DEBUG - send_request_headers.complete
2025-09-23 02:45:12,409 - DEBUG - send_request_body.complete
2025-09-23 02:45:12,410 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:12,410 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7f0bcc9a0140> server_hostname='openrouter.ai' timeout=None
2025-09-23 02:45:12,411 - DEBUG - send_request_headers.complete
2025-09-23 02:45:12,411 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:12,411 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7f0bcc9a0140> server_hostname='openrouter.ai' timeout=None
2025-09-23 02:45:12,417 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-0785cc98-faa2-4e29-9ac1-1157ec33d8f9', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n    @Given("^starting an automation process \\"([^\\"]*)\\" with parameters: (.*)$")\nGlue Code:\n    @Given("^starting an automation process \\"([^\\"]*)\\" with parameters: (.*)$")\n    public void startingAnAutomationProcessWithParametersC(String arg0, String arg1) throws Throwable {\n        startingAnAutomationProcessWithParameters(arg0, arg1);\n    }\n\nExample 2:\nGherkin Step:\n\n    @Then("^for memory from \\"([^\\"]*)\\" to \\"([^\\"]*)\\" expect a write to \\"([^\\"]*)\\" with value \\"([^\\"]*)\\"$")\nGlue Code:\n    @Then("^for memory from \\"([^\\"]*)\\" to \\"([^\\"]*)\\" expect a write to \\"([^\\"]*)\\" with value \\"([^\\"]*)\\"$")\n    public void forMemoryBetweenAndExpectAWriteToWithValue(String startAddress, String endAddress, String toAddress, String value) throws Throwable {\n        int start = valueToInt(startAddress);\n        int end = valueToInt(endAddress);\n        int to = valueToInt(toAddress);\n        int ivalue = valueToInt(value);\n\n        machine.getRam().addExpectWrite(start, end, to, ivalue);\n    }\n\nExample 3:\nGherkin Step:\n\n    @When("^save 6502 memory with two byte header from \\"([^\\"]*)\\" to \\"([^\\"]*)\\" to file \\"([^\\"]*)\\"$")\nGlue Code:\n    @When("^save 6502 memory with two byte header from \\"([^\\"]*)\\" to \\"([^\\"]*)\\" to file \\"([^\\"]*)\\"$")\n    public void save_memory_with_two_byte_header_from_until_to_file(String startAddress, String endAddress, String filename) throws Throwable {\n        int start = valueToInt(PropertiesResolution.resolveInput(scenario,startAddress));\n        int end = valueToInt(PropertiesResolution.resolveInput(scenario,endAddress));\n\n        FileOutputStream fileOutputStream = FileUtils.openOutputStream(new File(PropertiesResolution.resolveInput(scenario, filename)));\n        fileOutputStream.write(start & 0xff);\n        fileOutputStream.write((start>>8) & 0xff);\n        for (int address = start ; address < end ; address++) {\n            int value = machine.getRam().read(address , false);\n            fileOutputStream.write(value);\n        }\n        fileOutputStream.close();\n    }\n\nExample 4:\nGherkin Step:\n\n    @Then("^for memory from \\"([^\\"]*)\\" to \\"([^\\"]*)\\" expect writes at \\"([^\\"]*)\\" with temporary memory$")\nGlue Code:\n    @Then("^for memory from \\"([^\\"]*)\\" to \\"([^\\"]*)\\" expect writes at \\"([^\\"]*)\\" with temporary memory$")\n    public void forMemoryFromToExpectWritesAtWithTemporaryMemory(String startAddress, String endAddress, String toAddress) throws Throwable {\n        int start = valueToInt(startAddress);\n        int end = valueToInt(endAddress);\n        int to = valueToInt(toAddress);\n\n        for (byte value : lastBinaryData) {\n            machine.getRam().addExpectWrite(start, end, to, value);\n            to++;\n        }\n\n\n    }\n\nExample 5:\nGherkin Step:\n\n    @Then("^property \\"([^\\"]*)\\" must contain string \\"([^\\"]*)\\"$")\nGlue Code:\n    @Then("^property \\"([^\\"]*)\\" must contain string \\"([^\\"]*)\\"$")\n    public void property_must_contain(String arg1, String arg2) throws Throwable {\n        arg1 = PropertiesResolution.resolveInput(scenario, arg1);\n        arg2 = PropertiesResolution.resolveInput(scenario, arg2);\n\n        assertThat(System.getProperty(arg1), containsString(arg2));\n    }\n\nExample 6:\nGherkin Step:\n\n    @When("^send remote monitor command \\"([^\\"]*)\\" \\"([^\\"]*)\\"$")\nGlue Code:\n    @When("^send remote monitor command \\"([^\\"]*)\\" \\"([^\\"]*)\\"$")\n    public void send_remote_monitor_command2(String command, String param) throws Throwable {\n        command += " $";\n        command += Integer.toHexString(valueToInt(param));\n        sendMonitorCommand(command);\n        waitMonitorReply();\n        getMonitorReply();\n    }\n\nExample 7:\nGherkin Step:\n\n    @When("^property \\"([^\\"]*)\\" is set to string \\"([^\\"]*)\\"$")\nGlue Code:\n    @When("^property \\"([^\\"]*)\\" is set to string \\"([^\\"]*)\\"$")\n    public void property_is_set_to(String arg1, String arg2) throws Throwable {\n        arg1 = PropertiesResolution.resolveInput(scenario, arg1);\n        arg2 = PropertiesResolution.resolveInput(scenario, arg2);\n\n        System.setProperty(arg1, arg2);\n        devicesUpdateProperties();\n    }\n\nExample 8:\nGherkin Step:\n\n    @Then("^property \\"([^\\"]*)\\" must contain string ignoring whitespace \\"([^\\"]*)\\"$")\nGlue Code:\n    @Then("^property \\"([^\\"]*)\\" must contain string ignoring whitespace \\"([^\\"]*)\\"$")\n    public void property_must_contain_ignoring_whitespace(String arg1, String arg2) throws Throwable {\n        arg1 = PropertiesResolution.resolveInput(scenario, arg1);\n        arg2 = PropertiesResolution.resolveInput(scenario, arg2);\n\n        assertThat(System.getProperty(arg1).replaceAll("\\\\s+", ""), containsString(arg2.replaceAll("\\\\s+", "")));\n    }\n\nExample 9:\nGherkin Step:\n\n    @Then("^expect image \\"([^\\"]*)\\" to be identical to \\"([^\\"]*)\\"$")\nGlue Code:\n    @Then("^expect image \\"([^\\"]*)\\" to be identical to \\"([^\\"]*)\\"$")\n    public void expectImageToBeIdenticalTo(String expectedFilename, String testFilename) throws Throwable {\n        BufferedImage expected = ImageIO.read(new File(expectedFilename));\n        BufferedImage test = ImageIO.read(new File(testFilename));\n        // Vice "scrsh" command seems to lock the output file for a while?\n        // So we will retry\n        if (expected == null) {\n            Thread.sleep(500);\n            expected = ImageIO.read(new File(expectedFilename));\n        }\n        if (test == null) {\n            Thread.sleep(500);\n            test = ImageIO.read(new File(testFilename));\n        }\n\n        assertThat("Images differ",bufferedImagesEqual(expected,test),is(true));\n    }\n\nExample 10:\nGherkin Step:\n    @Given("^connect to remote monitor at TCP \\"([^\\"]*)\\" port \\"([^\\"]*)\\"$")\nGlue Code:\n    public void connect_to_remote_monitor_at_TCP_port(String host, Integer port) throws Throwable {\n        remoteMonitor = new Socket(host, port);\n    }\n\n    int remoteMonitorTimeout = -1;\n    @Given ("^set monitor reply timeout and continue to \\"([^\\"]*)\\" seconds$")\n    public void setMonitorTimeoutToSeconds(String seconds) throws Throwable {\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n    @Given("^starting an automation process \\"([^\\"]*)\\" with parameters \\"([^\\"]*)\\"$")\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:12,417 - DEBUG - send_request_body.complete
2025-09-23 02:45:12,418 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:12,418 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:12,418 - DEBUG - connect_tcp.started host='openrouter.ai' port=443 local_address=None timeout=None socket_options=None
2025-09-23 02:45:12,419 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:12,421 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:12,421 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:12,421 - DEBUG - send_request_body.complete
2025-09-23 02:45:12,422 - DEBUG - send_request_body.complete
2025-09-23 02:45:12,423 - DEBUG - connect_tcp.started host='openrouter.ai' port=443 local_address=None timeout=None socket_options=None
2025-09-23 02:45:12,423 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:12,423 - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f0bca0559c0>
2025-09-23 02:45:12,423 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:12,424 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:12,425 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f0bcc48a8c0>
2025-09-23 02:45:12,425 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7f0bcc9a0140> server_hostname='openrouter.ai' timeout=None
2025-09-23 02:45:12,425 - DEBUG - send_request_headers.complete
2025-09-23 02:45:12,425 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:12,425 - DEBUG - send_request_body.complete
2025-09-23 02:45:12,426 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:12,428 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f0bca0dc3d0>
2025-09-23 02:45:12,429 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7f0bcc9a0140> server_hostname='openrouter.ai' timeout=None
2025-09-23 02:45:12,430 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f0bca0df760>
2025-09-23 02:45:12,430 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7f0bcc9a0140> server_hostname='openrouter.ai' timeout=None
2025-09-23 02:45:12,431 - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f0bca056ef0>
2025-09-23 02:45:12,431 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:12,432 - DEBUG - send_request_headers.complete
2025-09-23 02:45:12,432 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:12,432 - DEBUG - send_request_body.complete
2025-09-23 02:45:12,432 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:12,433 - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f0bca0dffa0>
2025-09-23 02:45:12,434 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:12,434 - DEBUG - send_request_headers.complete
2025-09-23 02:45:12,434 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:12,434 - DEBUG - send_request_body.complete
2025-09-23 02:45:12,435 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:12,440 - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f0baaf3c250>
2025-09-23 02:45:12,440 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:12,440 - DEBUG - send_request_headers.complete
2025-09-23 02:45:12,440 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:12,441 - DEBUG - send_request_body.complete
2025-09-23 02:45:12,441 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:12,443 - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f0baaf3c430>
2025-09-23 02:45:12,443 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:12,443 - DEBUG - send_request_headers.complete
2025-09-23 02:45:12,444 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:12,444 - DEBUG - send_request_body.complete
2025-09-23 02:45:12,444 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:12,445 - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f0baaf3c610>
2025-09-23 02:45:12,445 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:12,445 - DEBUG - send_request_headers.complete
2025-09-23 02:45:12,445 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:12,446 - DEBUG - send_request_body.complete
2025-09-23 02:45:12,446 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:12,892 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:12 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b46098a2bec2-YYC')])
2025-09-23 02:45:12,894 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:12,896 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:12,951 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:12 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b460ceab4214-YYC')])
2025-09-23 02:45:12,952 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:12,952 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:12,995 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:12 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b460be0901d4-YYC')])
2025-09-23 02:45:12,996 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:12,996 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:13,010 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:13 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b4607e76420e-YYC')])
2025-09-23 02:45:13,010 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:13,010 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:13,053 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:13 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b460bfa301dc-YYC')])
2025-09-23 02:45:13,054 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:13,054 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:13,128 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:13 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b46099f6bf01-YYC')])
2025-09-23 02:45:13,129 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:13,129 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:13,188 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:13 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b460ce62bee8-YYC')])
2025-09-23 02:45:13,189 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:13,189 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:13,276 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:13 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b460aae0bed1-YYC')])
2025-09-23 02:45:13,277 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:13,277 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:13,347 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:13 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b46069fc01e4-YYC')])
2025-09-23 02:45:13,347 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:13,348 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:13,362 - DEBUG - receive_response_body.complete
2025-09-23 02:45:13,362 - DEBUG - response_closed.started
2025-09-23 02:45:13,362 - DEBUG - response_closed.complete
2025-09-23 02:45:13,362 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:12 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b460be0901d4-YYC'})
2025-09-23 02:45:13,363 - DEBUG - request_id: None
2025-09-23 02:45:13,380 - INFO - Generated glue code: 
```java
@Given("^I should be logged in$")
public void iShouldBeLoggedIn() {
    assertTrue(Auth.isLoggedIn(), "User is not logged in");
}
```
2025-09-23 02:45:13,388 - INFO - Step ID 432 CodeBLEU: {'codebleu': 0.5894238457101263, 'ngram_match_score': 0.16912805171479348, 'weighted_ngram_match_score': 0.20130088157694537, 'syntax_match_score': 0.38095238095238093, 'dataflow_match_score': 0.0}
2025-09-23 02:45:13,388 - INFO - Generating glue code for step ID 433
2025-09-23 02:45:13,392 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-8ba56caf-ca5c-444a-8062-4e9266a0c217', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n    @When("^I upload file \\"([^\\"]*)\\" by \\"([^\\"]*)\\" file input element$")\nGlue Code:\n    @When("^I upload file \\"([^\\"]*)\\" by \\"([^\\"]*)\\" file input element$")\n    public void iUploadFileByFileInputElement(String pathToFile, String name) {\n        fileInput(name).uploadFile(mergePath(COMMON.projectPath, pathToFile));\n    }\n\nExample 2:\nGherkin Step:\n    @When("^I set \\"([^\\"]*)\\" to \\"([^\\"]*)\\" color$")\nGlue Code:\n    public void preSetColor(String name, String color) {\n        colorPicker(name).setColor(color);\n    }\n\n    @Then("^the \\"([^\\"]*)\\" has color \\"([^\\"]*)\\"$")\n    public void hasColor(String name, String color) {\n\nExample 3:\nGherkin Step:\n\n    @When("^(?:I |)set \\"([^\\"]*)\\" attribute \\"([^\\"]*)\\" with value \\"([^\\"]*)\\" element$")\nGlue Code:\n    @When("^(?:I |)set \\"([^\\"]*)\\" attribute \\"([^\\"]*)\\" with value \\"([^\\"]*)\\" element$")\n    public void setAttribute(String name, String attrName, String attrValue) {\n        core(name).setAttribute(attrName, attrValue);\n    }\n\nExample 4:\nGherkin Step:\n    @When("^I select \\"([^\\"]*)\\" disabled option \\"([^\\"]*)\\"")\nGlue Code:\n    public void iSelectDisabled(String name, String option) {\n        try {\n            iCheckCheckBox(name, option);\n            fail("Select disabled should throw exception");\n        } catch (Exception ignore) {}\n\nExample 5:\nGherkin Step:\n\n    @When("^(?:I |)check in \\"([^\\"]*)\\" checklist elements by numbers:$")\nGlue Code:\n    @When("^(?:I |)check in \\"([^\\"]*)\\" checklist elements by numbers:$")\n    public static void iCheckElementsByNumbers(String name, DataTable values) {\n        List<Integer> intValues = values.values().stream().map(Integer::parseInt).collect(Collectors.toList());\n        checklist(name).check(toIntArray(intValues));\n    }\n\nExample 6:\nGherkin Step:\n\n    @When("^(?:I |)uncheck in \\"([^\\"]*)\\" checklist elements by numbers:$")\nGlue Code:\n    @When("^(?:I |)uncheck in \\"([^\\"]*)\\" checklist elements by numbers:$")\n    public static void iUncheckCheckBoxesByNumbers(String name, DataTable values) {\n        List<Integer> intValues = values.values().stream().map(Integer::parseInt).collect(Collectors.toList());\n        checklist(name).uncheck(toIntArray(intValues));\n    }\n\nExample 7:\nGherkin Step:\n\n    @When("^(?:I |)select elements in \\"([^\\"]*)\\" checklist by numbers:$")\nGlue Code:\n    @When("^(?:I |)select elements in \\"([^\\"]*)\\" checklist by numbers:$")\n    public static void iSelectCheckBoxesByNumbers(String name, DataTable values) {\n        List<Integer> intValues = values.values().stream().map(Integer::parseInt).collect(Collectors.toList());\n        checklist(name).select(toIntArray(intValues));\n    }\n\nExample 8:\nGherkin Step:\n\n    @When("^(?:I |)check in the \\"([^\\"]*)\\" values by number:$")\nGlue Code:\n    @When("^(?:I |)check in the \\"([^\\"]*)\\" values by number:$")\n    public void iCheckInTheValuesByNumber(String name, DataTable values) {\n        List<Integer> intValues = values.values().stream().map(Integer::parseInt).collect(Collectors.toList());\n        multiDropDown(name).check(toIntArray(intValues));\n    }\n\nExample 9:\nGherkin Step:\n\n    @Then("^the \\"([^\\"]*)\\" attribute \\"([^\\"]*)\\" equals to \\"([^\\"]*)\\"$")\nGlue Code:\n    @Then("^the \\"([^\\"]*)\\" attribute \\"([^\\"]*)\\" equals to \\"([^\\"]*)\\"$")\n    public void attributeEquals(String name, String attrName, String attrValue) {\n        isAssert(name).attr(attrName, attrValue);\n    }\n\nExample 10:\nGherkin Step:\n\n    @Then("^the \\"([^\\"]*)\\" attribute \\"([^\\"]*)\\" matches to \\"([^\\"]*)\\"$")\nGlue Code:\n    @Then("^the \\"([^\\"]*)\\" attribute \\"([^\\"]*)\\" matches to \\"([^\\"]*)\\"$")\n    public void attributeMatchRegex(String name, String attrName, String regex) {\n        isAssert(name).attr(attrName, matchesPattern(regex));\n    }\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n    @When("^I try to upload file \\"([^\\"]*)\\" by \\"([^\\"]*)\\" file input element$")\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:13,393 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:13,394 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:13,394 - DEBUG - send_request_headers.complete
2025-09-23 02:45:13,394 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:13,394 - DEBUG - send_request_body.complete
2025-09-23 02:45:13,395 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:13,398 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:13 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b4607f9401de-YYC')])
2025-09-23 02:45:13,399 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:13,399 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:13,404 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:13 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b460c97c01e2-YYC')])
2025-09-23 02:45:13,405 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:13,406 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:13,482 - DEBUG - receive_response_body.complete
2025-09-23 02:45:13,482 - DEBUG - response_closed.started
2025-09-23 02:45:13,483 - DEBUG - response_closed.complete
2025-09-23 02:45:13,483 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:13 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b460ce62bee8-YYC'})
2025-09-23 02:45:13,483 - DEBUG - request_id: None
2025-09-23 02:45:13,485 - INFO - Generated glue code: 
```java
@Given("^any graph$")
public void givenAnyGraph() {
    createGraph();
}
```
2025-09-23 02:45:13,487 - WARNING - WARNING: There is no reference data-flows extracted from the whole corpus, and the data-flow match score degenerates to 0. Please consider ignoring this score.
2025-09-23 02:45:13,487 - INFO - Step ID 607 CodeBLEU: {'codebleu': 0.8668926594742502, 'ngram_match_score': 0.7598356856515925, 'weighted_ngram_match_score': 1.0, 'syntax_match_score': 0.7272727272727273, 'dataflow_match_score': 0}
2025-09-23 02:45:13,487 - INFO - Generating glue code for step ID 608
2025-09-23 02:45:13,491 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-87808dbd-0110-429e-8b11-1da456c966e0', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n    @Given("^any graph$")\nGlue Code:\n    @Given("^any graph$")\n    public void givenAnyGraph() {\n        createGraph();\n    }\n\nExample 2:\nGherkin Step:\n\n    @Given("^the binary-tree-(\\\\d+) graph$")\nGlue Code:\n    @Given("^the binary-tree-(\\\\d+) graph$")\n    public void givenTheBinaryTreeGraph(int number) throws Throwable {\n        createGraph();\n        String resourceName = String.format("/org/vertexium/cypher/tck/graphs/binary-tree-%d/binary-tree-%d.cypher", number, number);\n        InputStream treeIn = this.getClass().getResourceAsStream(resourceName);\n        if (treeIn == null) {\n            throw new VertexiumException("Could not find \'" + resourceName + "\'");\n        }\n        String cyp = IOUtils.toString(treeIn);\n        CypherCompilerContext compilerContext = new CypherCompilerContext(ctx.getFunctions());\n        VertexiumCypherQuery.parse(compilerContext, cyp).execute(ctx);\n    }\n\nExample 3:\nGherkin Step:\n\n    @Given("^parameters are:$")\nGlue Code:\n    @Given("^parameters are:$")\n    public void givenParametersAre(DataTable parameters) {\n        for (List<String> parameterRow : parameters.raw()) {\n            String key = parameterRow.get(0);\n            String valueString = parameterRow.get(1);\n            Object value = parseParameterValue(valueString);\n            ctx.setParameter(key, value);\n        }\n    }\n\nExample 4:\nGherkin Step:\n\n    @When("^executing(.*)query:$")\nGlue Code:\n    @When("^executing(.*)query:$")\n    public void whenExecutingQuery(String queryName, String queryString) {\n        ctx.clearCounts();\n        lastResultRows = null;\n        lastResultColumnNames = null;\n        lastCompileTimeException = null;\n        lastRuntimeException = null;\n        try {\n            CypherCompilerContext compilerContext = new CypherCompilerContext(ctx.getFunctions());\n            query = VertexiumCypherQuery.parse(compilerContext, queryString);\n            try {\n                VertexiumCypherResult results = query.execute(ctx);\n                lastResultRows = results\n                    .peek(row -> {\n                        try {\n                            Map<String, Object> scope = row.popScope();\n                            throw new VertexiumCypherException("Scope should be empty:\\n"\n                                + scope.entrySet().stream().map(e -> e.getKey() + ": " + e.getValue()).collect(Collectors.joining("\\n"))\n                            );\n                        } catch (Exception ex) {\n                            // OK\n                        }\n                    })\n                    .collect(Collectors.toList());\n                lastResultColumnNames = results.getColumnNames();\n            } catch (Exception ex) {\n                lastRuntimeException = ex;\n            }\n        } catch (Exception ex) {\n            lastCompileTimeException = ex;\n        }\n    }\n\nExample 5:\nGherkin Step:\n\n    @Given("^having executed:$")\nGlue Code:\n    @Given("^having executed:$")\n    public void givenHavingExecuted(String queryString) {\n        CypherCompilerContext compilerContext = new CypherCompilerContext(ctx.getFunctions());\n        VertexiumCypherQuery.parse(compilerContext, queryString).execute(ctx).count();\n    }\n\nExample 6:\nGherkin Step:\n\n    @Then("^the result should be, in order:$")\nGlue Code:\n    @Then("^the result should be, in order:$")\n    public void thenTheResultShouldBeInOrder(DataTable expected) throws Throwable {\n        thenTheResultShouldBe(expected);\n    }\n\nExample 7:\nGherkin Step:\n\n    @Then("^the result should be \\\\(ignoring element order for lists\\\\):$")\nGlue Code:\n    @Then("^the result should be \\\\(ignoring element order for lists\\\\):$")\n    public void thenTheResultShouldBeIgnoringElementOrderForLists(DataTable expected) throws Throwable {\n        thenTheResultShouldBe(expected);\n    }\n\nExample 8:\nGherkin Step:\n\n    @Then("^the result should be:$")\nGlue Code:\n    @Then("^the result should be:$")\n    public void thenTheResultShouldBe(DataTable expected) throws Throwable {\n        if (lastCompileTimeException != null) {\n            throw lastCompileTimeException;\n        }\n        if (lastRuntimeException != null) {\n            throw lastRuntimeException;\n        }\n        List<String> columnNames = expected.raw().get(0);\n        if (expected.raw().size() > 0) {\n            List<List<String>> expectedRows = expected.raw().stream()\n                .skip(1)\n                .collect(Collectors.toList());\n            List<List<String>> foundRows = lastResultRows.stream()\n                .map(row -> lastResultColumnNames.stream()\n                    .map(row::get)\n                    .map(obj -> ctx.getResultWriter().columnValueToString(ctx, obj))\n                    .collect(Collectors.toList())\n                )\n                .collect(Collectors.toList());\n\n            expectedRows.sort(new RowComparator());\n            foundRows.sort(new RowComparator());\n\n            if (expectedRows.size() > 0) {\n                System.out.println("Expected");\n                System.out.println(String.join(", ", expected.raw().get(0)));\n                for (List<String> expectedRow : expectedRows) {\n                    System.out.println(String.join(", ", expectedRow));\n                }\n            }\n\n            System.out.println("Found");\n            System.out.println(String.join(", ", lastResultColumnNames));\n            for (List<String> foundRow : foundRows) {\n                System.out.println(String.join(", ", foundRow));\n            }\n\n            if (expectedRows.size() > 0) {\n                assertEquals(\n                    String.format(\n                        "Header count, expected (%s), found (%s)",\n                        String.join(", ", expected.raw().get(0)),\n                        String.join(", ", lastResultColumnNames)\n                    ),\n                    expected.raw().get(0).size(),\n                    lastResultColumnNames.size()\n                );\n                for (int colIdx = 0; colIdx < expected.raw().get(0).size(); colIdx++) {\n                    String expectedColumnName = expected.raw().get(0).get(colIdx);\n                    assertTrue(\n                        String.format(\n                            "Header mismatch (expected: %s, columnNames: %s)",\n                            expectedColumnName,\n                            String.join(", ", lastResultColumnNames)\n                        ),\n                        lastResultColumnNames.contains(expectedColumnName)\n                    );\n                }\n            }\n\n            assertEquals("result count", expectedRows.size(), foundRows.size());\n\n            if (expectedRows.size() > 0) {\n                for (int row = 0; row < expectedRows.size(); row++) {\n                    List<String> expectedRow = expectedRows.get(row);\n                    List<String> foundRow = foundRows.get(row);\n                    for (int col = 0; col < expectedRow.size(); col++) {\n                        String expectedColumn = expectedRow.get(col);\n                        String foundColumn = foundRow.get(col);\n                        assertColumnValue(row, col, expectedColumn, foundColumn);\n                    }\n                }\n            }\n        }\n    }\n\nExample 9:\nGherkin Step:\n\n    @Then("^a (.*) should be raised at compile time: (.*)$")\nGlue Code:\n    @Then("^a (.*) should be raised at compile time: (.*)$")\n    public void thenASyntaxErrorShouldBeRaisedAtCompileTime(String errorType, String error) {\n        Exception ex = this.lastCompileTimeException;\n        if (ex == null) {\n            if (lastRuntimeException != null) {\n                lastRuntimeException.printStackTrace();\n                // TODO do we care?\n                LOGGER.warn("statement should have resulted in a compile time exception, but resulted in a runtime exception");\n                ex = lastRuntimeException;\n            } else {\n                Assume.assumeTrue("statement should have resulted in a compile time exception", false);\n            }\n        }\n        if (!ex.getClass().getName().contains(errorType)) {\n            ex.printStackTrace();\n            // TODO do we care?\n            LOGGER.warn("exception type should contain \\"" + errorType + "\\", but only contained \\"" + ex.getClass().getName() + "\\": " + ex);\n        }\n        if (ex.getMessage() == null || !ex.getMessage().contains(error)) {\n            ex.printStackTrace();\n            // TODO do we care?\n            LOGGER.warn("exception should contain \\"" + error + "\\", but only contained \\"" + ex.getMessage() + "\\"");\n        }\n    }\n\nExample 10:\nGherkin Step:\n\n    @Then("^a (.*) should be raised at runtime: (.*)$")\nGlue Code:\n    @Then("^a (.*) should be raised at runtime: (.*)$")\n    public void thenATypeErrorShouldBeRaisedAtRuntime(String errorType, String error) {\n        if (lastRuntimeException == null) {\n            if (lastCompileTimeException != null) {\n                LOGGER.error("compile time exception", lastCompileTimeException);\n                fail("statement should have resulted in a runtime exception, but resulted in a compile time exception");\n            } else {\n                fail("statement should have resulted in a runtime exception");\n            }\n        }\n        if (!lastRuntimeException.getClass().getName().contains(errorType)) {\n            lastRuntimeException.printStackTrace();\n            // TODO do we care?\n            LOGGER.warn("exception type should contain \\"" + errorType + "\\", but only contained \\"" + lastRuntimeException.getClass().getName() + "\\": " + lastRuntimeException);\n        }\n        if (!lastRuntimeException.getMessage().contains(error)) {\n            lastRuntimeException.printStackTrace();\n            // TODO do we care?\n            LOGGER.warn("exception should contain \\"" + error + "\\", but only contained \\"" + lastRuntimeException.getMessage() + "\\"");\n        }\n    }\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n    @Given("^an empty graph$")\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:13,492 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:13,493 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:13,493 - DEBUG - send_request_headers.complete
2025-09-23 02:45:13,494 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:13,494 - DEBUG - send_request_body.complete
2025-09-23 02:45:13,494 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:13,638 - DEBUG - receive_response_body.complete
2025-09-23 02:45:13,638 - DEBUG - response_closed.started
2025-09-23 02:45:13,638 - DEBUG - response_closed.complete
2025-09-23 02:45:13,639 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:13 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b46099f6bf01-YYC'})
2025-09-23 02:45:13,639 - DEBUG - request_id: None
2025-09-23 02:45:13,641 - INFO - Generated glue code: 
```java
@Given("^Groovy script engine is on test classpath$")
public void Groovy_script_engine_is_on_test_classpath() throws Throwable {
    // Express the Regexp above with the code you wish you had
}
```
2025-09-23 02:45:13,644 - INFO - Step ID 33 CodeBLEU: {'codebleu': 0.6831291490484728, 'ngram_match_score': 0.7967232840950673, 'weighted_ngram_match_score': 0.8037989756204286, 'syntax_match_score': 0.3076923076923077, 'dataflow_match_score': 0.0}
2025-09-23 02:45:13,644 - INFO - Generating glue code for step ID 34
2025-09-23 02:45:13,648 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-25174802-7451-4256-9421-8d5866c84402', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n    @Then("^The database should be seeded with the dataset content before test execution$")\nGlue Code:\n    @Then("^The database should be seeded with the dataset content before test execution$")\n    public void The_database_should_be_seeded_with_the_dataset_content() throws Throwable {\n\n    }\n\nExample 2:\nGherkin Step:\n\n    @Then("^The database should be seeded with the dataset content before test execution$")\nGlue Code:\n    @Then("^The database should be seeded with the dataset content before test execution$")\n    @DataSet("yml/users.yml")\n    public void The_database_should_be_seeded_with_the_dataset_content() throws Throwable {\n        List<User> users = em.createQuery("select u from User u order by u.id asc").getResultList();\n        User user1 = new User(1);\n        User user2 = new User(2);\n        Tweet tweetUser1 = new Tweet();\n        tweetUser1.setId("abcdef12345");\n        Tweet tweetUser2 = new Tweet();\n        tweetUser2.setId("abcdef12233");\n        assertThat(users).isNotNull().hasSize(2).contains(user1, user2);\n        List<Tweet> tweetsUser1 = users.get(0).getTweets();\n        assertThat(tweetsUser1).isNotNull().hasSize(1).contains(tweetUser1);\n\n        List<Tweet> tweetsUser2 = users.get(1).getTweets();\n        assertThat(tweetsUser2).isNotNull().hasSize(2).contains(tweetUser2);\n\n    }\n\nExample 3:\nGherkin Step:\n\n    @Then("^The database should be seeded with the dataset content before step execution$")\nGlue Code:\n    @Then("^The database should be seeded with the dataset content before step execution$")\n    public void The_database_should_be_seeded_with_the_dataset_content_before_step_execution() throws Throwable {\n        // Express the Regexp above with the code you wish you had\n    }\n\nExample 4:\nGherkin Step:\n\n\n    @Given("^Groovy script engine is on test classpath$")\nGlue Code:\n\n    @Given("^Groovy script engine is on test classpath$")\n    public void Groovy_script_engine_is_on_test_classpath(String docstring) throws Throwable {\n        // Express the Regexp above with the code you wish you had\n        assertNotNull(docstring);\n    }\n\nExample 5:\nGherkin Step:\n\n\n    @Then("^we should find (\\\\d+) contacts$")\nGlue Code:\n\n    @Then("^we should find (\\\\d+) contacts$")\n    public void we_should_find_result_contacts(Long result) throws Throwable {\n        assertEquals(result, count);\n    }\n\nExample 6:\nGherkin Step:\n\n\n    @Then("^we should find (\\\\d+) contacts2$")\nGlue Code:\n\n    @Then("^we should find (\\\\d+) contacts2$")\n    public void we_should_find_result_contacts(Long result) throws Throwable {\n        assertEquals(result, count);\n    }\n\nExample 7:\nGherkin Step:\n\n    @Then("^we should not find contact (\\\\d+)$")\nGlue Code:\n    @Then("^we should not find contact (\\\\d+)$")\n    public void we_should_not_find_contacts_in_database(long id) throws Throwable {\n        assertNull(contactRepository.findBy(id));\n    }\n\nExample 8:\nGherkin Step:\n\n    @Then("^we should not find contact (\\\\d+) 2$")\nGlue Code:\n    @Then("^we should not find contact (\\\\d+) 2$")\n    public void we_should_not_find_contacts_in_database(long id) throws Throwable {\n        assertNull(em().find(Contact.class, id));\n    }\n\nExample 9:\nGherkin Step:\n\n    @Then("^Test must pass because database state is as in expected dataset.$")\nGlue Code:\n    @Then("^Test must pass because database state is as in expected dataset.$")\n    public void Test_must_pass_because_dataBase_state_is_as_expected_in_dataset() throws Throwable {\n        // Express the Regexp above with the code you wish you had\n    }\n\nExample 10:\nGherkin Step:\n\n\n    @Then("^Test must fail with following error:$")\nGlue Code:\n\n    @Then("^Test must fail with following error:$")\n    public void Test_must_fail_with_following_error(String docstring) throws Throwable {\n        assertNotNull(docstring);\n    }\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n    @Then("^Dataset script should be interpreted while seeding the database$")\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:13,649 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:13,650 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:13,650 - DEBUG - send_request_headers.complete
2025-09-23 02:45:13,650 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:13,651 - DEBUG - send_request_body.complete
2025-09-23 02:45:13,651 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:13,858 - DEBUG - receive_response_body.complete
2025-09-23 02:45:13,858 - DEBUG - response_closed.started
2025-09-23 02:45:13,858 - DEBUG - response_closed.complete
2025-09-23 02:45:13,858 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:12 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b460ceab4214-YYC'})
2025-09-23 02:45:13,859 - DEBUG - request_id: None
2025-09-23 02:45:13,860 - INFO - Generated glue code: 
```java
@Given("an empty library")
public void emptyLibrary() {
    bookRepository.deleteAll();
    borrowingRepository.deleteAll();
    storyContext.putObject("LAST_INSERTED_BOOKS", Collections.emptyList());
    storyContext.removeObject("LAST_INSERTED_BOOK");
}
```
2025-09-23 02:45:13,864 - WARNING - WARNING: There is no reference data-flows extracted from the whole corpus, and the data-flow match score degenerates to 0. Please consider ignoring this score.
2025-09-23 02:45:13,864 - INFO - Step ID 62 CodeBLEU: {'codebleu': 0.7720625638948997, 'ngram_match_score': 0.41374412020518814, 'weighted_ngram_match_score': 0.7614269732892632, 'syntax_match_score': 0.6363636363636364, 'dataflow_match_score': 0}
2025-09-23 02:45:13,864 - INFO - Generating glue code for step ID 63
2025-09-23 02:45:13,868 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-c3580241-54d4-402c-be29-e3c1035e974b', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n    @Then("the library contains {int} book(s) with {string}")\nGlue Code:\n    @Then("the library contains {int} book(s) with {string}")\n    public void shouldContainNumberOfBooksWithISBN(int books, String isbn) {\n        if (isbn.isEmpty()) return;\n        assertThat(bookRepository.findByIsbn(isbn).size(), is(books));\n    }\n\nExample 2:\nGherkin Step:\n\n  @Then("the booklist contains a book with {string}, {string}, {string}, {int} and {string}")\nGlue Code:\n  @Then("the booklist contains a book with {string}, {string}, {string}, {int} and {string}")\n  public void bookListContainsRowWithValues(\n      final String title,\n      final String author,\n      final String year,\n      final Integer edition,\n      final String isbn) {\n    seleniumAdapter.gotoPage(Page.BOOKLIST);\n    HtmlBookList htmlBookList = seleniumAdapter.getTableContent(PageElement.BOOK_LIST);\n    HtmlBook htmlBook = htmlBookList.getBookByIsbn(isbn);\n    assertThat(title, is(htmlBook.getTitle()));\n    assertThat(author, is(htmlBook.getAuthor()));\n    assertThat(year, is(htmlBook.getYearOfPublication()));\n    assertThat(edition, is(htmlBook.getEdition()));\n    assertThat(isbn, is(htmlBook.getIsbn()));\n  }\n\nExample 3:\nGherkin Step:\n\n  @Then("the booklist lists {string} as borrower for the book with isbn {string}")\nGlue Code:\n  @Then("the booklist lists {string} as borrower for the book with isbn {string}")\n  public void bookListHasBorrowerForBookWithIsbn(final String borrower, final String isbn) {\n    seleniumAdapter.gotoPage(Page.BOOKLIST);\n    HtmlBookList htmlBookList = seleniumAdapter.getTableContent(PageElement.BOOK_LIST);\n    HtmlBook htmlBook = htmlBookList.getBookByIsbn(isbn);\n    assertThat(htmlBook.getBorrower(), is(borrower));\n  }\n\nExample 4:\nGherkin Step:\n\n  @When("a librarian adds a book with {string}, {string}, {string}, {int}, and {string}")\nGlue Code:\n  @When("a librarian adds a book with {string}, {string}, {string}, {int}, and {string}")\n  public void whenABookWithISBNisbnIsAdded(\n      String isbn, String title, String author, Integer edition, String year) {\n    insertAndSubmitBook(isbn, title, author, edition, year, "");\n  }\n\nExample 5:\nGherkin Step:\n\n  @When("I navigate to the detail page of the book with the isbn {string}")\nGlue Code:\n  @When("I navigate to the detail page of the book with the isbn {string}")\n  public void navigateToDetailPage(String isbn) {\n    seleniumAdapter.clickOnPageElementByClassName("detailsLink-" + isbn);\n    storyContext.put("LAST_BROWSED_BOOK_DETAILS", isbn);\n  }\n\nExample 6:\nGherkin Step:\n\n  @When("a librarian adds a book with {string}, {string}, {string}, {int}, {string}, and {string}")\nGlue Code:\n  @When("a librarian adds a book with {string}, {string}, {string}, {int}, {string}, and {string}")\n  public void whenABookIsAdded(\n      String isbn, String title, String author, Integer edition, String year, String description) {\n    insertAndSubmitBook(isbn, title, author, edition, year, description);\n  }\n\nExample 7:\nGherkin Step:\n\n  @Then(\n      "the booklist contains a book with {string}, {string}, {string}, {int}, {string}, and {string}")\nGlue Code:\n  @Then(\n      "the booklist contains a book with {string}, {string}, {string}, {int}, {string}, and {string}")\n\nExample 8:\nGherkin Step:\n\n  @Then("the list shows the books {string} with due date {date}")\nGlue Code:\n  @Then("the list shows the books {string} with due date {date}")\n  public void the_list_shows_the_books(String isbns, LocalDate dueDate) {\n    HtmlBookList tableContent = seleniumAdapter.getTableContent(PageElement.BORROWED_BOOK_LIST);\n    HtmlBook bookByIsbn = tableContent.getBookByIsbn(isbns);\n\n    assertThat(bookByIsbn).isNotNull();\n    assertThat(bookByIsbn)\n        .hasFieldOrPropertyWithValue("dueDate", dueDate)\n        .hasFieldOrPropertyWithValue("isbn", isbns);\n  }\n\nExample 9:\nGherkin Step:\n\n  @Then("the booklist contains a book with all the properties from the last inserted book")\nGlue Code:\n  @Then("the booklist contains a book with all the properties from the last inserted book")\n  public void justAsLastInserted() {\n    Book lastInserted = (Book) storyContext.getObject("LAST_INSERTED_BOOK");\n    seleniumAdapter.gotoPage(Page.BOOKLIST);\n    HtmlBookList htmlBookList = seleniumAdapter.getTableContent(PageElement.BOOK_LIST);\n    HtmlBook htmlBook = htmlBookList.getBookByIsbn(lastInserted.getIsbn());\n    assertThat(lastInserted.getTitle(), containsString(htmlBook.getTitle()));\n    assertThat(lastInserted.getAuthor(), containsString(htmlBook.getAuthor()));\n    assertThat(\n        lastInserted.getYearOfPublication(), is(Integer.parseInt(htmlBook.getYearOfPublication())));\n    assertThat(lastInserted.getEdition(), containsString(htmlBook.getEdition().toString()));\n    assertThat(lastInserted.getDescription(), containsString(htmlBook.getDescription()));\n  }\n\nExample 10:\nGherkin Step:\n\n  @When("a librarian tries to add a similar book with different {string}, {string} and {int}")\nGlue Code:\n  @When("a librarian tries to add a similar book with different {string}, {string} and {int}")\n  public void whenASimilarBookIsAdded(String title, String author, Integer edition) {\n    Book lastInsertedBook = (Book) storyContext.getObject("LAST_INSERTED_BOOK");\n    insertAndSubmitBook(\n        lastInsertedBook.getIsbn(),\n        title,\n        author,\n        edition,\n        String.valueOf(lastInsertedBook.getYearOfPublication()),\n        lastInsertedBook.getDescription());\n  }\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n    @Given("a library, containing (only one )book(s) with isbn(s) {string}")\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:13,869 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:13,870 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:13,870 - DEBUG - send_request_headers.complete
2025-09-23 02:45:13,870 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:13,870 - DEBUG - send_request_body.complete
2025-09-23 02:45:13,870 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:13,905 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:13 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b466bbee01d4-YYC')])
2025-09-23 02:45:13,906 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:13,906 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:14,042 - DEBUG - receive_response_body.complete
2025-09-23 02:45:14,042 - DEBUG - response_closed.started
2025-09-23 02:45:14,042 - DEBUG - response_closed.complete
2025-09-23 02:45:14,043 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:13 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b4607f9401de-YYC'})
2025-09-23 02:45:14,043 - DEBUG - request_id: None
2025-09-23 02:45:14,044 - INFO - Generated glue code: 
```java
@Then("^I should have no accessibility issues$")
public void i_should_have_no_accessibility_issues() {
    accessibilitySteps.checkNoAccessibilityIssues();
}
```
2025-09-23 02:45:14,047 - WARNING - WARNING: There is no reference data-flows extracted from the whole corpus, and the data-flow match score degenerates to 0. Please consider ignoring this score.
2025-09-23 02:45:14,048 - INFO - Step ID 1019 CodeBLEU: {'codebleu': 0.8316891623486022, 'ngram_match_score': 0.6930977286178778, 'weighted_ngram_match_score': 0.7666510377252864, 'syntax_match_score': 0.7142857142857143, 'dataflow_match_score': 0}
2025-09-23 02:45:14,048 - INFO - Generating glue code for step ID 1003
2025-09-23 02:45:14,052 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-d5a08180-9728-4d7a-8615-1cf06a6d4c93', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n    @Then("^I should see search results$")\nGlue Code:\n    @Then("^I should see search results$")\n    public void i_should_see_search_results() {\n        searchSteps.verifySearchResults();\n    }\n\nExample 2:\nGherkin Step:\n\n    @Then("^I should see the login page$")\nGlue Code:\n    @Then("^I should see the login page$")\n    public void checkLogout() {\n        loginPage.checkUserLoggedOut();\n    }\n\nExample 3:\nGherkin Step:\n\n    @Then("^I should see the reports page$")\nGlue Code:\n    @Then("^I should see the reports page$")\n    public void i_should_see_the_reports_page() {\n        reportSteps.checkOnReportPage();\n    }\n\nExample 4:\nGherkin Step:\n\n    @Then("^I should see email address is required$")\nGlue Code:\n    @Then("^I should see email address is required$")\n    public void should_see_email_address_is_required() throws Exception {\n        personalInfoPage.checkEmailAddressDisplaysAsRequired();\n}\n\nExample 5:\nGherkin Step:\n\n    @Then("^I should see the Change Password link$")\nGlue Code:\n    @Then("^I should see the Change Password link$")\n    public void i_should_see_change_password() {\n        generalSteps.seeChangePassword();\n    }\n\nExample 6:\nGherkin Step:\n\n    @Then("^I should see the Update Password page$")\nGlue Code:\n    @Then("^I should see the Update Password page$")\n    public void i_should_see_the_update_password_page() {\n        generalSteps.seeUpdatePassword();\n    }\n\nExample 7:\nGherkin Step:\n\n    @Then("^I should see applications by reviewer results$")\nGlue Code:\n    @Then("^I should see applications by reviewer results$")\n    public void i_should_see_applications_by_reviewer_results() {\n        applicationsByReviewerSteps.checkApplicationsByReviewerHasResults();\n    }\n\nExample 8:\nGherkin Step:\n\n    @Then("^I should see the draft applications page$")\nGlue Code:\n    @Then("^I should see the draft applications page$")\n    public void i_should_see_the_draft_applications_page() {\n        draftApplicationsSteps.checkOnDraftApplicationsPage();\n    }\n\nExample 9:\nGherkin Step:\n\n    @Then("^I should see the provider types page$")\nGlue Code:\n    @Then("^I should see the provider types page$")\n    public void i_should_see_the_provider_types_page() {\n        providerTypesSteps.checkOnProviderTypesPage();\n    }\n\nExample 10:\nGherkin Step:\n\n    @Then("^I should see the reviewed documents page$")\nGlue Code:\n    @Then("^I should see the reviewed documents page$")\n    public void i_should_see_the_reviewed_documents_page() {\n        reviewedDocumentsSteps.checkOnReviewedDocumentsPage();\n    }\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n    @Then("^I should see applications$")\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:14,053 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:14,053 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:14,054 - DEBUG - send_request_headers.complete
2025-09-23 02:45:14,054 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:14,054 - DEBUG - send_request_body.complete
2025-09-23 02:45:14,054 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:14,078 - DEBUG - receive_response_body.complete
2025-09-23 02:45:14,078 - DEBUG - response_closed.started
2025-09-23 02:45:14,078 - DEBUG - response_closed.complete
2025-09-23 02:45:14,078 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:13 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b460c97c01e2-YYC'})
2025-09-23 02:45:14,079 - DEBUG - request_id: None
2025-09-23 02:45:14,080 - INFO - Generated glue code: 
```java
@Given("^starting an automation process \"([^\"]*)\" with parameters \"([^\"]*)\"$")
public void startingAnAutomationProcessWithParameters(String arg0, String arg1) throws Throwable {
    startingAnAutomationProcessWithParameters(arg0, arg1);
}
```
2025-09-23 02:45:14,087 - INFO - Step ID 248 CodeBLEU: {'codebleu': 0.13445515887407383, 'ngram_match_score': 0.032393692206404305, 'weighted_ngram_match_score': 0.04404195450534834, 'syntax_match_score': 0.10869565217391304, 'dataflow_match_score': 0.20833333333333334}
2025-09-23 02:45:14,088 - INFO - Generating glue code for step ID 249
2025-09-23 02:45:14,092 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-0be489e5-a461-4bca-aafb-ac6605ec4186', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n    @Given("^starting an automation process \\"([^\\"]*)\\" with parameters \\"([^\\"]*)\\"$")\nGlue Code:\n    public void startingAnAutomationProcessWithParameters(String name, String parameters) throws Throwable {\n        // https://mmarquee.github.io/ui-automation/docs/developer.html\n        UIAutomation automation = UIAutomation.getInstance();\n        if (parameters.isEmpty()) {\n            // Empty parameters seems to generate an error internally?\n            application = new Application(new ElementBuilder().automation(automation).applicationPath(name));\n            application.launchOrAttach();\n        } else {\n            application = new Application(new ElementBuilder().automation(automation).applicationPath(name).applicationArguments(parameters));\n            application.launchOrAttach();\n        }\n\nExample 2:\nGherkin Step:\n\n    @Given("^a ROM from file \\"([^\\"]*)\\" at (.*)$")\nGlue Code:\n    @Given("^a ROM from file \\"([^\\"]*)\\" at (.*)$")\n    public void a_ROM_from_file_at_$a(String filename, String address) throws Throwable {\n        File file = new File(filename);\n        int iaddr = valueToInt(address);\n        int flen = (int) file.length();\n        Memory memory = Memory.makeROM(iaddr , iaddr + flen - 1 , file);\n\n        machine.getCpu().getBus().addDevice(memory);\n    }\n\nExample 3:\nGherkin Step:\n    @Given("^audio mix (.*)$")\nGlue Code:\n    public void audioMix(int mix) throws IOException {\n        audioExpansion.setMix(mix);\n    }\n\n        APUData apuData;\n    @Given("^enable APU mode$")\n    public void enableAPUMode() throws IOException {\n\nExample 4:\nGherkin Step:\n\n    @Then("^for memory from \\"([^\\"]*)\\" to \\"([^\\"]*)\\" expect writes at \\"([^\\"]*)\\" with temporary memory$")\nGlue Code:\n    @Then("^for memory from \\"([^\\"]*)\\" to \\"([^\\"]*)\\" expect writes at \\"([^\\"]*)\\" with temporary memory$")\n    public void forMemoryFromToExpectWritesAtWithTemporaryMemory(String startAddress, String endAddress, String toAddress) throws Throwable {\n        int start = valueToInt(startAddress);\n        int end = valueToInt(endAddress);\n        int to = valueToInt(toAddress);\n\n        for (byte value : lastBinaryData) {\n            machine.getRam().addExpectWrite(start, end, to, value);\n            to++;\n        }\n\n\n    }\n\nExample 5:\nGherkin Step:\n\n    @Then("^for memory from \\"([^\\"]*)\\" to \\"([^\\"]*)\\" expect a write to \\"([^\\"]*)\\" with value \\"([^\\"]*)\\"$")\nGlue Code:\n    @Then("^for memory from \\"([^\\"]*)\\" to \\"([^\\"]*)\\" expect a write to \\"([^\\"]*)\\" with value \\"([^\\"]*)\\"$")\n    public void forMemoryBetweenAndExpectAWriteToWithValue(String startAddress, String endAddress, String toAddress, String value) throws Throwable {\n        int start = valueToInt(startAddress);\n        int end = valueToInt(endAddress);\n        int to = valueToInt(toAddress);\n        int ivalue = valueToInt(value);\n\n        machine.getRam().addExpectWrite(start, end, to, ivalue);\n    }\n\nExample 6:\nGherkin Step:\n\n    @When("^save 6502 memory with two byte header from \\"([^\\"]*)\\" to \\"([^\\"]*)\\" to file \\"([^\\"]*)\\"$")\nGlue Code:\n    @When("^save 6502 memory with two byte header from \\"([^\\"]*)\\" to \\"([^\\"]*)\\" to file \\"([^\\"]*)\\"$")\n    public void save_memory_with_two_byte_header_from_until_to_file(String startAddress, String endAddress, String filename) throws Throwable {\n        int start = valueToInt(PropertiesResolution.resolveInput(scenario,startAddress));\n        int end = valueToInt(PropertiesResolution.resolveInput(scenario,endAddress));\n\n        FileOutputStream fileOutputStream = FileUtils.openOutputStream(new File(PropertiesResolution.resolveInput(scenario, filename)));\n        fileOutputStream.write(start & 0xff);\n        fileOutputStream.write((start>>8) & 0xff);\n        for (int address = start ; address < end ; address++) {\n            int value = machine.getRam().read(address , false);\n            fileOutputStream.write(value);\n        }\n        fileOutputStream.close();\n    }\n\nExample 7:\nGherkin Step:\n\n    @Given("^I run the command line: (.*)$")\nGlue Code:\n    @Given("^I run the command line: (.*)$")\n    public void i_run_the_command_line(String arg1) throws Throwable {\n        checkScenario();\n        String returnString = runProcessWithOutput(arg1 , true);\n        scenario.write(returnString);\n    }\n\nExample 8:\nGherkin Step:\n\n    @Given("^randomly initialise all memory using seed (.*)$")\nGlue Code:\n    @Given("^randomly initialise all memory using seed (.*)$")\n    public void randomlyInitialiseAllMemoryUsingSeed(String seedValue) throws ScriptException {\n        int seed = valueToInt(seedValue);\n\n        Random rand = new Random(seed);\n\n        for (MemoryBus device : devices) {\n            device.randomiseData(rand);\n        }\n\n        if (displayBombJack != null) {\n            displayBombJack.randomiseData(rand);\n        }\n        if (audioExpansion != null) {\n            audioExpansion.randomiseData(rand);\n        }\n        if (userPort24BitAddress != null) {\n            userPort24BitAddress.randomiseData(rand);\n        }\n    }\n\nExample 9:\nGherkin Step:\n\n    @Given("^I run the command line ignoring return code: (.*)$")\nGlue Code:\n    @Given("^I run the command line ignoring return code: (.*)$")\n    public void i_run_the_command_line_ignore(String arg1) throws Throwable {\n        checkScenario();\n        String returnString = runProcessWithOutput(arg1 , false);\n        scenario.write(returnString);\n    }\n\nExample 10:\nGherkin Step:\n\n\n    @Given("^I fill memory with (.+)$")\nGlue Code:\n\n    @Given("^I fill memory with (.+)$")\n    public void i_fill_memory_with(String arg1) throws Throwable {\n        Memory mem = machine.getRam();\n        mem.fill(valueToInt(arg1));\n    }\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n    @Given("^starting an automation process \\"([^\\"]*)\\" with parameters: (.*)$")\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:14,093 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:14,094 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:14 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b4685997bf01-YYC')])
2025-09-23 02:45:14,094 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:14,095 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:14,095 - DEBUG - send_request_headers.complete
2025-09-23 02:45:14,096 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:14,096 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:14,096 - DEBUG - send_request_body.complete
2025-09-23 02:45:14,097 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:14,355 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:14 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b469be464214-YYC')])
2025-09-23 02:45:14,356 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:14,356 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:14,393 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:14 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b4675c31bee8-YYC')])
2025-09-23 02:45:14,394 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:14,394 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:14,492 - DEBUG - receive_response_body.complete
2025-09-23 02:45:14,492 - DEBUG - response_closed.started
2025-09-23 02:45:14,492 - DEBUG - response_closed.complete
2025-09-23 02:45:14,492 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:12 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b46098a2bec2-YYC'})
2025-09-23 02:45:14,493 - DEBUG - request_id: None
2025-09-23 02:45:14,494 - INFO - Generated glue code: 
```java
@Given("^assert defaultValue is (.*) for tableName (.*) and columnName (.*)$")
public void assert_defaultValue_for_column(
        @NonNull final String defaultValue,
        @NonNull final String tableName,
        @NonNull final String columnName)
{
    final String actualDefaultValue = queryBL.getDefaultValueForColumn(tableName, columnName);
    assertThat(actualDefaultValue)
        .as("Default value for column %s in table %s", columnName, tableName)
        .isEqualTo(defaultValue);
}
```
2025-09-23 02:45:14,503 - INFO - Step ID 1215 CodeBLEU: {'codebleu': 0.3873449025761454, 'ngram_match_score': 0.4624445257285367, 'weighted_ngram_match_score': 0.4927655063222253, 'syntax_match_score': 0.39622641509433965, 'dataflow_match_score': 0.3333333333333333}
2025-09-23 02:45:14,503 - INFO - Generating glue code for step ID 1216
2025-09-23 02:45:14,508 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-b60f5460-e16f-4938-ab81-71907f397530', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n\t@And("update AD_User:")\nGlue Code:\n\t@And("update AD_User:")\n\tpublic void update_ad_user(@NonNull final DataTable dataTable)\n\t{\n\t\tfor (final Map<String, String> row : dataTable.asMaps())\n\t\t{\n\t\t\tfinal String userIdentifier = DataTableUtil.extractStringForColumnName(row, COLUMNNAME_AD_User_ID + "." + TABLECOLUMN_IDENTIFIER);\n\t\t\tfinal I_AD_User user = userTable.get(userIdentifier);\n\t\t\tassertThat(user).isNotNull();\n\n\t\t\tfinal String email = DataTableUtil.extractStringOrNullForColumnName(row, "OPT." + COLUMNNAME_EMail);\n\t\t\tif (Check.isNotBlank(email))\n\t\t\t{\n\t\t\t\tuser.setEMail(email);\n\t\t\t}\n\n\t\t\tfinal String phone = DataTableUtil.extractStringOrNullForColumnName(row, "OPT." + COLUMNNAME_Phone);\n\t\t\tif (Check.isNotBlank(phone))\n\t\t\t{\n\t\t\t\tuser.setPhone(phone);\n\t\t\t}\n\n\t\t\tfinal String bpartnerIdentifier = DataTableUtil.extractStringOrNullForColumnName(row, "OPT." + COLUMNNAME_C_BPartner_ID + "." + TABLECOLUMN_IDENTIFIER);\n\t\t\tif (Check.isNotBlank(bpartnerIdentifier))\n\t\t\t{\n\t\t\t\tfinal I_C_BPartner bPartner = bpartnerTable.get(bpartnerIdentifier);\n\t\t\t\tuser.setC_BPartner_ID(bPartner.getC_BPartner_ID());\n\t\t\t}\n\n\t\t\tInterfaceWrapperHelper.saveRecord(user);\n\t\t\tuserTable.putOrReplace(userIdentifier, user);\n\t\t}\n\t}\n\nExample 2:\nGherkin Step:\n\n\t@And("update C_BP_BankAccount:")\nGlue Code:\n\t@And("update C_BP_BankAccount:")\n\tpublic void update_C_BP_BankAccount(@NonNull final DataTable dataTable)\n\t{\n\t\tfinal List<Map<String, String>> rows = dataTable.asMaps();\n\t\tfor (final Map<String, String> dataTableRow : rows)\n\t\t{\n\t\t\tupdateBankAccount(dataTableRow);\n\t\t}\n\t}\n\nExample 3:\nGherkin Step:\n\n\t@And("update C_BPartner_CreditLimits")\nGlue Code:\n\t@And("update C_BPartner_CreditLimits")\n\tpublic void update_creditLimit(@NonNull final DataTable dataTable)\n\t{\n\t\tfinal List<Map<String, String>> tableRows = dataTable.asMaps();\n\t\tfor (final Map<String, String> tableRow : tableRows)\n\t\t{\n\t\t\tupdateCreditLimit(tableRow);\n\t\t}\n\t}\n\nExample 4:\nGherkin Step:\n\n\t@And("update C_OrderLine:")\nGlue Code:\n\t@And("update C_OrderLine:")\n\tpublic void update_C_OrderLine(@NonNull final DataTable dataTable)\n\t{\n\t\tfinal List<Map<String, String>> table = dataTable.asMaps();\n\t\tfor (final Map<String, String> row : table)\n\t\t{\n\t\t\tfinal String olIdentifier = DataTableUtil.extractStringForColumnName(row, I_C_OrderLine.COLUMNNAME_C_OrderLine_ID + "." + TABLECOLUMN_IDENTIFIER);\n\t\t\tfinal de.metas.handlingunits.model.I_C_OrderLine orderLine = InterfaceWrapperHelper.create(orderLineTable.get(olIdentifier), de.metas.handlingunits.model.I_C_OrderLine.class);\n\n\t\t\tfinal String contractIdentifier = DataTableUtil.extractStringOrNullForColumnName(row, "OPT." + I_C_OrderLine.COLUMNNAME_C_Flatrate_Term_ID + "." + TABLECOLUMN_IDENTIFIER);\n\n\t\t\tif (Check.isNotBlank(contractIdentifier))\n\t\t\t{\n\t\t\t\tfinal I_C_Flatrate_Term contract = contractTable.get(contractIdentifier);\n\n\t\t\t\torderLine.setC_Flatrate_Term_ID(contract.getC_Flatrate_Term_ID());\n\t\t\t}\n\n\t\t\tfinal BigDecimal updatedQtyEntered = DataTableUtil.extractBigDecimalOrNullForColumnName(row, "OPT." + I_C_OrderLine.COLUMNNAME_QtyEntered);\n\t\t\tif (updatedQtyEntered != null)\n\t\t\t{\n\t\t\t\torderLine.setQtyEntered(updatedQtyEntered);\n\t\t\t}\n\n\t\t\tfinal String piItemProductIdentifier = DataTableUtil.extractStringOrNullForColumnName(row, "OPT." + de.metas.handlingunits.model.I_C_OrderLine.COLUMNNAME_M_HU_PI_Item_Product_ID);\n\t\t\tif (Check.isNotBlank(piItemProductIdentifier))\n\t\t\t{\n\t\t\t\tfinal Integer piItemProductId = huPiItemProductTable.getOptional(piItemProductIdentifier)\n\t\t\t\t\t\t.map(I_M_HU_PI_Item_Product::getM_HU_PI_Item_Product_ID)\n\t\t\t\t\t\t.orElseGet(() -> Integer.parseInt(piItemProductIdentifier));\n\n\t\t\t\torderLine.setM_HU_PI_Item_Product_ID(piItemProductId);\n\t\t\t}\n\n\t\t\tfinal String attributeSetInstanceIdentifier = DataTableUtil.extractNullableStringForColumnName(row, "OPT." + COLUMNNAME_M_AttributeSetInstance_ID + "." + StepDefConstants.TABLECOLUMN_IDENTIFIER);\n\t\t\tif (de.metas.util.Check.isNotBlank(attributeSetInstanceIdentifier))\n\t\t\t{\n\t\t\t\tfinal String asiIdentifierValue = DataTableUtil.nullToken2Null(attributeSetInstanceIdentifier);\n\t\t\t\tif (asiIdentifierValue == null)\n\t\t\t\t{\n\t\t\t\t\torderLine.setM_AttributeSetInstance_ID(-1);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tfinal I_M_AttributeSetInstance attributeSetInstance = attributeSetInstanceTable.get(attributeSetInstanceIdentifier);\n\t\t\t\t\tassertThat(attributeSetInstance).isNotNull();\n\n\t\t\t\t\torderLine.setM_AttributeSetInstance_ID(attributeSetInstance.getM_AttributeSetInstance_ID());\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfinal BigDecimal updatedQtyOrdered = DataTableUtil.extractBigDecimalOrNullForColumnName(row, "OPT." + I_C_OrderLine.COLUMNNAME_QtyOrdered);\n\t\t\tif (updatedQtyOrdered != null)\n\t\t\t{\n\t\t\t\torderLine.setQtyOrdered(updatedQtyOrdered);\n\t\t\t}\n\n\t\t\tsaveRecord(orderLine);\n\n\t\t\torderLineTable.putOrReplace(olIdentifier, orderLine);\n\t\t}\n\t}\n\nExample 5:\nGherkin Step:\n\n\t@And("update order")\nGlue Code:\n\t@And("update order")\n\tpublic void update_order(@NonNull final DataTable dataTable)\n\t{\n\t\tfinal List<Map<String, String>> tableRows = dataTable.asMaps(String.class, String.class);\n\t\tfor (final Map<String, String> tableRow : tableRows)\n\t\t{\n\t\t\tfinal String orderIdentifier = DataTableUtil.extractStringForColumnName(tableRow, COLUMNNAME_C_Order_ID + "." + TABLECOLUMN_IDENTIFIER);\n\t\t\tfinal I_C_Order order = orderTable.get(orderIdentifier);\n\n\t\t\tfinal DocBaseType docBaseType = DocBaseType.ofNullableCode(DataTableUtil.extractStringOrNullForColumnName(tableRow, "OPT." + COLUMNNAME_DocBaseType));\n\t\t\tfinal String docSubType = DataTableUtil.extractStringOrNullForColumnName(tableRow, "OPT." + COLUMNNAME_DocSubType);\n\n\t\t\tif (docBaseType != null && Check.isNotBlank(docSubType))\n\t\t\t{\n\t\t\t\tfinal DocTypeQuery docTypeQuery = DocTypeQuery.builder()\n\t\t\t\t\t\t.docBaseType(docBaseType)\n\t\t\t\t\t\t.docSubType(DocSubType.ofNullableCode(docSubType))\n\t\t\t\t\t\t.adClientId(order.getAD_Client_ID())\n\t\t\t\t\t\t.adOrgId(order.getAD_Org_ID())\n\t\t\t\t\t\t.build();\n\n\t\t\t\tfinal DocTypeId docTypeId = docTypeDAO.getDocTypeId(docTypeQuery);\n\n\t\t\t\torder.setC_DocType_ID(docTypeId.getRepoId());\n\t\t\t\torder.setC_DocTypeTarget_ID(docTypeId.getRepoId());\n\t\t\t}\n\n\t\t\tfinal String paymentRule = DataTableUtil.extractStringOrNullForColumnName(tableRow, "OPT." + COLUMNNAME_PaymentRule);\n\t\t\tif (Check.isNotBlank(paymentRule))\n\t\t\t{\n\t\t\t\torder.setPaymentRule(paymentRule);\n\t\t\t}\n\n\t\t\tfinal Timestamp preparationDate = DataTableUtil.extractDateTimestampForColumnNameOrNull(tableRow, "OPT." + COLUMNNAME_PreparationDate);\n\t\t\tif (preparationDate != null)\n\t\t\t{\n\t\t\t\torder.setPreparationDate(preparationDate);\n\t\t\t}\n\n\t\t\tfinal ZonedDateTime datePromised = DataTableUtil.extractZonedDateTimeOrNullForColumnName(tableRow, "OPT." + I_C_Order.COLUMNNAME_DatePromised);\n\t\t\tif (datePromised != null)\n\t\t\t{\n\t\t\t\torder.setDatePromised(TimeUtil.asTimestamp(datePromised));\n\t\t\t}\n\n\t\t\tInterfaceWrapperHelper.saveRecord(order);\n\n\t\t\torderTable.putOrReplace(orderIdentifier, order);\n\t\t}\n\t}\n\nExample 6:\nGherkin Step:\n\n\t@And("update C_ReferenceNo:")\nGlue Code:\n\t@And("update C_ReferenceNo:")\n\tpublic void update_C_ReferenceNo(@NonNull final DataTable dataTable)\n\t{\n\t\tfinal List<Map<String, String>> rows = dataTable.asMaps();\n\t\tfor (final Map<String, String> dataTableRow : rows)\n\t\t{\n\t\t\tupdateReferenceNo(dataTableRow);\n\t\t}\n\t}\n\nExample 7:\nGherkin Step:\n\n\t@And("update C_TaxCategory:")\nGlue Code:\n\t@And("update C_TaxCategory:")\n\tpublic void update_C_TaxCategory(@NonNull final DataTable dataTable)\n\t{\n\t\tfinal List<Map<String, String>> tableRows = dataTable.asMaps();\n\t\tfor (final Map<String, String> tableRow : tableRows)\n\t\t{\n\t\t\tupdateTaxCategory(tableRow);\n\t\t}\n\t}\n\nExample 8:\nGherkin Step:\n\n\t@And("update C_Tax:")\nGlue Code:\n\t@And("update C_Tax:")\n\tpublic void update_C_Tax(@NonNull final DataTable dataTable)\n\t{\n\t\tfinal List<Map<String, String>> tableRows = dataTable.asMaps(String.class, String.class);\n\t\tfor (final Map<String, String> row : tableRows)\n\t\t{\n\t\t\tupdateTax(row);\n\t\t}\n\t}\n\nExample 9:\nGherkin Step:\n\n\t@And("update C_AcctSchema:")\nGlue Code:\n\t@And("update C_AcctSchema:")\n\tpublic void update_C_AcctSchemas(@NonNull final DataTable dataTable)\n\t{\n\t\tDataTableRows.of(dataTable)\n\t\t\t\t.setAdditionalRowIdentifierColumnName(I_C_AcctSchema.COLUMNNAME_C_AcctSchema_ID)\n\t\t\t\t.forEach(this::updateAcctSchema);\n\t}\n\nExample 10:\nGherkin Step:\n\n\t@And("update C_AggregationItem")\nGlue Code:\n\t@And("update C_AggregationItem")\n\tpublic void update_C_AggregationItem(@NonNull final DataTable dataTable)\n\t{\n\t\tfinal List<Map<String, String>> tableRows = dataTable.asMaps(String.class, String.class);\n\t\tfor (final Map<String, String> tableRow : tableRows)\n\t\t{\n\t\t\tupdateAggregationItem(tableRow);\n\t\t}\n\t}\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n\t@And("update AD_Column:")\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:14,509 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:14,510 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:14,510 - DEBUG - send_request_headers.complete
2025-09-23 02:45:14,511 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:14,511 - DEBUG - send_request_body.complete
2025-09-23 02:45:14,511 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:14,531 - DEBUG - receive_response_body.complete
2025-09-23 02:45:14,531 - DEBUG - response_closed.started
2025-09-23 02:45:14,531 - DEBUG - response_closed.complete
2025-09-23 02:45:14,532 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:13 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b460bfa301dc-YYC'})
2025-09-23 02:45:14,532 - DEBUG - request_id: None
2025-09-23 02:45:14,533 - INFO - Generated glue code: 
```java
@Given( "Bidding Freelancer logins" )
public void biddingFreelancerLogins() {
    BidDto bidDto = BidDto.builder()
            .projectId( project.getId() )
            .amount( 100 )
            .build();
    bidService.addBid( bidDto, (Freelancer) freelancer.getType() );

    webDriver.get( Utils.LOGIN_PAGE );
    webDriver.findElement( By.id( "email" ) ).sendKeys( freelancer.getEmail() );
    webDriver.findElement( By.id( "password" ) ).sendKeys( "password" );
    webDriver.findElement( By.id( "submit" ) ).click();
}
```
2025-09-23 02:45:14,543 - INFO - Step ID 83 CodeBLEU: {'codebleu': 0.6276971780130887, 'ngram_match_score': 0.5594996044047814, 'weighted_ngram_match_score': 0.8390408031770846, 'syntax_match_score': 0.8666666666666667, 'dataflow_match_score': 0.35294117647058826}
2025-09-23 02:45:14,543 - INFO - Generating glue code for step ID 84
2025-09-23 02:45:14,547 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-de234a83-66da-486c-bd47-3e2d0c4f293b', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n    @Then( "user is redirected to project details page" )\nGlue Code:\n    @Then( "user is redirected to project details page" )\n    public void userIsRedirectedToProjectDetailsPage() {\n        assertTrue( isProjectDetailsUrl( webDriver.getCurrentUrl() ) );\n        webDriver.close();\n    }\n\nExample 2:\nGherkin Step:\n\n    @And( "Freelancer visits my profile page" )\nGlue Code:\n    @And( "Freelancer visits my profile page" )\n    public void freelancerVisitsMyProfilePage() {\n        webDriver.get( Utils.FREELANCER_PROFILE );\n    }\n\nExample 3:\nGherkin Step:\n\n    @And( "Stakeholder visits my projects page" )\nGlue Code:\n    @And( "Stakeholder visits my projects page" )\n    public void stakeholderVisitsMyProjectsPage() {\n        webDriver.get( Utils.MY_PROJECTS_PAGE );\n    }\n\nExample 4:\nGherkin Step:\n\n    @And( "Dashboard Stakeholder visits my projects page" )\nGlue Code:\n    @And( "Dashboard Stakeholder visits my projects page" )\n    public void stakeholderVisitsMyProjectsPage() {\n        webDriver.get( Utils.MY_PROJECTS_PAGE );\n    }\n\nExample 5:\nGherkin Step:\n\n    @When( "user clicks on a project" )\nGlue Code:\n    @When( "user clicks on a project" )\n    public void userClicksOnAProject() {\n        webDriver.findElement( By.className( "btn" ) ).click();\n    }\n\nExample 6:\nGherkin Step:\n\n    @Given( "User visits login page" )\nGlue Code:\n    @Given( "User visits login page" )\n    public void userVisitsLoginPage() {\n        webDriver.manage().window().maximize();\n        webDriver.get( Utils.LOGIN_PAGE );\n    }\n\nExample 7:\nGherkin Step:\n\n    @Given( "a user with a token visits the password reset page" )\nGlue Code:\n    @Given( "a user with a token visits the password reset page" )\n    public void aUserWithATokenVisitsThePasswordResetPage() {\n        User user = Utils.getOrCreateTestUser( userService );\n        var token = userService.createForgotPasswordToken( user.getEmail() );\n\n        webDriver.get( Utils.getPasswordResetTokenUrl( token.getToken() ) );\n    }\n\nExample 8:\nGherkin Step:\n\n    @Given( "Admin visits users admin page" )\nGlue Code:\n    @Given( "Admin visits users admin page" )\n    public void adminVisitsUsersAdminPage() {\n        User user = Utils.getOrCreateTestUser( userService );\n\n        // setup user for this test (user must be disabled and have no emails)\n        user.setEnabled( false );\n        userRepository.save( user );\n        emailRepository.deleteAll( emailRepository.findAllByTo( user.getEmail() ) );\n\n        loginAsAdmin();\n\n        webDriver.get( Utils.USER_ADMIN_PANEL );\n    }\n\nExample 9:\nGherkin Step:\n\n    @And( "user enters his email" )\nGlue Code:\n    @And( "user enters his email" )\n    public void userEntersHisEmail() {\n        User user = Utils.getOrCreateTestUser( userService );\n\n        webDriver.findElement( By.id( "email" ) ).sendKeys( user.getEmail() );\n    }\n\nExample 10:\nGherkin Step:\n\n    @Given( "a user visits forgot password page" )\nGlue Code:\n    @Given( "a user visits forgot password page" )\n    public void aUserVisitsForgotPasswordPage() {\n        webDriver.get( Utils.FORGOT_PASSWORD_URL );\n    }\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n    @And( "user visits a public project page" )\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:14,548 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:14,548 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:14,549 - DEBUG - send_request_headers.complete
2025-09-23 02:45:14,549 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:14,549 - DEBUG - send_request_body.complete
2025-09-23 02:45:14,549 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:14,556 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:14 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b46b1dcd01e2-YYC')])
2025-09-23 02:45:14,556 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:14,557 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:14,575 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:14 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b46adccd01de-YYC'), (b'Content-Encoding', b'gzip')])
2025-09-23 02:45:14,576 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:14,576 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:14,645 - DEBUG - receive_response_body.complete
2025-09-23 02:45:14,646 - DEBUG - response_closed.started
2025-09-23 02:45:14,646 - DEBUG - response_closed.complete
2025-09-23 02:45:14,646 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:14 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b4675c31bee8-YYC'})
2025-09-23 02:45:14,646 - DEBUG - request_id: None
2025-09-23 02:45:14,648 - INFO - Generated glue code: 
```java
@Given("^an empty graph$")
public void givenAnEmptyGraph() {
    createGraph();
}
```
2025-09-23 02:45:14,650 - WARNING - WARNING: There is no reference data-flows extracted from the whole corpus, and the data-flow match score degenerates to 0. Please consider ignoring this score.
2025-09-23 02:45:14,650 - INFO - Step ID 608 CodeBLEU: {'codebleu': 0.7983878499452112, 'ngram_match_score': 0.46924700641056, 'weighted_ngram_match_score': 0.6055405839506419, 'syntax_match_score': 0.7272727272727273, 'dataflow_match_score': 0}
2025-09-23 02:45:14,651 - INFO - Generating glue code for step ID 609
2025-09-23 02:45:14,654 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-315168e5-943c-4de2-92b4-f8265d2a6e01', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n    @Given("^any graph$")\nGlue Code:\n    @Given("^any graph$")\n    public void givenAnyGraph() {\n        createGraph();\n    }\n\nExample 2:\nGherkin Step:\n\n    @Given("^an empty graph$")\nGlue Code:\n    @Given("^an empty graph$")\n    public void givenEmptyGraph() {\n        createGraph();\n    }\n\nExample 3:\nGherkin Step:\n\n    @Given("^parameters are:$")\nGlue Code:\n    @Given("^parameters are:$")\n    public void givenParametersAre(DataTable parameters) {\n        for (List<String> parameterRow : parameters.raw()) {\n            String key = parameterRow.get(0);\n            String valueString = parameterRow.get(1);\n            Object value = parseParameterValue(valueString);\n            ctx.setParameter(key, value);\n        }\n    }\n\nExample 4:\nGherkin Step:\n\n    @When("^executing(.*)query:$")\nGlue Code:\n    @When("^executing(.*)query:$")\n    public void whenExecutingQuery(String queryName, String queryString) {\n        ctx.clearCounts();\n        lastResultRows = null;\n        lastResultColumnNames = null;\n        lastCompileTimeException = null;\n        lastRuntimeException = null;\n        try {\n            CypherCompilerContext compilerContext = new CypherCompilerContext(ctx.getFunctions());\n            query = VertexiumCypherQuery.parse(compilerContext, queryString);\n            try {\n                VertexiumCypherResult results = query.execute(ctx);\n                lastResultRows = results\n                    .peek(row -> {\n                        try {\n                            Map<String, Object> scope = row.popScope();\n                            throw new VertexiumCypherException("Scope should be empty:\\n"\n                                + scope.entrySet().stream().map(e -> e.getKey() + ": " + e.getValue()).collect(Collectors.joining("\\n"))\n                            );\n                        } catch (Exception ex) {\n                            // OK\n                        }\n                    })\n                    .collect(Collectors.toList());\n                lastResultColumnNames = results.getColumnNames();\n            } catch (Exception ex) {\n                lastRuntimeException = ex;\n            }\n        } catch (Exception ex) {\n            lastCompileTimeException = ex;\n        }\n    }\n\nExample 5:\nGherkin Step:\n\n    @Given("^having executed:$")\nGlue Code:\n    @Given("^having executed:$")\n    public void givenHavingExecuted(String queryString) {\n        CypherCompilerContext compilerContext = new CypherCompilerContext(ctx.getFunctions());\n        VertexiumCypherQuery.parse(compilerContext, queryString).execute(ctx).count();\n    }\n\nExample 6:\nGherkin Step:\n\n    @Then("^the result should be, in order:$")\nGlue Code:\n    @Then("^the result should be, in order:$")\n    public void thenTheResultShouldBeInOrder(DataTable expected) throws Throwable {\n        thenTheResultShouldBe(expected);\n    }\n\nExample 7:\nGherkin Step:\n\n    @Then("^the result should be \\\\(ignoring element order for lists\\\\):$")\nGlue Code:\n    @Then("^the result should be \\\\(ignoring element order for lists\\\\):$")\n    public void thenTheResultShouldBeIgnoringElementOrderForLists(DataTable expected) throws Throwable {\n        thenTheResultShouldBe(expected);\n    }\n\nExample 8:\nGherkin Step:\n\n    @Then("^the result should be:$")\nGlue Code:\n    @Then("^the result should be:$")\n    public void thenTheResultShouldBe(DataTable expected) throws Throwable {\n        if (lastCompileTimeException != null) {\n            throw lastCompileTimeException;\n        }\n        if (lastRuntimeException != null) {\n            throw lastRuntimeException;\n        }\n        List<String> columnNames = expected.raw().get(0);\n        if (expected.raw().size() > 0) {\n            List<List<String>> expectedRows = expected.raw().stream()\n                .skip(1)\n                .collect(Collectors.toList());\n            List<List<String>> foundRows = lastResultRows.stream()\n                .map(row -> lastResultColumnNames.stream()\n                    .map(row::get)\n                    .map(obj -> ctx.getResultWriter().columnValueToString(ctx, obj))\n                    .collect(Collectors.toList())\n                )\n                .collect(Collectors.toList());\n\n            expectedRows.sort(new RowComparator());\n            foundRows.sort(new RowComparator());\n\n            if (expectedRows.size() > 0) {\n                System.out.println("Expected");\n                System.out.println(String.join(", ", expected.raw().get(0)));\n                for (List<String> expectedRow : expectedRows) {\n                    System.out.println(String.join(", ", expectedRow));\n                }\n            }\n\n            System.out.println("Found");\n            System.out.println(String.join(", ", lastResultColumnNames));\n            for (List<String> foundRow : foundRows) {\n                System.out.println(String.join(", ", foundRow));\n            }\n\n            if (expectedRows.size() > 0) {\n                assertEquals(\n                    String.format(\n                        "Header count, expected (%s), found (%s)",\n                        String.join(", ", expected.raw().get(0)),\n                        String.join(", ", lastResultColumnNames)\n                    ),\n                    expected.raw().get(0).size(),\n                    lastResultColumnNames.size()\n                );\n                for (int colIdx = 0; colIdx < expected.raw().get(0).size(); colIdx++) {\n                    String expectedColumnName = expected.raw().get(0).get(colIdx);\n                    assertTrue(\n                        String.format(\n                            "Header mismatch (expected: %s, columnNames: %s)",\n                            expectedColumnName,\n                            String.join(", ", lastResultColumnNames)\n                        ),\n                        lastResultColumnNames.contains(expectedColumnName)\n                    );\n                }\n            }\n\n            assertEquals("result count", expectedRows.size(), foundRows.size());\n\n            if (expectedRows.size() > 0) {\n                for (int row = 0; row < expectedRows.size(); row++) {\n                    List<String> expectedRow = expectedRows.get(row);\n                    List<String> foundRow = foundRows.get(row);\n                    for (int col = 0; col < expectedRow.size(); col++) {\n                        String expectedColumn = expectedRow.get(col);\n                        String foundColumn = foundRow.get(col);\n                        assertColumnValue(row, col, expectedColumn, foundColumn);\n                    }\n                }\n            }\n        }\n    }\n\nExample 9:\nGherkin Step:\n\n    @Then("^a (.*) should be raised at compile time: (.*)$")\nGlue Code:\n    @Then("^a (.*) should be raised at compile time: (.*)$")\n    public void thenASyntaxErrorShouldBeRaisedAtCompileTime(String errorType, String error) {\n        Exception ex = this.lastCompileTimeException;\n        if (ex == null) {\n            if (lastRuntimeException != null) {\n                lastRuntimeException.printStackTrace();\n                // TODO do we care?\n                LOGGER.warn("statement should have resulted in a compile time exception, but resulted in a runtime exception");\n                ex = lastRuntimeException;\n            } else {\n                Assume.assumeTrue("statement should have resulted in a compile time exception", false);\n            }\n        }\n        if (!ex.getClass().getName().contains(errorType)) {\n            ex.printStackTrace();\n            // TODO do we care?\n            LOGGER.warn("exception type should contain \\"" + errorType + "\\", but only contained \\"" + ex.getClass().getName() + "\\": " + ex);\n        }\n        if (ex.getMessage() == null || !ex.getMessage().contains(error)) {\n            ex.printStackTrace();\n            // TODO do we care?\n            LOGGER.warn("exception should contain \\"" + error + "\\", but only contained \\"" + ex.getMessage() + "\\"");\n        }\n    }\n\nExample 10:\nGherkin Step:\n\n    @Then("^a (.*) should be raised at runtime: (.*)$")\nGlue Code:\n    @Then("^a (.*) should be raised at runtime: (.*)$")\n    public void thenATypeErrorShouldBeRaisedAtRuntime(String errorType, String error) {\n        if (lastRuntimeException == null) {\n            if (lastCompileTimeException != null) {\n                LOGGER.error("compile time exception", lastCompileTimeException);\n                fail("statement should have resulted in a runtime exception, but resulted in a compile time exception");\n            } else {\n                fail("statement should have resulted in a runtime exception");\n            }\n        }\n        if (!lastRuntimeException.getClass().getName().contains(errorType)) {\n            lastRuntimeException.printStackTrace();\n            // TODO do we care?\n            LOGGER.warn("exception type should contain \\"" + errorType + "\\", but only contained \\"" + lastRuntimeException.getClass().getName() + "\\": " + lastRuntimeException);\n        }\n        if (!lastRuntimeException.getMessage().contains(error)) {\n            lastRuntimeException.printStackTrace();\n            // TODO do we care?\n            LOGGER.warn("exception should contain \\"" + error + "\\", but only contained \\"" + lastRuntimeException.getMessage() + "\\"");\n        }\n    }\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n    @Given("^the binary-tree-(\\\\d+) graph$")\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:14,655 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:14,656 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:14,656 - DEBUG - send_request_headers.complete
2025-09-23 02:45:14,656 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:14,657 - DEBUG - send_request_body.complete
2025-09-23 02:45:14,657 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:14,758 - DEBUG - receive_response_body.complete
2025-09-23 02:45:14,758 - DEBUG - response_closed.started
2025-09-23 02:45:14,758 - DEBUG - response_closed.complete
2025-09-23 02:45:14,758 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:13 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b460aae0bed1-YYC'})
2025-09-23 02:45:14,759 - DEBUG - request_id: None
2025-09-23 02:45:14,760 - INFO - Generated glue code: 
```java
@Given("^I have a web application with the config locations \"([^\"]*)\"$")
public void I_have_a_web_application_with_the_config_locations(String locations) throws Throwable {
    MockServletContext sc = new MockServletContext();
    this.wac = new XmlWebApplicationContext();
    this.wac.setServletContext(sc);
    this.wac.setConfigLocations(locations.split(","));
    this.wac.refresh();

    this.hm = this.wac.getBean(RouterHandlerMapping.class);
    this.ha = this.wac.getBean(RequestMappingHandlerAdapter.class);
}
```
2025-09-23 02:45:14,766 - INFO - Step ID 0 CodeBLEU: {'codebleu': 0.6709035674974893, 'ngram_match_score': 0.3563285202501917, 'weighted_ngram_match_score': 0.7527071547246997, 'syntax_match_score': 0.4, 'dataflow_match_score': 1.0}
2025-09-23 02:45:14,766 - INFO - Generating glue code for step ID 1
2025-09-23 02:45:14,770 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-7d707512-9ddb-439e-9dec-d64925ed09ff', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n    @Given("^I have a web application with the config locations \\"([^\\"]*)\\"$")\nGlue Code:\n    @Given("^I have a web application with the config locations \\"([^\\"]*)\\"$")\n    public void I_have_a_web_applications_with_the_config_locations(String locations) throws Throwable {\n        I_have_a_web_application_configured_locations_servletPath_contextPath(locations,"","");\n    }\n\nExample 2:\nGherkin Step:\n\n    @Given("^I have a web application with javaconfig in package \\"([^\\"]*)\\"$")\nGlue Code:\n    @Given("^I have a web application with javaconfig in package \\"([^\\"]*)\\"$")\n    public void I_have_a_web_application_with_javaconfig_in_package(String scanPackage) throws Throwable {\n        MockServletContext sc = new MockServletContext("");\n        AnnotationConfigWebApplicationContext appContext = new AnnotationConfigWebApplicationContext();\n        appContext.scan(scanPackage);\n        appContext.setServletContext(sc);\n        appContext.refresh();\n\n        this.wac = appContext;\n\n        this.hm = appContext.getBean(RouterHandlerMapping.class);\n        this.ha = appContext.getBean(RequestMappingHandlerAdapter.class);\n    }\n\nExample 3:\nGherkin Step:\n\n    @Given("^I have routes:$")\nGlue Code:\n    @Given("^I have routes:$")\n    public void I_have_routes(List<RouteItem> routes) throws Throwable {\n        for(RouteItem item : routes) {\n            Router.addRoute(item.method,item.path,item.action,item.params,null);\n        }\n    }\n\nExample 4:\nGherkin Step:\n\n    @Given("^I have a route with method \\"([^\\"]*)\\" path \\"([^\\"]*)\\" action \\"([^\\"]*)\\"$")\nGlue Code:\n    @Given("^I have a route with method \\"([^\\"]*)\\" path \\"([^\\"]*)\\" action \\"([^\\"]*)\\"$")\n    public void I_have_a_route_with_method_url_action(String method, String path, String action) throws Throwable {\n        Router.prependRoute(method, path, action);\n    }\n\nExample 5:\nGherkin Step:\n\n    @When("^I build a link for controller \\"([^\\"]*)\\" and action \\"([^\\"]*)\\"$")\nGlue Code:\n    @When("^I build a link for controller \\"([^\\"]*)\\" and action \\"([^\\"]*)\\"$")\n    public void I_build_a_link_for_controller_and_action(String controller, String action) throws Throwable {\n\n         linkBuilder = RouterLinkBuilder.linkTo(controller,action);\n    }\n\nExample 6:\nGherkin Step:\n\n    @Given("^the current request is processed within a context path \\"([^\\"]*)\\" and servlet path \\"([^\\"]*)\\"$")\nGlue Code:\n    @Given("^the current request is processed within a context path \\"([^\\"]*)\\" and servlet path \\"([^\\"]*)\\"$")\n    public void the_current_request_is_processed_within_a_context_path_and_servlet_path(String contextPath, String servletPath) throws Throwable {\n\n        MockHttpServletRequest request = new MockHttpServletRequest("GET", "/reverse-routing");\n        request.addHeader("host","example.org");\n        request.setContextPath(contextPath);\n        request.setServletPath(servletPath);\n\n\t    ServletRequestAttributes requestAttributes = new ServletRequestAttributes(request);\n\t    RequestContextHolder.setRequestAttributes(requestAttributes);\n\n        this.requestAdapter = HTTPRequestAdapter.parseRequest(request);\n    }\n\nExample 7:\nGherkin Step:\n\n    @When("^I send the HTTP request \\"([^\\"]*)\\" \\"([^\\"]*)\\" with a null pathInfo$")\nGlue Code:\n    @When("^I send the HTTP request \\"([^\\"]*)\\" \\"([^\\"]*)\\" with a null pathInfo$")\n    public void I_send_the_HTTP_request_with_a_null_pathInfo(String method, String url) throws Throwable {\n\n        request = new MockHttpServletRequest(this.wac.getServletContext());\n        request.setMethod(method);\n        request.setContextPath(this.contextPath);\n        request.setServletPath(url.replaceFirst(this.contextPath,""));\n        request.addHeader("host", host);\n\n        for (HTTPHeader header : headers) {\n            request.addHeader(header.name, header.value);\n        }\n\n        for (HTTPParam param : queryParams) {\n            request.addParameter(param.name, param.value);\n        }\n\n        request.setPathInfo(null);\n\n\t    ServletRequestAttributes requestAttributes = new ServletRequestAttributes(request);\n\t    RequestContextHolder.setRequestAttributes(requestAttributes);\n\n        chain = this.hm.getHandler(request);\n    }\n\nExample 8:\nGherkin Step:\n\n\n\n    @When("^I send the HTTP request \\"([^\\"]*)\\" \\"([^\\"]*)\\"$")\nGlue Code:\n\n\n    @When("^I send the HTTP request \\"([^\\"]*)\\" \\"([^\\"]*)\\"$")\n    public void I_send_the_HTTP_request(String method, String url) throws Throwable {\n\n        int pathLength = 0;\n        if(this.contextPath.length() > 0) {\n            pathLength += this.contextPath.length();\n        }\n\n        if(this.servletPath.length() > 0) {\n            pathLength += this.servletPath.length();\n        }\n\n        request = new MockHttpServletRequest(this.wac.getServletContext(),method, url);\n        request.setContextPath(this.contextPath);\n        request.setServletPath(this.servletPath);\n        request.addHeader("host", host);\n\n\t    ServletRequestAttributes requestAttributes = new ServletRequestAttributes(request);\n\t    RequestContextHolder.setRequestAttributes(requestAttributes);\n\n        for (HTTPHeader header : headers) {\n            request.addHeader(header.name, header.value);\n        }\n\n        for (HTTPParam param : queryParams) {\n            request.addParameter(param.name, param.value);\n        }\n\n        request.setPathInfo(url.substring(pathLength));\n        chain = this.hm.getHandler(request);\n    }\n\nExample 9:\nGherkin Step:\n\n\n\n    @When("^I send the HTTP request \\"([^\\"]*)\\" \\"([^\\"]*)\\" to host \\"([^\\"]*)\\"$")\nGlue Code:\n\n\n    @When("^I send the HTTP request \\"([^\\"]*)\\" \\"([^\\"]*)\\" to host \\"([^\\"]*)\\"$")\n    public void I_send_the_HTTP_request_to_host(String method, String url, String host) throws Throwable {\n\n        this.host = host;\n        I_send_the_HTTP_request(method,url);\n    }\n\nExample 10:\nGherkin Step:\n\n    @Given("^a current request \\"([^\\"]*)\\" \\"([^\\"]*)\\" with servlet path \\"([^\\"]*)\\" and context path \\"([^\\"]*)\\"$")\nGlue Code:\n    @Given("^a current request \\"([^\\"]*)\\" \\"([^\\"]*)\\" with servlet path \\"([^\\"]*)\\" and context path \\"([^\\"]*)\\"$")\n    public void a_current_request_with_servlet_path_and_context_path(String method, String url, String servletPath, String contextPath) throws Throwable {\n\n        MockServletContext sc = new MockServletContext();\n        sc.setContextPath(contextPath);\n\n        int pathLength = 0;\n        if(contextPath.length() > 0) {\n            pathLength += contextPath.length();\n        }\n\n        if(servletPath.length() > 0) {\n            pathLength += servletPath.length();\n        }\n\n        request = new MockHttpServletRequest(sc, method, url);\n        request.setContextPath(contextPath);\n        request.setServletPath(servletPath);\n        request.addHeader("host", host);\n\n        request.setPathInfo(url.substring(pathLength));\n\n\t    ServletRequestAttributes requestAttributes = new ServletRequestAttributes(request);\n\t    RequestContextHolder.setRequestAttributes(requestAttributes);\n\n        HTTPRequestAdapter.parseRequest(request);\n    }\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n\n    @Given("^I have a web application configured locations \\"([^\\"]*)\\" servletPath \\"([^\\"]*)\\" contextPath \\"([^\\"]*)\\"$")\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:14,771 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:14,772 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:14,772 - DEBUG - send_request_headers.complete
2025-09-23 02:45:14,773 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:14,773 - DEBUG - send_request_body.complete
2025-09-23 02:45:14,773 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:14,789 - DEBUG - receive_response_body.complete
2025-09-23 02:45:14,790 - DEBUG - response_closed.started
2025-09-23 02:45:14,790 - DEBUG - response_closed.complete
2025-09-23 02:45:14,790 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:14 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b4685997bf01-YYC'})
2025-09-23 02:45:14,790 - DEBUG - request_id: None
2025-09-23 02:45:14,792 - INFO - Generated glue code: 
```java
@Then("^Dataset script should be interpreted while seeding the database$")
public void Dataset_script_should_be_interpreted_while_seeding_the_database() throws Throwable {
    // Express the Regexp above with the code you wish you had
}
```
2025-09-23 02:45:14,795 - WARNING - WARNING: There is no reference data-flows extracted from the whole corpus, and the data-flow match score degenerates to 0. Please consider ignoring this score.
2025-09-23 02:45:14,795 - INFO - Step ID 34 CodeBLEU: {'codebleu': 0.8411282436598061, 'ngram_match_score': 0.8390782502060267, 'weighted_ngram_match_score': 0.9055375197253671, 'syntax_match_score': 0.6666666666666666, 'dataflow_match_score': 0}
2025-09-23 02:45:14,795 - INFO - Generating glue code for step ID 35
2025-09-23 02:45:14,799 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-c8a42345-f3f6-4f1f-b8f4-c37233355608', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n    @Then("^Test must pass because inserted users are commited to database and database state matches expected dataset.$")\nGlue Code:\n    @Then("^Test must pass because inserted users are commited to database and database state matches expected dataset.$")\n    public void Test_must_pass_because_inserted_users_are_commited_to_database_and_database_state_matches_in_expected_dataset() throws Throwable {\n    }\n\nExample 2:\nGherkin Step:\n\n\n    @Then("^Test must fail with following error:$")\nGlue Code:\n\n    @Then("^Test must fail with following error:$")\n    public void Test_must_fail_with_following_error(String docstring) throws Throwable {\n        assertNotNull(docstring);\n    }\n\nExample 3:\nGherkin Step:\n\n\n    @Given("^DBUnit interceptor is enabled in your test beans.xml:$")\nGlue Code:\n\n    @Given("^DBUnit interceptor is enabled in your test beans.xml:$")\n    public void DBUnit_interceptor_is_enabled_in_your_test_beans_xml(String docstring) throws Throwable {\n        assertTrue(true);\n    }\n\nExample 4:\nGherkin Step:\n\n    @When("^The following test is executed:$")\nGlue Code:\n    @When("^The following test is executed:$")\n    public void The_test_below_is_executed(String docstring) throws Throwable {\n        assertNotNull(docstring);\n    }\n\nExample 5:\nGherkin Step:\n\n\n\n    @Given("^The following junit5 test is executed$")\nGlue Code:\n\n\n    @Given("^The following junit5 test is executed$")\n    public void the_following_junit_rules(String docString) throws Throwable {\n\n    }\n\nExample 6:\nGherkin Step:\n\n\n    @Given("^Groovy script engine is on test classpath$")\nGlue Code:\n\n    @Given("^Groovy script engine is on test classpath$")\n    public void Groovy_script_engine_is_on_test_classpath(String docstring) throws Throwable {\n        // Express the Regexp above with the code you wish you had\n        assertNotNull(docstring);\n    }\n\nExample 7:\nGherkin Step:\n\n    @Then("^The database should be seeded with the dataset content before test execution$")\nGlue Code:\n    @Then("^The database should be seeded with the dataset content before test execution$")\n    public void The_database_should_be_seeded_with_the_dataset_content() throws Throwable {\n\n    }\n\nExample 8:\nGherkin Step:\n\n    @Then("^The database should be seeded with the dataset content before test execution$")\nGlue Code:\n    @Then("^The database should be seeded with the dataset content before test execution$")\n    @DataSet("yml/users.yml")\n    public void The_database_should_be_seeded_with_the_dataset_content() throws Throwable {\n        List<User> users = em.createQuery("select u from User u order by u.id asc").getResultList();\n        User user1 = new User(1);\n        User user2 = new User(2);\n        Tweet tweetUser1 = new Tweet();\n        tweetUser1.setId("abcdef12345");\n        Tweet tweetUser2 = new Tweet();\n        tweetUser2.setId("abcdef12233");\n        assertThat(users).isNotNull().hasSize(2).contains(user1, user2);\n        List<Tweet> tweetsUser1 = users.get(0).getTweets();\n        assertThat(tweetsUser1).isNotNull().hasSize(1).contains(tweetUser1);\n\n        List<Tweet> tweetsUser2 = users.get(1).getTweets();\n        assertThat(tweetsUser2).isNotNull().hasSize(2).contains(tweetUser2);\n\n    }\n\nExample 9:\nGherkin Step:\n\n    @Then("^The database should be seeded with the dataset content before step execution$")\nGlue Code:\n    @Then("^The database should be seeded with the dataset content before step execution$")\n    public void The_database_should_be_seeded_with_the_dataset_content_before_step_execution() throws Throwable {\n        // Express the Regexp above with the code you wish you had\n    }\n\nExample 10:\nGherkin Step:\n\n    @Then("^Dataset script should be interpreted while seeding the database$")\nGlue Code:\n    @Then("^Dataset script should be interpreted while seeding the database$")\n    public void Dataset_script_should_be_interpreted_when_seeding_the_database() throws Throwable {\n        // Express the Regexp above with the code you wish you had\n    }\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n    @Then("^Test must pass because database state is as in expected dataset.$")\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:14,800 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:14,800 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:14,801 - DEBUG - send_request_headers.complete
2025-09-23 02:45:14,801 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:14,801 - DEBUG - send_request_body.complete
2025-09-23 02:45:14,801 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:14,812 - DEBUG - receive_response_body.complete
2025-09-23 02:45:14,813 - DEBUG - response_closed.started
2025-09-23 02:45:14,813 - DEBUG - response_closed.complete
2025-09-23 02:45:14,813 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:13 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b466bbee01d4-YYC'})
2025-09-23 02:45:14,813 - DEBUG - request_id: None
2025-09-23 02:45:14,815 - INFO - Generated glue code: 
```java
@When("^I try to upload file \"([^\"]*)\" by \"([^\"]*)\" file input element$")
public void iTryToUploadFileByFileInputElement(String pathToFile, String name) {
    try {
        fileInput(name).uploadFile(mergePath(COMMON.projectPath, pathToFile));
        fail("Upload should throw exception");
    } catch (Exception ignore) {
    }
}
```
2025-09-23 02:45:14,822 - INFO - Step ID 433 CodeBLEU: {'codebleu': 0.41916461348302114, 'ngram_match_score': 0.35271170915897543, 'weighted_ngram_match_score': 0.39278057951738965, 'syntax_match_score': 0.46153846153846156, 'dataflow_match_score': 0.4}
2025-09-23 02:45:14,823 - INFO - Generating glue code for step ID 434
2025-09-23 02:45:14,827 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-c464cbb7-879b-4f03-b2d4-d54a439f855f', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n    @Then("^the \\"([^\\"]*)\\" contains \\"([^\\"]*)\\" disabled radio button$")\nGlue Code:\n    @Then("^the \\"([^\\"]*)\\" contains \\"([^\\"]*)\\" disabled radio button$")\n    public void theContainsDisabledRadioButton(String name, String value) {\n        radioButtons(name).is().disabled(hasItem(value));\n    }\n\nExample 2:\nGherkin Step:\n\n    @Then("^the \\"([^\\"]*)\\" has disabled item \\"([^\\"]*)\\"$")\nGlue Code:\n    @Then("^the \\"([^\\"]*)\\" has disabled item \\"([^\\"]*)\\"$")\n    public void theHasDisabledItem(String name, String value) {\n        selectAssert(name).disabled(hasItem(value));\n    }\n\nExample 3:\nGherkin Step:\n    @When("^I set \\"([^\\"]*)\\" to \\"([^\\"]*)\\" color$")\nGlue Code:\n    public void preSetColor(String name, String color) {\n        colorPicker(name).setColor(color);\n    }\n\n    @Then("^the \\"([^\\"]*)\\" has color \\"([^\\"]*)\\"$")\n    public void hasColor(String name, String color) {\n\nExample 4:\nGherkin Step:\n\n    @When("^I upload file \\"([^\\"]*)\\" by \\"([^\\"]*)\\" file input element$")\nGlue Code:\n    @When("^I upload file \\"([^\\"]*)\\" by \\"([^\\"]*)\\" file input element$")\n    public void iUploadFileByFileInputElement(String pathToFile, String name) {\n        fileInput(name).uploadFile(mergePath(COMMON.projectPath, pathToFile));\n    }\n\nExample 5:\nGherkin Step:\n\n    @When("^I login as \\"([^\\"]*)\\"$")\nGlue Code:\n    @When("^I login as \\"([^\\"]*)\\"$")\n    public void loginAsForm(String jsonName) {\n        getForm("Login form").submit(getMapFromJson(jsonName, "json.test.data"));\n    }\n\nExample 6:\nGherkin Step:\n\n    @When("^I try to upload file \\"([^\\"]*)\\" by \\"([^\\"]*)\\" file input element$")\nGlue Code:\n    @When("^I try to upload file \\"([^\\"]*)\\" by \\"([^\\"]*)\\" file input element$")\n    public void iTryToUploadFileByFileInputElement(String pathToFile, String elementName) {\n        FileInput fileInput = getUI(elementName, FileInput.class);\n        try {\n            fileInput.uploadFile(mergePath(COMMON.projectPath, pathToFile));\n            fail("Can\'t upload file in disabled FileInput");\n        } catch (Exception ex) {\n            assertTrue(ex.getLocalizedMessage().contains("FileInput \'Disabled File Input\' is disabled. Can\'t upload file"));\n        }\n    }\n\nExample 7:\nGherkin Step:\n\n    @When("^(?:I |)set \\"([^\\"]*)\\" attribute \\"([^\\"]*)\\" with value \\"([^\\"]*)\\" element$")\nGlue Code:\n    @When("^(?:I |)set \\"([^\\"]*)\\" attribute \\"([^\\"]*)\\" with value \\"([^\\"]*)\\" element$")\n    public void setAttribute(String name, String attrName, String attrValue) {\n        core(name).setAttribute(attrName, attrValue);\n    }\n\nExample 8:\nGherkin Step:\n\n    @Then("^the \\"([^\\"]*)\\" attribute \\"([^\\"]*)\\" contains \\"([^\\"]*)\\"$")\nGlue Code:\n    @Then("^the \\"([^\\"]*)\\" attribute \\"([^\\"]*)\\" contains \\"([^\\"]*)\\"$")\n    public void attributeContains(String name, String attrName, String attrValue) {\n        isAssert(name).attr(attrName, containsString(attrValue));\n    }\n\nExample 9:\nGherkin Step:\n\n    @Then("^the \\"([^\\"]*)\\" css \\"([^\\"]*)\\" contains \\"([^\\"]*)\\"$")\nGlue Code:\n    @Then("^the \\"([^\\"]*)\\" css \\"([^\\"]*)\\" contains \\"([^\\"]*)\\"$")\n    public void cssContains(String name, String css, String cssValue) {\n        isAssert(name).css(css, containsString(cssValue));\n    }\n\nExample 10:\nGherkin Step:\n\n    @Then("^in \\"([^\\"]*)\\" checklist \\"([^\\"]*)\\" is checked$")\nGlue Code:\n    @Then("^in \\"([^\\"]*)\\" checklist \\"([^\\"]*)\\" is checked$")\n    public static void isCheckBoxChecked(String name, String value) {\n        checklist(name).is().selected(containsString(value));\n    }\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n    @When("^I select \\"([^\\"]*)\\" disabled option \\"([^\\"]*)\\"")\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:14,828 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:14,828 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:14,829 - DEBUG - send_request_headers.complete
2025-09-23 02:45:14,829 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:14,829 - DEBUG - send_request_body.complete
2025-09-23 02:45:14,829 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:14,917 - DEBUG - receive_response_body.complete
2025-09-23 02:45:14,917 - DEBUG - response_closed.started
2025-09-23 02:45:14,917 - DEBUG - response_closed.complete
2025-09-23 02:45:14,918 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:13 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b46069fc01e4-YYC'})
2025-09-23 02:45:14,918 - DEBUG - request_id: None
2025-09-23 02:45:14,920 - INFO - Generated glue code: 
```java
@Given("a calculator I just turned on")
public void a_calculator_I_just_turned_on() {
  calc = new Calculator();
}
```
2025-09-23 02:45:14,923 - INFO - Step ID 1188 CodeBLEU: {'codebleu': 0.8870239763769792, 'ngram_match_score': 0.8702397637697912, 'weighted_ngram_match_score': 1.0, 'syntax_match_score': 0.75, 'dataflow_match_score': 1.0}
2025-09-23 02:45:14,923 - INFO - Generating glue code for step ID 1189
2025-09-23 02:45:14,926 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-d3459885-f82b-43f6-84ad-b2612bcf8e9d', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n  @When("I add {int} and {int}")\nGlue Code:\n  @When("I add {int} and {int}")\n  public void adding(int arg1, int arg2) {\n    calc.push(arg1);\n    calc.push(arg2);\n    calc.push("+");\n  }\n\nExample 2:\nGherkin Step:\n\n  @When("I add {int} and {int}")\nGlue Code:\n  @When("I add {int} and {int}")\n  public void adding(int arg1, int arg2) {\n    calc.push(arg1);\n    calc.push(arg2);\n    calc.push("+");\n  }\n\nExample 3:\nGherkin Step:\n\n  @When("I add {int} and {int}")\nGlue Code:\n  @When("I add {int} and {int}")\n  public void adding(int arg1, int arg2) {\n    calc.push(arg1);\n    calc.push(arg2);\n    calc.push("+");\n  }\n\nExample 4:\nGherkin Step:\n\n  @When("I slowly add {int} and {int}")\nGlue Code:\n  @When("I slowly add {int} and {int}")\n  public void addingSlow(int arg1, int arg2) throws InterruptedException {\n    Thread.sleep(1100);\n    calc.push(arg1);\n    calc.push(arg2);\n    calc.push("+");\n  }\n\nExample 5:\nGherkin Step:\n\n  @When("I slowly add {int} and {int}")\nGlue Code:\n  @When("I slowly add {int} and {int}")\n  public void addingSlow(int arg1, int arg2) throws InterruptedException {\n    Thread.sleep(1100);\n    calc.push(arg1);\n    calc.push(arg2);\n    calc.push("+");\n  }\n\nExample 6:\nGherkin Step:\n\n  @Then("the result is {int}")\nGlue Code:\n  @Then("the result is {int}")\n  public void the_result_is(double expected) {\n    assertEquals(expected, calc.value());\n  }\n\nExample 7:\nGherkin Step:\n\n  @Then("the result is {int}")\nGlue Code:\n  @Then("the result is {int}")\n  public void the_result_is(double expected) {\n    assertEquals(expected, calc.value());\n  }\n\nExample 8:\nGherkin Step:\n\n  @Then("the result is {int}")\nGlue Code:\n  @Then("the result is {int}")\n  public void the_result_is(double expected) {\n    assertEquals(expected, calc.value());\n  }\n\nExample 9:\nGherkin Step:\n  @Then("the result is {int}")\nGlue Code:\n  public void the_result_is(double expected) {\n    assertEquals(expected, calc.value());\n  }\n  static class Calculator {\n\nExample 10:\nGherkin Step:\n\n  @Given("a calculator I just turned on")\nGlue Code:\n  @Given("a calculator I just turned on")\n  public void a_calculator_I_just_turned_on() {\n    calc = new Calculator();\n  }\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n  @When("I add {int} and {int}")\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:14,927 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:14,928 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:14,928 - DEBUG - send_request_headers.complete
2025-09-23 02:45:14,928 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:14,929 - DEBUG - send_request_body.complete
2025-09-23 02:45:14,929 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:14,932 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:14 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b46dfc6e01dc-YYC')])
2025-09-23 02:45:14,933 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:14,933 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:15,135 - DEBUG - receive_response_body.complete
2025-09-23 02:45:15,135 - DEBUG - response_closed.started
2025-09-23 02:45:15,135 - DEBUG - response_closed.complete
2025-09-23 02:45:15,136 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:13 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b4607e76420e-YYC'})
2025-09-23 02:45:15,136 - DEBUG - request_id: None
2025-09-23 02:45:15,138 - INFO - Generated glue code: 
```java
@When("doing get results operation on SAST scan with {int} {int} {int} {int} results")
public void getSASTResults(int high, int medium, int low, int info) throws InterruptedException {
    try {
        scanResultsToInject = createFakeSASTScanResults(high, medium, low);
        addAdditionalInfoToResults();
        addFlowSummaryToResults(high, medium, low, info);

        ScanRequest scanRequest = createScanRequest();

        CompletableFuture<ScanResults> task = resultsService.processScanResultsAsync(
                scanRequest, PROJECT_ID, SCAN_ID, null, null);
        task.get(1, TimeUnit.MINUTES);
    } catch (MachinaException | ExecutionException | TimeoutException e) {
        String message = "Error processing scan results.";
        log.error(message, e);
        Assert.fail(message);
    }
}
```
2025-09-23 02:45:15,151 - INFO - Step ID 621 CodeBLEU: {'codebleu': 0.8950254981652426, 'ngram_match_score': 0.8735597315706318, 'weighted_ngram_match_score': 0.8771326475667577, 'syntax_match_score': 0.864406779661017, 'dataflow_match_score': 0.9354838709677419}
2025-09-23 02:45:15,151 - INFO - Generating glue code for step ID 622
2025-09-23 02:45:15,155 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-01689f1d-6c8a-4d7e-a76d-b30e6c2c71bd', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n    @When("doing get results operation on SAST scan with {int} {int} {int} {int} results")\nGlue Code:\n    @When("doing get results operation on SAST scan with {int} {int} {int} {int} results")\n    public void getSASTResults(int high, int medium, int low, int info) throws InterruptedException {\n        try {\n            scanResultsToInject = createFakeSASTScanResults();\n            ScanRequest scanRequest = createScanRequest();\n            setFindingsSummary(high, medium, low, info);\n            addAdditionalInfoToResults();\n            addFlowSummaryToResults(high, medium, low, info);\n            CompletableFuture<ScanResults> task = resultsService.processScanResultsAsync(\n                    scanRequest, PROJECT_ID, SCAN_ID, null, null);\n            task.get(1, TimeUnit.MINUTES);\n        } catch (MachinaException | ExecutionException | TimeoutException e) {\n            String message = "Error processing scan results.";\n            log.error(message, e);\n            Assert.fail(message);\n        }\n    }\n\nExample 2:\nGherkin Step:\n    @And("doing get results operation on scan with {int} {int} {int} {int} results")\nGlue Code:\n    public void getASTResults(int high, int medium, int low, int info) throws InterruptedException {\n        try {\n            if(scannerType.equalsIgnoreCase(AST)) {\n                scanResultsToInject = createFakeASTScanResults(high, medium, low);\n                addFlowSummaryToResults(high, medium, low, info);\n            }\n            if(scannerType.equalsIgnoreCase(AST_SCA)) {\n                scanResultsToInject = createFakeSCAScanResults(high, medium, low);\n                ScanResults astScanResults = createFakeASTScanResults(high, medium, low);\n                scanResultsToInject.setAstResults(astScanResults.getAstResults());\n                addFlowSummaryToResults(high*2, medium*2, low*2, info*2);\n            }\n            \n            ScanRequest scanRequest = createScanRequest();\n\n            CompletableFuture<ScanResults> task = resultsService.processScanResultsAsync(\n                    scanRequest, PROJECT_ID, SCAN_ID, null, null);\n            task.get(1, TimeUnit.MINUTES);\n            \n        } catch (MachinaException | ExecutionException | TimeoutException e) {\n            String message = "Error processing scan results.";\n            log.error(message, e);\n            Assert.fail(message);\n        }\n\nExample 3:\nGherkin Step:\n\n    @When("doing get results operation on SAST scan with {int} {int} {int} {int} results and filter is {string}")\nGlue Code:\n    @When("doing get results operation on SAST scan with {int} {int} {int} {int} results and filter is {string}")\n    public void getResultsWithFilter(int high, int medium, int low, int info, String filter) throws InterruptedException  {\n        try {\n            scanResultsToInject = createFakeSASTScanResults();\n            ScanRequest scanRequest = createScanRequest();\n            setFindingsSummary(high, medium, low, info, filter);\n            addAdditionalInfoToResults();\n            addFlowSummaryToResults(high, medium, low, info);\n            CompletableFuture<ScanResults> task = resultsService.processScanResultsAsync(\n                    scanRequest, PROJECT_ID, SCAN_ID, null, null);\n            task.get(1, TimeUnit.MINUTES);\n        } catch (MachinaException | ExecutionException | TimeoutException e) {\n            String message = "Error processing scan results.";\n            log.error(message, e);\n            Assert.fail(message);\n        }\n    }\n\nExample 4:\nGherkin Step:\n\n    @Given("previous scan for a SCA project contains {int} findings")\nGlue Code:\n    @Given("previous scan for a SCA project contains {int} findings")\n    public void previousScanForASCAProjectContainsFindings(int count) {\n        log.info("Assuming finding count: {} for the previous scan.", count);\n    }\n\nExample 5:\nGherkin Step:\n\n    @Given("there are {int} findings from which {int} results match the filter")\nGlue Code:\n    @Given("there are {int} findings from which {int} results match the filter")\n    public void setResultsAndFilters(int totalResults, int matchingResults) {\n        findingsType = FindingsType.DIFFERENT_SEVERITIES;\n        numOfFindings = matchingResults;\n        this.totalResults = totalResults;\n        needFilter = true;\n        Filter filter = Filter.builder().type(Filter.Type.SEVERITY).value("High").build();\n        filters = Collections.singletonList(filter);\n    }\n\nExample 6:\nGherkin Step:\n\n\n    @Given("SAST results with that should result in {int} JIRS issues")\nGlue Code:\n\n    @Given("SAST results with that should result in {int} JIRS issues")\n\nExample 7:\nGherkin Step:\n\n    @Then("ADO contains {int} issues")\nGlue Code:\n    @Then("ADO contains {int} issues")\n    public void adoContainsIssueCount(int expectedIssueCount) {\n        Duration timeout = Duration.ofSeconds(30);\n        Duration pollInterval = Duration.ofSeconds(5);\n        try {\n            Awaitility.await().atMost(timeout)\n                    .pollInterval(pollInterval)\n                    .until(() -> adoClient.getIssueCount() == expectedIssueCount);\n        } catch (ConditionTimeoutException e) {\n            String message = String.format("Waited for %s but didn\'t get the expected ADO issue count (%d).",\n                    timeout, expectedIssueCount);\n\n            Assert.fail(message);\n        }\n    }\n\nExample 8:\nGherkin Step:\n\n    @Given("input has {int} findings with {string} severity")\nGlue Code:\n    @Given("input has {int} findings with {string} severity")\n    public void inputHasFindingsWithSeverity(int findingCount, String severity) {\n        String fragment = String.format("%d-%s-", findingCount,\n                severity.toLowerCase(Locale.ROOT));\n\n        testContext.appendToInputFilename(fragment);\n    }\n\nExample 9:\nGherkin Step:\n\n    @Then("verify results contains {int}, {int}, {int}, {int} for severities {}")\nGlue Code:\n    @Then("verify results contains {int}, {int}, {int}, {int} for severities {}")\n    public void verifyNumOfIssuesForSeverities(int high, int medium, int low, int info, String severities) {\n        List<Filter> filters = createFiltersFromString(severities, Filter.Type.SEVERITY);\n        Map<Filter.Severity, Integer> actualJira = jiraUtils.getIssuesPerSeverity(jiraProperties.getProject());\n        for (Filter filter: filters) {\n            Filter.Severity severity = Filter.Severity.valueOf(filter.getValue().toUpperCase());\n            switch (severity) {\n                case HIGH:\n                    Assert.assertEquals("HIGH issues does not match", (int) actualJira.get(Filter.Severity.HIGH), high);\n                    break;\n                case MEDIUM:\n                    Assert.assertEquals("Medium issues does not match", (int) actualJira.get(Filter.Severity.MEDIUM), medium);\n                    break;\n                case LOW:\n                    Assert.assertEquals("Medium issues does not match", (int) actualJira.get(Filter.Severity.LOW), low);\n                    break;\n                case INFO:\n                    Assert.assertEquals("Medium issues does not match", (int) actualJira.get(Filter.Severity.INFO), info);\n                    break;\n            }\n        }\n    }\n\nExample 10:\nGherkin Step:\n\n    @And("each issue contains {int} result")\nGlue Code:\n    @And("each issue contains {int} result")\n    public void eachIssueContainsResult(int expectedResultCount) throws IOException {\n        verifyCxFlowResultCount(expectedResultCount, false);\n    }\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n    @When("doing get results operation on SCA scan with {int} {int} {int} results")\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:15,156 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:15,156 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:15,157 - DEBUG - send_request_headers.complete
2025-09-23 02:45:15,157 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:15,157 - DEBUG - send_request_body.complete
2025-09-23 02:45:15,157 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:15,183 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:15 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b46dbcddbec2-YYC')])
2025-09-23 02:45:15,183 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:15,184 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:15,188 - DEBUG - receive_response_body.complete
2025-09-23 02:45:15,188 - DEBUG - response_closed.started
2025-09-23 02:45:15,188 - DEBUG - response_closed.complete
2025-09-23 02:45:15,189 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:14 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b46adccd01de-YYC', 'content-encoding': 'gzip'})
2025-09-23 02:45:15,189 - DEBUG - request_id: None
2025-09-23 02:45:15,190 - INFO - Generated glue code: 
```java
@Then("^I should see applications$")
public void i_should_see_applications() {
    applicationsSteps.checkOnApplicationsPage();
}
```
2025-09-23 02:45:15,193 - WARNING - WARNING: There is no reference data-flows extracted from the whole corpus, and the data-flow match score degenerates to 0. Please consider ignoring this score.
2025-09-23 02:45:15,193 - INFO - Step ID 1003 CodeBLEU: {'codebleu': 0.8332675529515805, 'ngram_match_score': 0.6315552371794037, 'weighted_ngram_match_score': 0.7920293832454919, 'syntax_match_score': 0.7272727272727273, 'dataflow_match_score': 0}
2025-09-23 02:45:15,193 - INFO - Generating glue code for step ID 1043
2025-09-23 02:45:15,197 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-8d166034-c622-4bce-82f8-fe23890f0ea4', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n    @When("^I submit the application$")\nGlue Code:\n    @When("^I submit the application$")\n    public void i_submit_the_application() {\n        applicationSteps.submitApplication();\n    }\n\nExample 2:\nGherkin Step:\n\n    @Given("^I have indicated that the owner has an interest in another Medicaid disclosing entity$")\nGlue Code:\n    @Given("^I have indicated that the owner has an interest in another Medicaid disclosing entity$")\n    public void i_have_indicated_that_the_owner_has_an_interest_in_another_Medicaid_disclosing_entity() {\n        ownershipInfoPage.clickDisclosure();\n    }\n\nExample 3:\nGherkin Step:\n\n    @Given("^I have the application open in my browser$")\nGlue Code:\n    @Given("^I have the application open in my browser$")\n    public void i_have_the_application_open_in_my_browser() {\n        loginPage.open();\n    }\n\nExample 4:\nGherkin Step:\n\n    @Given("^I have entered a city for that other entity$")\nGlue Code:\n    @Given("^I have entered a city for that other entity$")\n    public void i_have_entered_a_city_for_that_other_entity() {\n        ownershipInfoPage.setControlOwnershipOtherLegalName("My Other Name");\n        ownershipInfoPage.setControlOwnershipPctInterest(12.5);\n        ownershipInfoPage.setControlOwnershipAddr1("333 Test Ln");\n        ownershipInfoPage.setControlOwnershipCity("Check This City");\n        ownershipInfoPage.setControlOwnershipZip("77707");\n        ownershipInfoPage.selectControlOwnershipState("Texas");\n        ownershipInfoPage.selectControlOwnershipCounty("Becker");\n    }\n\nExample 5:\nGherkin Step:\n\n    @Then("^I should have no errors$")\nGlue Code:\n    @Then("^I should have no errors$")\n    public void i_should_have_no_errors() {\n        generalSteps.hasNoServerError();\n    }\n\nExample 6:\nGherkin Step:\n\n    @Given("^I am logged in as an admin$")\nGlue Code:\n    @Given("^I am logged in as an admin$")\n    public void i_am_logged_in_as_an_admin() {\n        generalSteps.login("admin", "admin");\n    }\n\nExample 7:\nGherkin Step:\n\n    @Then("^I should have no accessibility issues$")\nGlue Code:\n    @Then("^I should have no accessibility issues$")\n    public void i_should_have_no_accessibility_issues() {\n        generalSteps.hasNoServerError();\n        page.checkAccessibility();\n    }\n\nExample 8:\nGherkin Step:\n\n    @When("^I open an individual member panel")\nGlue Code:\n    @When("^I open an individual member panel")\n    public void i_open_an_individual_member_panel() {\n        applicationSteps.openIndividualMemberPanel();\n    }\n\nExample 9:\nGherkin Step:\n\n    @When("^I enter an (\\\\d+) digit FEIN$")\nGlue Code:\n    @When("^I enter an (\\\\d+) digit FEIN$")\n    public void i_enter_an_digit_fein(int numDigits) {\n        String generatedFEIN = StringUtils.repeat("0", numDigits);\n        organizationInfoPage.setFEIN(generatedFEIN);\n    }\n\nExample 10:\nGherkin Step:\n\n    @Then("^I should get an FEIN error$")\nGlue Code:\n    @Then("^I should get an FEIN error$")\n    public void i_should_get_an_fein_error() throws Exception {\n        applicationSteps.checkForFeinError();\n    }\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n    @Given("^I have started an application$")\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:15,198 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:15,199 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:15,200 - DEBUG - send_request_headers.complete
2025-09-23 02:45:15,200 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:15,200 - DEBUG - send_request_body.complete
2025-09-23 02:45:15,200 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:15,204 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:15 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b46e9b8abee8-YYC')])
2025-09-23 02:45:15,204 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:15,205 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:15,291 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:15 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b46f88f7bf01-YYC')])
2025-09-23 02:45:15,291 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:15,292 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:15,333 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:15 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b46fbbf601d4-YYC')])
2025-09-23 02:45:15,334 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:15,334 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:15,377 - DEBUG - receive_response_body.complete
2025-09-23 02:45:15,378 - DEBUG - response_closed.started
2025-09-23 02:45:15,378 - DEBUG - response_closed.complete
2025-09-23 02:45:15,378 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:14 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b46dfc6e01dc-YYC'})
2025-09-23 02:45:15,378 - DEBUG - request_id: None
2025-09-23 02:45:15,380 - INFO - Generated glue code: 
```java
@And( "user visits a public project page" )
public void userVisitsAPublicProjectPage() {
    webDriver.get( Utils.PUBLIC_PROJECT_PAGE );
}
```
2025-09-23 02:45:15,383 - WARNING - WARNING: There is no reference data-flows extracted from the whole corpus, and the data-flow match score degenerates to 0. Please consider ignoring this score.
2025-09-23 02:45:15,383 - INFO - Step ID 84 CodeBLEU: {'codebleu': 0.6253496122411019, 'ngram_match_score': 0.5853882755435387, 'weighted_ngram_match_score': 0.6014411802008128, 'syntax_match_score': 0.26666666666666666, 'dataflow_match_score': 0}
2025-09-23 02:45:15,383 - INFO - Generating glue code for step ID 85
2025-09-23 02:45:15,387 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-c444ac5a-1b5a-468f-a73d-b77eb44c3027', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n    @And( "Freelancer adds a comment" )\nGlue Code:\n    @And( "Freelancer adds a comment" )\n    public void freelancerAddsAComment() {\n        webDriver.findElement( By.id( "comment" ) ).sendKeys( "Hehe" );\n    }\n\nExample 2:\nGherkin Step:\n\n    @And( "Freelancer fills his details" )\nGlue Code:\n    @And( "Freelancer fills his details" )\n    public void freelancerFillsHisDetails() {\n        webDriver.findElement( By.id( "summary" ) ).sendKeys( "Blah Blah" );\n        webDriver.findElement( By.id( "skills" ) ).sendKeys( "python\\nc++ sleeping" );\n        webDriver.findElement( By.id( "is-available" ) ).click();\n    }\n\nExample 3:\nGherkin Step:\n\n    @And( "user enters his email" )\nGlue Code:\n    @And( "user enters his email" )\n    public void userEntersHisEmail() {\n        User user = Utils.getOrCreateTestUser( userService );\n\n        webDriver.findElement( By.id( "email" ) ).sendKeys( user.getEmail() );\n    }\n\nExample 4:\nGherkin Step:\n\n    @And( "Freelancer visits my profile page" )\nGlue Code:\n    @And( "Freelancer visits my profile page" )\n    public void freelancerVisitsMyProfilePage() {\n        webDriver.get( Utils.FREELANCER_PROFILE );\n    }\n\nExample 5:\nGherkin Step:\n\n    @Given( "Freelancer logins" )\nGlue Code:\n    @Given( "Freelancer logins" )\n    public void freelancerLogins() {\n        webDriver.get( Utils.LOGIN_PAGE );\n        webDriver.findElement( By.id( "email" ) ).sendKeys( "freelancer@test.com" );\n        webDriver.findElement( By.id( "password" ) ).sendKeys( "password" );\n        webDriver.findElement( By.id( "submit" ) ).click();\n    }\n\nExample 6:\nGherkin Step:\n\n    @And( "user enters his new password and password confirm" )\nGlue Code:\n    @And( "user enters his new password and password confirm" )\n    public void userEntersHisNewPasswordAndPasswordConfirm() {\n        webDriver.findElement( By.id( "password" ) ).sendKeys( "newpassword" );\n        webDriver.findElement( By.id( "password-confirm" ) ).sendKeys( "newpassword" );\n    }\n\nExample 7:\nGherkin Step:\n\n    @Then( "Freelancer profile is updated" )\nGlue Code:\n    @Then( "Freelancer profile is updated" )\n    public void freelancerProfileIsUpdated() {\n        var user = (User) userService.loadUserByUsername( this.user.getEmail() );\n\n        Freelancer freelancer = (Freelancer) user.getType();\n        assertEquals( "Blah Blah", freelancer.getSummary() );\n        assertTrue( freelancer.isAvailable() );\n\n        Set<Skill> skills = Set.of( Skill.of( "python" ), Skill.of( "c++ sleeping" ) );\n        assertEquals( skills, freelancer.getSkills() );\n        webDriver.close();\n    }\n\nExample 8:\nGherkin Step:\n\n    @When( "Freelancer clicks the Bid button" )\nGlue Code:\n    @When( "Freelancer clicks the Bid button" )\n    public void freelancerClicksTheBidButton() {\n        webDriver.findElement( By.id( "add-bid-btn" ) ).click();\n    }\n\nExample 9:\nGherkin Step:\n\n    @When( "Freelancer clicks the update button" )\nGlue Code:\n    @When( "Freelancer clicks the update button" )\n    public void freelancerClicksTheUpdateButton() {\n        webDriver.findElement( By.id( "submit-profile" ) ).click();\n    }\n\nExample 10:\nGherkin Step:\n\n    @And("stakeholder sets his proposal amount to a freelancer")\nGlue Code:\n    @And("stakeholder sets his proposal amount to a freelancer")\n    public void stakeholderSetsHisProposalAmountToAFreelancer() {\n        webDriver.findElement( By.id( "amount-" + freelancer.getType().getId() ) ).clear();\n        webDriver.findElement( By.id( "amount-" + freelancer.getType().getId() ) ).sendKeys( "200" );\n    }\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n    @And( "Freelancer adds his bid" )\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:15,388 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:15,388 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:15,389 - DEBUG - send_request_headers.complete
2025-09-23 02:45:15,389 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:15,389 - DEBUG - send_request_body.complete
2025-09-23 02:45:15,389 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:15,575 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:15 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b471ccbb420e-YYC')])
2025-09-23 02:45:15,575 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:15,576 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:15,678 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:15 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b46f5bcebed1-YYC')])
2025-09-23 02:45:15,679 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:15,679 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:15,686 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:15 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b47058f301e4-YYC')])
2025-09-23 02:45:15,687 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:15,687 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:15,720 - DEBUG - receive_response_body.complete
2025-09-23 02:45:15,720 - DEBUG - response_closed.started
2025-09-23 02:45:15,720 - DEBUG - response_closed.complete
2025-09-23 02:45:15,721 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:15 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b46e9b8abee8-YYC'})
2025-09-23 02:45:15,721 - DEBUG - request_id: None
2025-09-23 02:45:15,723 - INFO - Generated glue code: 
```java
@Given("^the binary-tree-(\\d+) graph$")
public void givenTheBinaryTreeGraph(int depth) {
    createBinaryTreeGraph(depth);
}
```
2025-09-23 02:45:15,730 - INFO - Step ID 609 CodeBLEU: {'codebleu': 0.11511128784844005, 'ngram_match_score': 0.020536741975516335, 'weighted_ngram_match_score': 0.10469378356770759, 'syntax_match_score': 0.17647058823529413, 'dataflow_match_score': 0.08}
2025-09-23 02:45:15,730 - INFO - Generating glue code for step ID 610
2025-09-23 02:45:15,734 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-de6ffc68-3af4-4a73-a688-59d9298db2a4', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n    @Given("^any graph$")\nGlue Code:\n    @Given("^any graph$")\n    public void givenAnyGraph() {\n        createGraph();\n    }\n\nExample 2:\nGherkin Step:\n\n    @Given("^an empty graph$")\nGlue Code:\n    @Given("^an empty graph$")\n    public void givenEmptyGraph() {\n        createGraph();\n    }\n\nExample 3:\nGherkin Step:\n\n    @Given("^the binary-tree-(\\\\d+) graph$")\nGlue Code:\n    @Given("^the binary-tree-(\\\\d+) graph$")\n    public void givenTheBinaryTreeGraph(int number) throws Throwable {\n        createGraph();\n        String resourceName = String.format("/org/vertexium/cypher/tck/graphs/binary-tree-%d/binary-tree-%d.cypher", number, number);\n        InputStream treeIn = this.getClass().getResourceAsStream(resourceName);\n        if (treeIn == null) {\n            throw new VertexiumException("Could not find \'" + resourceName + "\'");\n        }\n        String cyp = IOUtils.toString(treeIn);\n        CypherCompilerContext compilerContext = new CypherCompilerContext(ctx.getFunctions());\n        VertexiumCypherQuery.parse(compilerContext, cyp).execute(ctx);\n    }\n\nExample 4:\nGherkin Step:\n\n    @When("^executing(.*)query:$")\nGlue Code:\n    @When("^executing(.*)query:$")\n    public void whenExecutingQuery(String queryName, String queryString) {\n        ctx.clearCounts();\n        lastResultRows = null;\n        lastResultColumnNames = null;\n        lastCompileTimeException = null;\n        lastRuntimeException = null;\n        try {\n            CypherCompilerContext compilerContext = new CypherCompilerContext(ctx.getFunctions());\n            query = VertexiumCypherQuery.parse(compilerContext, queryString);\n            try {\n                VertexiumCypherResult results = query.execute(ctx);\n                lastResultRows = results\n                    .peek(row -> {\n                        try {\n                            Map<String, Object> scope = row.popScope();\n                            throw new VertexiumCypherException("Scope should be empty:\\n"\n                                + scope.entrySet().stream().map(e -> e.getKey() + ": " + e.getValue()).collect(Collectors.joining("\\n"))\n                            );\n                        } catch (Exception ex) {\n                            // OK\n                        }\n                    })\n                    .collect(Collectors.toList());\n                lastResultColumnNames = results.getColumnNames();\n            } catch (Exception ex) {\n                lastRuntimeException = ex;\n            }\n        } catch (Exception ex) {\n            lastCompileTimeException = ex;\n        }\n    }\n\nExample 5:\nGherkin Step:\n\n    @Given("^having executed:$")\nGlue Code:\n    @Given("^having executed:$")\n    public void givenHavingExecuted(String queryString) {\n        CypherCompilerContext compilerContext = new CypherCompilerContext(ctx.getFunctions());\n        VertexiumCypherQuery.parse(compilerContext, queryString).execute(ctx).count();\n    }\n\nExample 6:\nGherkin Step:\n\n    @Then("^the result should be, in order:$")\nGlue Code:\n    @Then("^the result should be, in order:$")\n    public void thenTheResultShouldBeInOrder(DataTable expected) throws Throwable {\n        thenTheResultShouldBe(expected);\n    }\n\nExample 7:\nGherkin Step:\n\n    @Then("^the result should be \\\\(ignoring element order for lists\\\\):$")\nGlue Code:\n    @Then("^the result should be \\\\(ignoring element order for lists\\\\):$")\n    public void thenTheResultShouldBeIgnoringElementOrderForLists(DataTable expected) throws Throwable {\n        thenTheResultShouldBe(expected);\n    }\n\nExample 8:\nGherkin Step:\n\n    @Then("^the result should be:$")\nGlue Code:\n    @Then("^the result should be:$")\n    public void thenTheResultShouldBe(DataTable expected) throws Throwable {\n        if (lastCompileTimeException != null) {\n            throw lastCompileTimeException;\n        }\n        if (lastRuntimeException != null) {\n            throw lastRuntimeException;\n        }\n        List<String> columnNames = expected.raw().get(0);\n        if (expected.raw().size() > 0) {\n            List<List<String>> expectedRows = expected.raw().stream()\n                .skip(1)\n                .collect(Collectors.toList());\n            List<List<String>> foundRows = lastResultRows.stream()\n                .map(row -> lastResultColumnNames.stream()\n                    .map(row::get)\n                    .map(obj -> ctx.getResultWriter().columnValueToString(ctx, obj))\n                    .collect(Collectors.toList())\n                )\n                .collect(Collectors.toList());\n\n            expectedRows.sort(new RowComparator());\n            foundRows.sort(new RowComparator());\n\n            if (expectedRows.size() > 0) {\n                System.out.println("Expected");\n                System.out.println(String.join(", ", expected.raw().get(0)));\n                for (List<String> expectedRow : expectedRows) {\n                    System.out.println(String.join(", ", expectedRow));\n                }\n            }\n\n            System.out.println("Found");\n            System.out.println(String.join(", ", lastResultColumnNames));\n            for (List<String> foundRow : foundRows) {\n                System.out.println(String.join(", ", foundRow));\n            }\n\n            if (expectedRows.size() > 0) {\n                assertEquals(\n                    String.format(\n                        "Header count, expected (%s), found (%s)",\n                        String.join(", ", expected.raw().get(0)),\n                        String.join(", ", lastResultColumnNames)\n                    ),\n                    expected.raw().get(0).size(),\n                    lastResultColumnNames.size()\n                );\n                for (int colIdx = 0; colIdx < expected.raw().get(0).size(); colIdx++) {\n                    String expectedColumnName = expected.raw().get(0).get(colIdx);\n                    assertTrue(\n                        String.format(\n                            "Header mismatch (expected: %s, columnNames: %s)",\n                            expectedColumnName,\n                            String.join(", ", lastResultColumnNames)\n                        ),\n                        lastResultColumnNames.contains(expectedColumnName)\n                    );\n                }\n            }\n\n            assertEquals("result count", expectedRows.size(), foundRows.size());\n\n            if (expectedRows.size() > 0) {\n                for (int row = 0; row < expectedRows.size(); row++) {\n                    List<String> expectedRow = expectedRows.get(row);\n                    List<String> foundRow = foundRows.get(row);\n                    for (int col = 0; col < expectedRow.size(); col++) {\n                        String expectedColumn = expectedRow.get(col);\n                        String foundColumn = foundRow.get(col);\n                        assertColumnValue(row, col, expectedColumn, foundColumn);\n                    }\n                }\n            }\n        }\n    }\n\nExample 9:\nGherkin Step:\n\n    @Then("^a (.*) should be raised at compile time: (.*)$")\nGlue Code:\n    @Then("^a (.*) should be raised at compile time: (.*)$")\n    public void thenASyntaxErrorShouldBeRaisedAtCompileTime(String errorType, String error) {\n        Exception ex = this.lastCompileTimeException;\n        if (ex == null) {\n            if (lastRuntimeException != null) {\n                lastRuntimeException.printStackTrace();\n                // TODO do we care?\n                LOGGER.warn("statement should have resulted in a compile time exception, but resulted in a runtime exception");\n                ex = lastRuntimeException;\n            } else {\n                Assume.assumeTrue("statement should have resulted in a compile time exception", false);\n            }\n        }\n        if (!ex.getClass().getName().contains(errorType)) {\n            ex.printStackTrace();\n            // TODO do we care?\n            LOGGER.warn("exception type should contain \\"" + errorType + "\\", but only contained \\"" + ex.getClass().getName() + "\\": " + ex);\n        }\n        if (ex.getMessage() == null || !ex.getMessage().contains(error)) {\n            ex.printStackTrace();\n            // TODO do we care?\n            LOGGER.warn("exception should contain \\"" + error + "\\", but only contained \\"" + ex.getMessage() + "\\"");\n        }\n    }\n\nExample 10:\nGherkin Step:\n\n    @Then("^a (.*) should be raised at runtime: (.*)$")\nGlue Code:\n    @Then("^a (.*) should be raised at runtime: (.*)$")\n    public void thenATypeErrorShouldBeRaisedAtRuntime(String errorType, String error) {\n        if (lastRuntimeException == null) {\n            if (lastCompileTimeException != null) {\n                LOGGER.error("compile time exception", lastCompileTimeException);\n                fail("statement should have resulted in a runtime exception, but resulted in a compile time exception");\n            } else {\n                fail("statement should have resulted in a runtime exception");\n            }\n        }\n        if (!lastRuntimeException.getClass().getName().contains(errorType)) {\n            lastRuntimeException.printStackTrace();\n            // TODO do we care?\n            LOGGER.warn("exception type should contain \\"" + errorType + "\\", but only contained \\"" + lastRuntimeException.getClass().getName() + "\\": " + lastRuntimeException);\n        }\n        if (!lastRuntimeException.getMessage().contains(error)) {\n            lastRuntimeException.printStackTrace();\n            // TODO do we care?\n            LOGGER.warn("exception should contain \\"" + error + "\\", but only contained \\"" + lastRuntimeException.getMessage() + "\\"");\n        }\n    }\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n    @Given("^parameters are:$")\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:15,735 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:15,735 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:15,736 - DEBUG - send_request_headers.complete
2025-09-23 02:45:15,736 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:15,736 - DEBUG - send_request_body.complete
2025-09-23 02:45:15,736 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:15,806 - DEBUG - receive_response_body.complete
2025-09-23 02:45:15,807 - DEBUG - response_closed.started
2025-09-23 02:45:15,807 - DEBUG - response_closed.complete
2025-09-23 02:45:15,807 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:15 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b46fbbf601d4-YYC'})
2025-09-23 02:45:15,807 - DEBUG - request_id: None
2025-09-23 02:45:15,809 - INFO - Generated glue code: 
```java
@When("^I select \"([^\"]*)\" disabled option \"([^\"]*)\"")
public void iSelectDisabledOption(String name, String value) {
    option(name, value).select();
}
```
2025-09-23 02:45:15,813 - INFO - Step ID 434 CodeBLEU: {'codebleu': 0.526361363251614, 'ngram_match_score': 0.031453315279984004, 'weighted_ngram_match_score': 0.03216031723615537, 'syntax_match_score': 0.3, 'dataflow_match_score': 1.0}
2025-09-23 02:45:15,813 - INFO - Generating glue code for step ID 435
2025-09-23 02:45:15,816 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-425f4dd2-9f57-4028-9c4a-2406c3b8fd3e', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n    @Given("^I open \\"([^\\"]*)\\"(?: page|)$")\nGlue Code:\n    @Given("^I open \\"([^\\"]*)\\"(?: page|)$")\n    public void iOpen(String pageName) {\n        if (pageName.startsWith("http")) {\n            WebPage.openUrl(pageName);\n            return;\n        }\n        getPage(pageName).shouldBeOpened();\n    }\n\nExample 2:\nGherkin Step:\n\n    @Given("^I open \\"([^\\"]*)\\"(?: page|) with params \\"([^\\"]*)\\"$")\nGlue Code:\n    @Given("^I open \\"([^\\"]*)\\"(?: page|) with params \\"([^\\"]*)\\"$")\n    public void iMOpenParams(String pageName, Object params) {\n        getPage(pageName).shouldBeOpened(params);\n    }\n\nExample 3:\nGherkin Step:\n\n    @Given("^I should be logged in$")\nGlue Code:\n    @Given("^I should be logged in$")\n    public void iShouldBeLogin() {\n        String url = WebPage.getUrl();\n        if (!url.contains("https://jdi-testing.github.io/jdi-light/")\n                || url.contains("issue")) {\n            homePage.open();\n        }\n        if (userName.isHidden()) {\n            if (loginForm.isHidden()) {\n                userIcon.click();\n            }\n            loginForm.submit(DEFAULT_USER);\n        }\n    }\n\nExample 4:\nGherkin Step:\n\n    @When("^I try to upload file \\"([^\\"]*)\\" by \\"([^\\"]*)\\" file input element$")\nGlue Code:\n    @When("^I try to upload file \\"([^\\"]*)\\" by \\"([^\\"]*)\\" file input element$")\n    public void iTryToUploadFileByFileInputElement(String pathToFile, String elementName) {\n        FileInput fileInput = getUI(elementName, FileInput.class);\n        try {\n            fileInput.uploadFile(mergePath(COMMON.projectPath, pathToFile));\n            fail("Can\'t upload file in disabled FileInput");\n        } catch (Exception ex) {\n            assertTrue(ex.getLocalizedMessage().contains("FileInput \'Disabled File Input\' is disabled. Can\'t upload file"));\n        }\n    }\n\nExample 5:\nGherkin Step:\n    @When("^I select \\"([^\\"]*)\\" disabled option \\"([^\\"]*)\\"")\nGlue Code:\n    public void iSelectDisabled(String name, String option) {\n        try {\n            iCheckCheckBox(name, option);\n            fail("Select disabled should throw exception");\n        } catch (Exception ignore) {}\n\nExample 6:\nGherkin Step:\n    @When("^(?:I |)refresh webpage$")\nGlue Code:\n    public void refreshWebpage() {\n        WebPage.refresh();\n    }\n\n    @When("^(?:I |)click on \\"([^\\"]*)\\"$")\n    public void click(String name) {\n\nExample 7:\nGherkin Step:\n\n    @When("^(?:I |)click on \\"([^\\"]*)\\"$")\nGlue Code:\n    @When("^(?:I |)click on \\"([^\\"]*)\\"$")\n    public void click(String name) {\n        getUI(name, IClickable.class).click();\n    }\n\nExample 8:\nGherkin Step:\n\n    @When("^(?:I |)send keys \\"([^\\"]*)\\" to \\"([^\\"]*)\\"$")\nGlue Code:\n    @When("^(?:I |)send keys \\"([^\\"]*)\\" to \\"([^\\"]*)\\"$")\n    public void sendKeys(String value, String name) {\n        input(name).sendKeys(value);\n    }\n\nExample 9:\nGherkin Step:\n\n    @When("^(?:I |)check \\"([^\\"]*)\\"$")\nGlue Code:\n    @When("^(?:I |)check \\"([^\\"]*)\\"$")\n    public void check(String name) {\n        getUI(name, HasCheck.class).check();\n    }\n\nExample 10:\nGherkin Step:\n\n    @When("^(?:I |)uncheck \\"([^\\"]*)\\"$")\nGlue Code:\n    @When("^(?:I |)uncheck \\"([^\\"]*)\\"$")\n    public void uncheck(String name) {\n        getUI(name, HasCheck.class).uncheck();\n    }\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n    @Given("^I open application$")\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:15,818 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:15,818 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:15,819 - DEBUG - send_request_headers.complete
2025-09-23 02:45:15,819 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:15,819 - DEBUG - send_request_body.complete
2025-09-23 02:45:15,819 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:15,834 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:15 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b4720ba901de-YYC')])
2025-09-23 02:45:15,834 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:15,835 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:15,857 - DEBUG - receive_response_body.complete
2025-09-23 02:45:15,857 - DEBUG - response_closed.started
2025-09-23 02:45:15,857 - DEBUG - response_closed.complete
2025-09-23 02:45:15,857 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:15 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b46f88f7bf01-YYC'})
2025-09-23 02:45:15,858 - DEBUG - request_id: None
2025-09-23 02:45:15,859 - INFO - Generated glue code: 
```java
@Then("^Test must pass because database state is as in expected dataset.$")
public void Test_must_pass_because_database_state_is_as_in_expected_dataset() throws Throwable {
}
```
2025-09-23 02:45:15,862 - WARNING - WARNING: There is no reference data-flows extracted from the whole corpus, and the data-flow match score degenerates to 0. Please consider ignoring this score.
2025-09-23 02:45:15,862 - INFO - Step ID 35 CodeBLEU: {'codebleu': 0.7573260979633223, 'ngram_match_score': 0.4269883777300133, 'weighted_ngram_match_score': 0.47960593523654194, 'syntax_match_score': 0.6666666666666666, 'dataflow_match_score': 0}
2025-09-23 02:45:15,862 - INFO - Generating glue code for step ID 36
2025-09-23 02:45:15,866 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-c7efc277-8f7e-49cd-aea1-4f001362acec', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n    @Then("^Test must pass because database state is as in expected dataset.$")\nGlue Code:\n    @Then("^Test must pass because database state is as in expected dataset.$")\n    public void Test_must_pass_because_dataBase_state_is_as_expected_in_dataset() throws Throwable {\n        // Express the Regexp above with the code you wish you had\n    }\n\nExample 2:\nGherkin Step:\n\n    @Then("^Test must pass because inserted users are commited to database and database state matches expected dataset.$")\nGlue Code:\n    @Then("^Test must pass because inserted users are commited to database and database state matches expected dataset.$")\n    public void Test_must_pass_because_inserted_users_are_commited_to_database_and_database_state_matches_in_expected_dataset() throws Throwable {\n    }\n\nExample 3:\nGherkin Step:\n\n    @Then("^The database should be seeded with the dataset content before test execution$")\nGlue Code:\n    @Then("^The database should be seeded with the dataset content before test execution$")\n    public void The_database_should_be_seeded_with_the_dataset_content() throws Throwable {\n\n    }\n\nExample 4:\nGherkin Step:\n\n    @Then("^The database should be seeded with the dataset content before test execution$")\nGlue Code:\n    @Then("^The database should be seeded with the dataset content before test execution$")\n    @DataSet("yml/users.yml")\n    public void The_database_should_be_seeded_with_the_dataset_content() throws Throwable {\n        List<User> users = em.createQuery("select u from User u order by u.id asc").getResultList();\n        User user1 = new User(1);\n        User user2 = new User(2);\n        Tweet tweetUser1 = new Tweet();\n        tweetUser1.setId("abcdef12345");\n        Tweet tweetUser2 = new Tweet();\n        tweetUser2.setId("abcdef12233");\n        assertThat(users).isNotNull().hasSize(2).contains(user1, user2);\n        List<Tweet> tweetsUser1 = users.get(0).getTweets();\n        assertThat(tweetsUser1).isNotNull().hasSize(1).contains(tweetUser1);\n\n        List<Tweet> tweetsUser2 = users.get(1).getTweets();\n        assertThat(tweetsUser2).isNotNull().hasSize(2).contains(tweetUser2);\n\n    }\n\nExample 5:\nGherkin Step:\n\n    @Then("^The database should be seeded with the dataset content before step execution$")\nGlue Code:\n    @Then("^The database should be seeded with the dataset content before step execution$")\n    public void The_database_should_be_seeded_with_the_dataset_content_before_step_execution() throws Throwable {\n        // Express the Regexp above with the code you wish you had\n    }\n\nExample 6:\nGherkin Step:\n\n    @And("^The following dataset$")\nGlue Code:\n    @And("^The following dataset$")\n    public void The_following_dataset(String docstring) throws Throwable {\n        assertNotNull(docstring);\n    }\n\nExample 7:\nGherkin Step:\n\n\n\n    @Given("^The following feature$")\nGlue Code:\n\n\n    @Given("^The following feature$")\n    public void The_following_feature(String docstring) throws Throwable {\n        assertNotNull(docstring);\n    }\n\nExample 8:\nGherkin Step:\n\n\n    @Given("^The following junit rules$")\nGlue Code:\n\n    @Given("^The following junit rules$")\n    public void the_following_junit_rules(String docString) throws Throwable {\n\n    }\n\nExample 9:\nGherkin Step:\n\n    @And("^The following Cucumber test$")\nGlue Code:\n    @And("^The following Cucumber test$")\n    public void The_following_Cucumber_test(String docstring) throws Throwable {\n      assertNotNull(docstring);\n    }\n\nExample 10:\nGherkin Step:\n\n    @When("^The following test is executed:$")\nGlue Code:\n    @When("^The following test is executed:$")\n    public void The_test_below_is_executed(String docstring) throws Throwable {\n        assertNotNull(docstring);\n    }\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n\n    @Then("^Test must fail with following error:$")\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:15,867 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:15,867 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:15,868 - DEBUG - send_request_headers.complete
2025-09-23 02:45:15,868 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:15,868 - DEBUG - send_request_body.complete
2025-09-23 02:45:15,868 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:15,890 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:15 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b4733a1a01dc-YYC')])
2025-09-23 02:45:15,890 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:15,890 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:16,084 - DEBUG - receive_response_body.complete
2025-09-23 02:45:16,084 - DEBUG - response_closed.started
2025-09-23 02:45:16,085 - DEBUG - response_closed.complete
2025-09-23 02:45:16,085 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:15 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b46dbcddbec2-YYC'})
2025-09-23 02:45:16,085 - DEBUG - request_id: None
2025-09-23 02:45:16,087 - INFO - Generated glue code: 
```java
@And("update AD_Column:")
public void update_AD_Column(@NonNull final DataTable dataTable)
{
	final List<Map<String, String>> rows = dataTable.asMaps();
	for (final Map<String, String> dataTableRow : rows)
	{
		updateADColumn(dataTableRow);
	}
}
```
2025-09-23 02:45:16,091 - INFO - Step ID 1216 CodeBLEU: {'codebleu': 0.6551251351696017, 'ngram_match_score': 0.1721916742076807, 'weighted_ngram_match_score': 0.4967067363118649, 'syntax_match_score': 0.47058823529411764, 'dataflow_match_score': 1.0}
2025-09-23 02:45:16,092 - INFO - Generating glue code for step ID 1217
2025-09-23 02:45:16,098 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-4e25e033-272b-44df-9da0-c356967536b0', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n\t@When("set custom columns for S_ResourceType:")\nGlue Code:\n\t@When("set custom columns for S_ResourceType:")\n\tpublic void setCustomColumn_S_ResourceType(@NonNull final DataTable dataTable)\n\t{\n\t\tfor (final Map<String, String> row : dataTable.asMaps())\n\t\t{\n\t\t\tsetS_ResourceType_customColumnsValues(row);\n\t\t}\n\t}\n\nExample 2:\nGherkin Step:\n\n\t@And("recompute modular log for record expecting error")\nGlue Code:\n\t@And("recompute modular log for record expecting error")\n\tpublic void recomputeLogsForRecordExpectingError(@NonNull final DataTable dataTable)\n\t{\n\t\tfinal List<Map<String, String>> tableRows = dataTable.asMaps(String.class, String.class);\n\t\tassertThat(tableRows.size())\n\t\t\t\t.as("Expecting only one row!")\n\t\t\t\t.isEqualTo(1);\n\n\t\tfinal Map<String, String> row = tableRows.get(0);\n\n\t\ttry\n\t\t{\n\t\t\trecomputeLogsForRecord(row);\n\n\t\t\tAssertions.fail("Expecting error to be thrown");\n\t\t}\n\t\tcatch (final Exception e)\n\t\t{\n\t\t\tfinal String messageKey = DataTableUtil.extractStringForColumnName(row, "ErrorMessage");\n\n\t\t\tAssertions.assertThat(e.getMessage()).contains(msgBL.getMsg(Env.getCtx(), AdMessageKey.of(messageKey)));\n\t\t}\n\t}\n\nExample 3:\nGherkin Step:\n\n\t@Given("metasfresh contains C_OrderLine expecting error:")\nGlue Code:\n\t@Given("metasfresh contains C_OrderLine expecting error:")\n\tpublic void metasfresh_contains_c_order_lines_expecting_error(@NonNull final DataTable dataTable)\n\t{\n\t\tfinal List<Map<String, String>> tableRows = dataTable.asMaps(String.class, String.class);\n\t\tif (tableRows.size() > 1)\n\t\t{\n\t\t\tthrow new IllegalArgumentException("Multiple rows are not supported!");\n\t\t}\n\n\t\ttry\n\t\t{\n\t\t\tmetasfresh_contains_c_order_lines(dataTable);\n\n\t\t\tAssertions.fail("An Exception should have been thrown !");\n\t\t}\n\t\tcatch (final AdempiereException exception)\n\t\t{\n\t\t\tfinal String errorCode = DataTableUtil.extractStringOrNullForColumnName(tableRows.get(0), "ErrorCode");\n\n\t\t\tassertThat(exception.getErrorCode()).isEqualTo(errorCode);\n\t\t}\n\t}\n\nExample 4:\nGherkin Step:\n\n\t@And("process invoice candidate expecting error")\nGlue Code:\n\t@And("process invoice candidate expecting error")\n\tpublic void process_invoice_cand_expecting_error(@NonNull final DataTable dataTable)\n\t{\n\t\tfinal List<Map<String, String>> tableRows = dataTable.asMaps(String.class, String.class);\n\n\t\tfor (final Map<String, String> row : tableRows)\n\t\t{\n\t\t\ttry (final IAutoCloseable ignore = Loggables.temporarySetLoggable(new LogbackLoggable(logger, Level.INFO)))\n\t\t\t{\n\t\t\t\tfinal String invoiceCandIdentifier = DataTableUtil.extractStringForColumnName(row, COLUMNNAME_C_Invoice_Candidate_ID + "." + TABLECOLUMN_IDENTIFIER);\n\t\t\t\tfinal I_C_Invoice_Candidate invoiceCandidate = invoiceCandTable.get(invoiceCandIdentifier);\n\n\t\t\t\tfinal AsyncBatchId asyncBatchId = asyncBatchBL.newAsyncBatch(C_Async_Batch_InternalName_InvoiceCandidate_Processing);\n\t\t\t\tfinal InvoiceCandidateId invoiceCandidateId = InvoiceCandidateId.ofRepoId(invoiceCandidate.getC_Invoice_Candidate_ID());\n\t\t\t\tboolean isError = false;\n\t\t\t\ttry\n\t\t\t\t{\n\t\t\t\t\tinvoiceService.generateInvoicesFromInvoiceCandidateIds(ImmutableSet.of(invoiceCandidateId), asyncBatchId);\n\t\t\t\t}\n\t\t\t\tcatch (final Exception e)\n\t\t\t\t{\n\t\t\t\t\tisError = true;\n\t\t\t\t}\n\n\t\t\t\tassumeThat(isError).isTrue();\n\t\t\t}\n\t\t}\n\t}\n\nExample 5:\nGherkin Step:\n\n\t@When("^set picking target as new LU identified by (.*)$")\nGlue Code:\n\t@When("^set picking target as new LU identified by (.*)$")\n\tpublic void setPickingLUTarget(@NonNull final String packingInstructionsIdentifier)\n\t{\n\t\tfinal HuPackingInstructionsId luPIId = huPiTable.getId(packingInstructionsIdentifier);\n\t\tfinal LUPickingTarget pickingTarget = LUPickingTarget.ofPackingInstructions(luPIId, packingInstructionsIdentifier);\n\n\t\tfinal JsonWFProcess wfProcess = mobileUIPickingClient.setPickingTarget(context.getWfProcessIdNotNull(), pickingTarget);\n\t\tcontext.setWfProcess(wfProcess);\n\t}\n\nExample 6:\nGherkin Step:\n\n\t@When("^set picking target as new TU identified by (.*)$")\nGlue Code:\n\t@When("^set picking target as new TU identified by (.*)$")\n\tpublic void setPickingTUTarget(@NonNull final String packingInstructionsIdentifier)\n\t{\n\t\tfinal HuPackingInstructionsId tuPIId = huPiTable.getId(packingInstructionsIdentifier);\n\t\tfinal TUPickingTarget pickingTarget = TUPickingTarget.ofPackingInstructions(tuPIId, packingInstructionsIdentifier);\n\n\t\tfinal JsonWFProcess wfProcess = mobileUIPickingClient.setTUPickingTarget(context.getWfProcessIdNotNull(), pickingTarget);\n\t\tcontext.setWfProcess(wfProcess);\n\t}\n\nExample 7:\nGherkin Step:\n\n\t@Given("the ModCntr_InvoicingGroup_Product is added expecting error:")\nGlue Code:\n\t@Given("the ModCntr_InvoicingGroup_Product is added expecting error:")\n\tpublic void metasfresh_adds_ModCntr_InvoicingGroup_Product_expectingError(@NonNull final DataTable dataTable)\n\t{\n\t\tfor (final Map<String, String> row : dataTable.asMaps())\n\t\t{\n\t\t\tboolean errorThrown = false;\n\n\t\t\ttry\n\t\t\t{\n\t\t\t\tcreateModCntrInvoicingGroupProduct(row);\n\t\t\t\tassertThat(1).as("An Exception should have been thrown !").isEqualTo(2);\n\t\t\t}\n\t\t\tcatch (final AdempiereException e)\n\t\t\t{\n\t\t\t\terrorThrown = true;\n\n\t\t\t\tfinal String errorMessageIdentifier = DataTableUtil.extractStringOrNullForColumnName(row, "OPT." + COLUMNNAME_AD_Message_ID + "." + TABLECOLUMN_IDENTIFIER);\n\t\t\t\tif (Check.isNotBlank(errorMessageIdentifier))\n\t\t\t\t{\n\t\t\t\t\tfinal I_AD_Message errorMessage = messageTable.get(errorMessageIdentifier);\n\t\t\t\t\tassertThat(e.getMessage()).contains(msgBL.getMsg(Env.getCtx(), AdMessageKey.of(errorMessage.getValue())));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tassertThat(errorThrown).isTrue();\n\t\t}\n\t}\n\nExample 8:\nGherkin Step:\n\n\t@And("the ModCntr_InvoicingGroup is updated expecting error:")\nGlue Code:\n\t@And("the ModCntr_InvoicingGroup is updated expecting error:")\n\tpublic void update_ModCntr_InvoicingGroup_expectingError(@NonNull final DataTable dataTable)\n\t{\n\t\tfor (final Map<String, String> row : dataTable.asMaps())\n\t\t{\n\t\t\tboolean errorThrown = false;\n\n\t\t\ttry\n\t\t\t{\n\t\t\t\tupdateModCntrInvoicingGroup(row);\n\t\t\t\tassertThat(1).as("An Exception should have been thrown !").isEqualTo(2);\n\t\t\t}\n\t\t\tcatch (final AdempiereException e)\n\t\t\t{\n\t\t\t\terrorThrown = true;\n\n\t\t\t\tfinal String errorMessageIdentifier = DataTableUtil.extractStringOrNullForColumnName(row, "OPT." + COLUMNNAME_AD_Message_ID + "." + TABLECOLUMN_IDENTIFIER);\n\t\t\t\tif (Check.isNotBlank(errorMessageIdentifier))\n\t\t\t\t{\n\t\t\t\t\tfinal I_AD_Message errorMessage = messageTable.get(errorMessageIdentifier);\n\t\t\t\t\tassertThat(e.getMessage()).contains(msgBL.getMsg(Env.getCtx(), AdMessageKey.of(errorMessage.getValue())));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tassertThat(errorThrown).isTrue();\n\t\t}\n\t}\n\nExample 9:\nGherkin Step:\n\n\t@Given("^delete M_InOutLine identified by (.*) is expecting error$")\nGlue Code:\n\t@Given("^delete M_InOutLine identified by (.*) is expecting error$")\n\tpublic void order_action_expecting_error(@NonNull final String inOutLineIdentifier, @NonNull final DataTable dataTable)\n\t{\n\t\tfinal org.compiere.model.I_M_InOutLine inOutLine = shipmentLineTable.get(inOutLineIdentifier);\n\t\tAssertions.assertThat(inOutLine).isNotNull();\n\n\t\tfinal Map<String, String> row = dataTable.asMaps().get(0);\n\n\t\tboolean errorThrown = false;\n\n\t\ttry\n\t\t{\n\t\t\tInterfaceWrapperHelper.delete(inOutLine);\n\t\t}\n\t\tcatch (final Exception e)\n\t\t{\n\t\t\terrorThrown = true;\n\n\t\t\tfinal String errorMessageIdentifier = DataTableUtil.extractStringOrNullForColumnName(row, "OPT." + COLUMNNAME_AD_Message_ID + "." + TABLECOLUMN_IDENTIFIER);\n\n\t\t\tif (errorMessageIdentifier != null)\n\t\t\t{\n\t\t\t\tfinal I_AD_Message errorMessage = messageTable.get(errorMessageIdentifier);\n\n\t\t\t\tAssertions.assertThat(e.getMessage()).contains(msgBL.getMsg(Env.getCtx(), AdMessageKey.of(errorMessage.getValue())));\n\t\t\t}\n\t\t}\n\n\t\tAssertions.assertThat(errorThrown).isTrue();\n\t}\n\nExample 10:\nGherkin Step:\n\n\t@Given("^the order identified by (.*) is (reactivated|completed|closed|voided|reversed) expecting error$")\nGlue Code:\n\t@Given("^the order identified by (.*) is (reactivated|completed|closed|voided|reversed) expecting error$")\n\tpublic void order_action_expecting_error(@NonNull final String orderIdentifier, @NonNull final String action, @NonNull final DataTable dataTable)\n\t{\n\t\tfinal Map<String, String> row = dataTable.asMaps().get(0);\n\n\t\tboolean errorThrown = false;\n\n\t\ttry\n\t\t{\n\t\t\torder_action(orderIdentifier, action);\n\t\t}\n\t\tcatch (final Exception e)\n\t\t{\n\t\t\terrorThrown = true;\n\n\t\t\tfinal String errorMessageIdentifier = DataTableUtil.extractStringOrNullForColumnName(row, "OPT." + COLUMNNAME_AD_Message_ID + "." + TABLECOLUMN_IDENTIFIER);\n\n\t\t\tif (errorMessageIdentifier != null)\n\t\t\t{\n\t\t\t\tfinal I_AD_Message errorMessage = messageTable.get(errorMessageIdentifier);\n\n\t\t\t\tfinal String inoutIdentifier = DataTableUtil.extractStringOrNullForColumnName(row, "OPT." + I_M_InOut.COLUMNNAME_M_InOut_ID + "." + TABLECOLUMN_IDENTIFIER);\n\t\t\t\tif (Check.isNotBlank(inoutIdentifier))\n\t\t\t\t{\n\t\t\t\t\tfinal I_M_InOut inout = inoutTable.get(inoutIdentifier);\n\n\t\t\t\t\tfinal String expectedErrorMessage = msgBL.getTranslatableMsgText(AdMessageKey.of(errorMessage.getValue()), String.valueOf(inout.getM_InOut_ID())).translate(Env.getAD_Language());\n\n\t\t\t\t\tassertThat(e.getMessage()).contains(expectedErrorMessage);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tassertThat(e.getMessage()).contains(msgBL.getMsg(Env.getCtx(), AdMessageKey.of(errorMessage.getValue())));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tassertThat(errorThrown).isTrue();\n\t}\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n\t@When("^set custom columns for C_Order( expecting error:|:)$")\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:16,099 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:16,100 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:16,100 - DEBUG - send_request_headers.complete
2025-09-23 02:45:16,100 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:16,101 - DEBUG - send_request_body.complete
2025-09-23 02:45:16,101 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:16,297 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:16 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b475e93c01d4-YYC')])
2025-09-23 02:45:16,298 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:16,298 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:16,309 - DEBUG - receive_response_body.complete
2025-09-23 02:45:16,310 - DEBUG - response_closed.started
2025-09-23 02:45:16,310 - DEBUG - response_closed.complete
2025-09-23 02:45:16,310 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:15 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b4720ba901de-YYC'})
2025-09-23 02:45:16,310 - DEBUG - request_id: None
2025-09-23 02:45:16,312 - INFO - Generated glue code: 
```java
@Given("^I have started an application$")
public void i_have_started_an_application() {
    applicationSteps.startApplication();
}
```
2025-09-23 02:45:16,315 - INFO - Step ID 1043 CodeBLEU: {'codebleu': 0.7774926190703619, 'ngram_match_score': 0.6159539301615261, 'weighted_ngram_match_score': 0.6326564710684088, 'syntax_match_score': 0.631578947368421, 'dataflow_match_score': 0.0}
2025-09-23 02:45:16,315 - INFO - Generating glue code for step ID 1044
2025-09-23 02:45:16,319 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-3dbbd256-a10d-4044-8923-d95fd54d417c', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n    @When("^I am on the organization summary page$")\nGlue Code:\n    @When("^I am on the organization summary page$")\n    public void i_am_on_the_organization_summary_page() throws IOException {\n        i_am_on_the_ownership_info_page();\n        applicationSteps.enterOrganizationOwnershipInfo();\n        applicationSteps.setNoToAllDisclosures();\n        applicationSteps.advanceFromOrganizationOwnershipInfoToSummaryPage();\n    }\n\nExample 2:\nGherkin Step:\n\n    @When("^I am on the organization provider statement page$")\nGlue Code:\n    @When("^I am on the organization provider statement page$")\n    public void i_am_on_the_organization_provider_statement_page() throws IOException {\n        i_am_on_the_organization_summary_page();\n        applicationSteps.advanceFromOrganizationSummaryToProviderStatementPage();\n    }\n\nExample 3:\nGherkin Step:\n\n    @When("^I enter my organization provider statement$")\nGlue Code:\n    @When("^I enter my organization provider statement$")\n    public void i_enter_my_organization_provider_statement() {\n        applicationSteps.signProviderStatement();\n    }\n\nExample 4:\nGherkin Step:\n\n    @When("^I create and submit an application using the generic organization workflow$")\nGlue Code:\n    @When("^I create and submit an application using the generic organization workflow$")\n    public void i_create_and_submit_an_application_using_the_generic_organization_workflow() throws IOException {\n        generalSteps.login("p1", "p1");\n        applicationSteps.createApplication();\n        applicationSteps.selectProviderType();\n        applicationSteps.enterOrganizationInfo();\n        applicationSteps.enterContactInfo();\n        applicationSteps.advanceFromOrganizationInfoToOwnershipInfo();\n        applicationSteps.enterOrganizationOwnershipInfo();\n        applicationSteps.setNoToAllDisclosures();\n        applicationSteps.advanceFromOrganizationOwnershipInfoToSummaryPage();\n        applicationSteps.advanceFromOrganizationSummaryToProviderStatementPage();\n        applicationSteps.signProviderStatement();\n        applicationSteps.submitApplication();\n    }\n\nExample 5:\nGherkin Step:\n\n    @When("^I create and submit an application using the organization with healthboard workflow$")\nGlue Code:\n    @When("^I create and submit an application using the organization with healthboard workflow$")\n    public void i_create_and_submit_an_application_using_the_organization_with_healthboard_workflow() throws IOException {\n        generalSteps.login("p1", "p1");\n        applicationSteps.createApplication();\n        applicationSteps.selectProviderType();\n        applicationSteps.enterOrganizationInfo();\n        applicationSteps.enterContactInfo();\n        applicationSteps.advanceFromOrganizationInfoToLicenseInfo();\n        applicationSteps.checkCommunityHealthboard();\n        applicationSteps.advanceFromLicenseInfoToOwnershipInfo();\n        applicationSteps.enterOrganizationOwnershipInfo();\n        applicationSteps.setNoToAllDisclosures();\n        applicationSteps.advanceFromOrganizationOwnershipInfoToSummaryPage();\n        applicationSteps.advanceFromOrganizationSummaryToProviderStatementPage();\n        applicationSteps.signProviderStatement();\n        applicationSteps.submitApplication();\n    }\n\nExample 6:\nGherkin Step:\n\n    @When("^I am on the Screenings page$")\nGlue Code:\n    @When("^I am on the Screenings page$")\n    public void i_am_on_the_screenings_page() {\n        generalSteps.clickLinkAssertTitle(".screeningsLink", "Screenings");\n    }\n\nExample 7:\nGherkin Step:\n\n    @When("^I am on the facility credentials page$")\nGlue Code:\n    @When("^I am on the facility credentials page$")\n    public void i_am_on_the_facility_credentials_page() {\n        i_am_on_the_organization_page();\n        applicationSteps.enterOrganizationInfo();\n        applicationSteps.enterContactInfo();\n        applicationSteps.advanceFromOrganizationInfoToLicenseInfo();\n    }\n\nExample 8:\nGherkin Step:\n\n    @When("^I am on the ownership info page$")\nGlue Code:\n    @When("^I am on the ownership info page$")\n    public void i_am_on_the_ownership_info_page() throws IOException {\n        i_am_on_the_individual_member_info_page();\n        applicationSteps.enterIndividualMember();\n        applicationSteps.advanceFromOrganizationIndividualMemberInfoToOwnershipInfo();\n    }\n\nExample 9:\nGherkin Step:\n\n    @When("^I am on the personal info page$")\nGlue Code:\n    @When("^I am on the personal info page$")\n    public void i_am_on_the_personal_info_page() {\n        applicationSteps.prepareSpeechLanguagePathologistApplication();\n        applicationSteps.selectProviderType();\n    }\n\nExample 10:\nGherkin Step:\n\n    @When("^I am on the individual summary page$")\nGlue Code:\n    @When("^I am on the individual summary page$")\n    public void i_am_on_the_individual_summary_page() throws IOException {\n        i_am_on_the_individual_provider_practice_info_page();\n        applicationSteps.enterIndividualPrivatePracticeInfo();\n        applicationSteps.advanceFromIndividualPracticeInfoToSummaryPage();\n    }\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n    @When("^I am on the organization page$")\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:16,321 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:16,321 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:16,322 - DEBUG - send_request_headers.complete
2025-09-23 02:45:16,322 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:16,322 - DEBUG - send_request_body.complete
2025-09-23 02:45:16,322 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:16,324 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:16 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b4755a0abee8-YYC')])
2025-09-23 02:45:16,324 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:16,324 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:16,331 - DEBUG - receive_response_body.complete
2025-09-23 02:45:16,332 - DEBUG - response_closed.started
2025-09-23 02:45:16,332 - DEBUG - response_closed.complete
2025-09-23 02:45:16,332 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:15 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b47058f301e4-YYC'})
2025-09-23 02:45:16,332 - DEBUG - request_id: None
2025-09-23 02:45:16,334 - INFO - Generated glue code: 
```java
@When("I add {int} and {int}")
public void adding(int arg1, int arg2) {
  calc.push(arg1);
  calc.push(arg2);
  calc.push("+");
}
```
2025-09-23 02:45:16,338 - INFO - Step ID 1189 CodeBLEU: {'codebleu': 0.9332733438336168, 'ngram_match_score': 0.878187983790713, 'weighted_ngram_match_score': 1.0, 'syntax_match_score': 0.8636363636363636, 'dataflow_match_score': 1.0}
2025-09-23 02:45:16,338 - INFO - Generating glue code for step ID 1190
2025-09-23 02:45:16,341 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-013d88ac-024d-4872-bf3c-7a67bf94bc21', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n  @Then("the result is {int}")\nGlue Code:\n  @Then("the result is {int}")\n  public void the_result_is(double expected) {\n    assertEquals(expected, calc.value());\n  }\n\nExample 2:\nGherkin Step:\n\n  @Then("the result is {int}")\nGlue Code:\n  @Then("the result is {int}")\n  public void the_result_is(double expected) {\n    assertEquals(expected, calc.value());\n  }\n\nExample 3:\nGherkin Step:\n  @Then("the result is {int}")\nGlue Code:\n  public void the_result_is(double expected) {\n    assertEquals(expected, calc.value());\n  }\n  static class Calculator {\n\nExample 4:\nGherkin Step:\n\n  @When("I add {int} and {int}")\nGlue Code:\n  @When("I add {int} and {int}")\n  public void adding(int arg1, int arg2) {\n    calc.push(arg1);\n    calc.push(arg2);\n    calc.push("+");\n  }\n\nExample 5:\nGherkin Step:\n\n  @When("I add {int} and {int}")\nGlue Code:\n  @When("I add {int} and {int}")\n  public void adding(int arg1, int arg2) {\n    calc.push(arg1);\n    calc.push(arg2);\n    calc.push("+");\n  }\n\nExample 6:\nGherkin Step:\n\n  @When("I add {int} and {int}")\nGlue Code:\n  @When("I add {int} and {int}")\n  public void adding(int arg1, int arg2) {\n    calc.push(arg1);\n    calc.push(arg2);\n    calc.push("+");\n  }\n\nExample 7:\nGherkin Step:\n\n  @When("I add {int} and {int}")\nGlue Code:\n  @When("I add {int} and {int}")\n  public void adding(int arg1, int arg2) {\n    calc.push(arg1);\n    calc.push(arg2);\n    calc.push("+");\n  }\n\nExample 8:\nGherkin Step:\n\n  @When("I slowly add {int} and {int}")\nGlue Code:\n  @When("I slowly add {int} and {int}")\n  public void addingSlow(int arg1, int arg2) throws InterruptedException {\n    Thread.sleep(1100);\n    calc.push(arg1);\n    calc.push(arg2);\n    calc.push("+");\n  }\n\nExample 9:\nGherkin Step:\n\n  @When("I slowly add {int} and {int}")\nGlue Code:\n  @When("I slowly add {int} and {int}")\n  public void addingSlow(int arg1, int arg2) throws InterruptedException {\n    Thread.sleep(1100);\n    calc.push(arg1);\n    calc.push(arg2);\n    calc.push("+");\n  }\n\nExample 10:\nGherkin Step:\n\n  @Given("a calculator I just turned on")\nGlue Code:\n  @Given("a calculator I just turned on")\n  public void a_calculator_I_just_turned_on() {\n    calc = new Calculator();\n  }\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n  @Then("the result is {int}")\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:16,342 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:16,343 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:16,343 - DEBUG - send_request_headers.complete
2025-09-23 02:45:16,344 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:16,344 - DEBUG - send_request_body.complete
2025-09-23 02:45:16,344 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:16,371 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:16 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b4763fc3bf01-YYC')])
2025-09-23 02:45:16,372 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:16,372 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:16,410 - DEBUG - receive_response_body.complete
2025-09-23 02:45:16,410 - DEBUG - response_closed.started
2025-09-23 02:45:16,410 - DEBUG - response_closed.complete
2025-09-23 02:45:16,410 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:15 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b4733a1a01dc-YYC'})
2025-09-23 02:45:16,411 - DEBUG - request_id: None
2025-09-23 02:45:16,412 - INFO - Generated glue code: 
```java
@And( "Freelancer adds his bid" )
public void freelancerAddsHisBid() {
    webDriver.findElement( By.id( "bid" ) ).sendKeys( "100" );
}
```
2025-09-23 02:45:16,417 - INFO - Step ID 85 CodeBLEU: {'codebleu': 0.7984752758025437, 'ngram_match_score': 0.5452002333453514, 'weighted_ngram_match_score': 0.5595525246800863, 'syntax_match_score': 0.72, 'dataflow_match_score': 0.0}
2025-09-23 02:45:16,417 - INFO - Generating glue code for step ID 86
2025-09-23 02:45:16,420 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-f0a3d361-b9c5-4e43-a778-b3901c04e28f', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n    @When( "Freelancer clicks the update button" )\nGlue Code:\n    @When( "Freelancer clicks the update button" )\n    public void freelancerClicksTheUpdateButton() {\n        webDriver.findElement( By.id( "submit-profile" ) ).click();\n    }\n\nExample 2:\nGherkin Step:\n\n    @When( "Stakeholder clicks the submit button" )\nGlue Code:\n    @When( "Stakeholder clicks the submit button" )\n    public void stakeholderClicksTheSubmitButton() {\n        webDriver.findElement( By.id( "submit-project" ) ).click();\n    }\n\nExample 3:\nGherkin Step:\n\n    @When( "user clicks the submit button" )\nGlue Code:\n    @When( "user clicks the submit button" )\n    public void userClicksTheSubmitButton() {\n        webDriver.findElement( By.id( "submit" ) ).click();\n    }\n\nExample 4:\nGherkin Step:\n\n    @When( "stakeholder clicks add comment button" )\nGlue Code:\n    @When( "stakeholder clicks add comment button" )\n    public void stakeholderClicksAddCommentButton() {\n        webDriver.findElement( By.id( "add-comment-btn" ) ).click();\n        WebDriverWait wait = new WebDriverWait( webDriver, 20 );\n        wait.until( ExpectedConditions.visibilityOfElementLocated( By.id( "toast-container" ) ) );\n    }\n\nExample 5:\nGherkin Step:\n\n    @When( "User Clicks the login button" )\nGlue Code:\n    @When( "User Clicks the login button" )\n    public void userClicksTheLoginButton() {\n        webDriver.findElement( By.id( "submit" ) ).click();\n    }\n\nExample 6:\nGherkin Step:\n\n    @When( "Admin clicks the activate button on a deactivated user" )\nGlue Code:\n    @When( "Admin clicks the activate button on a deactivated user" )\n    public void adminClicksTheActivateButtonOnADeactivatedUser() {\n        webDriver.findElement( By.className( "enable-user-btn" ) ).click();\n    }\n\nExample 7:\nGherkin Step:\n\n    @When( "Admin clicks the reject button on a deactivated user" )\nGlue Code:\n    @When( "Admin clicks the reject button on a deactivated user" )\n    public void adminClicksTheRejectButtonOnADeactivatedUser() {\n        User user = Utils.getOrCreateTestUser( userService );\n        webDriver.findElement( By.id( "delete-" + user.getNickname() ) ).click();\n    }\n\nExample 8:\nGherkin Step:\n\n    @When( "user clicks on a project" )\nGlue Code:\n    @When( "user clicks on a project" )\n    public void userClicksOnAProject() {\n        webDriver.findElement( By.className( "btn" ) ).click();\n    }\n\nExample 9:\nGherkin Step:\n\n    @When( "Close Dashboard Stakeholder clicks the close project button for a project" )\nGlue Code:\n    @When( "Close Dashboard Stakeholder clicks the close project button for a project" )\n    public void closeDashboardStakeholderClicksTheCloseProjectButtonForAProject() {\n        webDriver.findElement( By.id( "close-project-btn" ) ).click();\n    }\n\nExample 10:\nGherkin Step:\n\n    @Given( "Freelancer logins" )\nGlue Code:\n    @Given( "Freelancer logins" )\n    public void freelancerLogins() {\n        webDriver.get( Utils.LOGIN_PAGE );\n        webDriver.findElement( By.id( "email" ) ).sendKeys( "freelancer@test.com" );\n        webDriver.findElement( By.id( "password" ) ).sendKeys( "password" );\n        webDriver.findElement( By.id( "submit" ) ).click();\n    }\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n    @When( "Freelancer clicks the Bid button" )\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:16,421 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:16,422 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:16,422 - DEBUG - send_request_headers.complete
2025-09-23 02:45:16,423 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:16,423 - DEBUG - send_request_body.complete
2025-09-23 02:45:16,423 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:16,564 - DEBUG - receive_response_body.complete
2025-09-23 02:45:16,564 - DEBUG - response_closed.started
2025-09-23 02:45:16,564 - DEBUG - response_closed.complete
2025-09-23 02:45:16,565 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:14 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b46b1dcd01e2-YYC'})
2025-09-23 02:45:16,565 - DEBUG - request_id: None
2025-09-23 02:45:16,566 - INFO - Generated glue code: 
```java
@Given("^starting an automation process \"([^\"]*)\" with parameters: (.*)$")
public void startingAnAutomationProcessWithParameters(String name, String parameters) throws Throwable {
    // https://mmarquee.github.io/ui-automation/docs/developer.html
    UIAutomation automation = UIAutomation.getInstance();
    if (parameters.isEmpty()) {
        // Empty parameters seems to generate an error internally?
        application = new Application(new ElementBuilder().automation(automation).applicationPath(name));
        application.launchOrAttach();
    } else {
        application = new Application(new ElementBuilder().automation(automation).applicationPath(name).applicationArguments(parameters));
        application.launchOrAttach();
    }
}
```
2025-09-23 02:45:16,574 - INFO - Step ID 249 CodeBLEU: {'codebleu': 0.6755515642589158, 'ngram_match_score': 0.1923735396947251, 'weighted_ngram_match_score': 0.5631421028944321, 'syntax_match_score': 0.5, 'dataflow_match_score': 1.0}
2025-09-23 02:45:16,575 - INFO - Generating glue code for step ID 250
2025-09-23 02:45:16,579 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-f9b05f63-cf33-4ff1-8762-3e5b4af384e7', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n    @Then("^automation wait for window close$")\nGlue Code:\n    @Then("^automation wait for window close$")\n    public void automationWaitForWindowClose() throws InterruptedException {\n\n        while (true) {\n            try {\n                if (!currentWindow.isEnabled()) break;\n            } catch (AutomationException e) {\n                System.out.println("Window closed!");\n                return;\n            }\n            Thread.sleep(1000);\n            System.out.println("Waiting for window...");\n        }\n    }\n\nExample 2:\nGherkin Step:\n\n    @When("^remote monitor wait for hit$")\nGlue Code:\n    @When("^remote monitor wait for hit$")\n    public void remote_monitor_wait_for_hit() throws Throwable {\n        sendMonitorCommand("x");\n        waitMonitorReply();\n        getMonitorReply();\n        // Then send a command to get a reply and sync the remote monitor\n        sendMonitorCommand("r");\n        waitMonitorReply();\n        getMonitorReply();\n    }\n\nExample 3:\nGherkin Step:\n\n    @When("^remote monitor wait for (.*) hits$")\nGlue Code:\n    @When("^remote monitor wait for (.*) hits$")\n    public void remote_monitor_wait_for_hit(Integer numHits) throws Throwable {\n        while (numHits-- > 0) {\n            remote_monitor_wait_for_hit();\n        }\n    }\n\nExample 4:\nGherkin Step:\n\n    @Given("^avoid CPU wait during VBlank for address \\"([^\\"]*)\\"$")\nGlue Code:\n    @Given("^avoid CPU wait during VBlank for address \\"([^\\"]*)\\"$")\n    public void avoid_CPU_wait_during_VBlank_for_address(String arg1) throws Throwable {\n        int potential = valueToInt(arg1);\n        if (potential >= 0) {\n            if (pauseUntilNewVBlank == null) {\n                pauseUntilNewVBlank = new HashSet<>();\n            }\n            pauseUntilNewVBlank.add(potential);\n        }\n    }\n\nExample 5:\nGherkin Step:\n\n    @When("^automation focus window$")\nGlue Code:\n    @When("^automation focus window$")\n    public void automationFocusWindow() {\n        currentWindow.focus();\n    }\n\nExample 6:\nGherkin Step:\n\n    @When("^automation find window from pattern \\"([^\\"]*)\\"$")\nGlue Code:\n    @When("^automation find window from pattern \\"([^\\"]*)\\"$")\n    public void automationFindWindowFromPattern(String arg0) throws Throwable {\n        UIAutomation automation = UIAutomation.getInstance();\n        currentWindow = automation.getDesktopWindow(Pattern.compile(arg0));\n    }\n\nExample 7:\nGherkin Step:\n    @When("^automation expand main menu item \\"([^\\"]*)\\"$")\nGlue Code:\n    public void automationExpandMainMenuItem(String name) throws Throwable {\n        // Write code here that turns the phrase above into concrete actions\n        currentMenuItem = currentWindow.getMainMenu().getMenuItem(name);\n        currentMenuItem.expand();\n    }\n\n    @When("^automation click current menu item \\"([^\\"]*)\\"$")\n    public void automationClickCurrentMenuItem(String pattern) throws Throwable {\n\nExample 8:\nGherkin Step:\n\n    @When("^automation click current menu item \\"([^\\"]*)\\"$")\nGlue Code:\n    @When("^automation click current menu item \\"([^\\"]*)\\"$")\n    public void automationClickCurrentMenuItem(String pattern) throws Throwable {\n        List<MenuItem> items = currentMenuItem.getItems();\n        for (MenuItem item : items) {\n            System.out.println(item.getName());\n        }\n        currentMenuItem = currentMenuItem.getMenuItem(Pattern.compile(pattern));\n        currentMenuItem.click();\n    }\n\nExample 9:\nGherkin Step:\n\n    @Given("^wait for (\\\\d+) milliseconds$")\nGlue Code:\n    @Given("^wait for (\\\\d+) milliseconds$")\n    public void waitForMilliseconds(int milliseconds) throws InterruptedException {\n        Thread.sleep(milliseconds);\n    }\n\nExample 10:\nGherkin Step:\n\n    @When("^wait for debugger connection$")\nGlue Code:\n    @When("^wait for debugger connection$")\n    public void wait_for_debugger_connection() throws InterruptedException {\n        System.out.println(">> Waiting for debugger connection");\n        while (RemoteDebugger.getRemoteDebugger().getNumConnections() <= 0) {\n            Thread.sleep(100);\n        }\n        System.out.println("<< Got debugger connection");\n    }\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n    @When("^automation wait for idle$")\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:16,580 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:16,580 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:16,581 - DEBUG - send_request_headers.complete
2025-09-23 02:45:16,581 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:16,581 - DEBUG - send_request_body.complete
2025-09-23 02:45:16,581 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:16,644 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:16 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b477accebec2-YYC')])
2025-09-23 02:45:16,645 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:16,645 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:16,717 - DEBUG - receive_response_body.complete
2025-09-23 02:45:16,717 - DEBUG - response_closed.started
2025-09-23 02:45:16,717 - DEBUG - response_closed.complete
2025-09-23 02:45:16,717 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:16 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b475e93c01d4-YYC'})
2025-09-23 02:45:16,718 - DEBUG - request_id: None
2025-09-23 02:45:16,719 - INFO - Generated glue code: 
```java
@Given("^I open application$")
public void iOpenApplication() {
    homePage.open();
}
```
2025-09-23 02:45:16,722 - WARNING - WARNING: There is no reference data-flows extracted from the whole corpus, and the data-flow match score degenerates to 0. Please consider ignoring this score.
2025-09-23 02:45:16,723 - INFO - Step ID 435 CodeBLEU: {'codebleu': 0.4755132381903911, 'ngram_match_score': 0.0433699328739765, 'weighted_ngram_match_score': 0.04509578236326774, 'syntax_match_score': 0.16666666666666666, 'dataflow_match_score': 0}
2025-09-23 02:45:16,723 - INFO - Generating glue code for step ID 436
2025-09-23 02:45:16,727 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-e246c514-1f8e-4f1e-b6ae-5515c20f7e4c', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n    @Given("^I open \\"([^\\"]*)\\"(?: page|) with params \\"([^\\"]*)\\"$")\nGlue Code:\n    @Given("^I open \\"([^\\"]*)\\"(?: page|) with params \\"([^\\"]*)\\"$")\n    public void iMOpenParams(String pageName, Object params) {\n        getPage(pageName).shouldBeOpened(params);\n    }\n\nExample 2:\nGherkin Step:\n    @Given("^I open application$")\nGlue Code:\n    public void iMOpenSite() {\n        openUrl(getDomain());\n    }\n\n    @Given("^I open \\"([^\\"]*)\\"(?: page|)$")\n    public void iOpen(String pageName) {\n\nExample 3:\nGherkin Step:\n\n    @Given("^I should be logged in$")\nGlue Code:\n    @Given("^I should be logged in$")\n    public void iShouldBeLogin() {\n        String url = WebPage.getUrl();\n        if (!url.contains("https://jdi-testing.github.io/jdi-light/")\n                || url.contains("issue")) {\n            homePage.open();\n        }\n        if (userName.isHidden()) {\n            if (loginForm.isHidden()) {\n                userIcon.click();\n            }\n            loginForm.submit(DEFAULT_USER);\n        }\n    }\n\nExample 4:\nGherkin Step:\n    @When("^(?:I |)click the cell \\\\(([^\\\\)]*)\\\\) in the \\"([^\\"]*)\\"(?: table|)$")\nGlue Code:\n    public void selectCell(String cellPair, String name) {\n        cell(name, cellPair).click();\n    }\n    //endregion\n\n    //#region Then\n    @Then("^the \\"([^\\"]*)\\" (?:table |)has \\"([^\\"]*)\\" columns$")\n    public void assertColumnsCount(String name, int size) {\n\nExample 5:\nGherkin Step:\n\n    @When("^I try to upload file \\"([^\\"]*)\\" by \\"([^\\"]*)\\" file input element$")\nGlue Code:\n    @When("^I try to upload file \\"([^\\"]*)\\" by \\"([^\\"]*)\\" file input element$")\n    public void iTryToUploadFileByFileInputElement(String pathToFile, String elementName) {\n        FileInput fileInput = getUI(elementName, FileInput.class);\n        try {\n            fileInput.uploadFile(mergePath(COMMON.projectPath, pathToFile));\n            fail("Can\'t upload file in disabled FileInput");\n        } catch (Exception ex) {\n            assertTrue(ex.getLocalizedMessage().contains("FileInput \'Disabled File Input\' is disabled. Can\'t upload file"));\n        }\n    }\n\nExample 6:\nGherkin Step:\n    @When("^I select \\"([^\\"]*)\\" disabled option \\"([^\\"]*)\\"")\nGlue Code:\n    public void iSelectDisabled(String name, String option) {\n        try {\n            iCheckCheckBox(name, option);\n            fail("Select disabled should throw exception");\n        } catch (Exception ignore) {}\n\nExample 7:\nGherkin Step:\n    @When("^(?:I |)refresh webpage$")\nGlue Code:\n    public void refreshWebpage() {\n        WebPage.refresh();\n    }\n\n    @When("^(?:I |)click on \\"([^\\"]*)\\"$")\n    public void click(String name) {\n\nExample 8:\nGherkin Step:\n\n    @When("^(?:I |)click on \\"([^\\"]*)\\"$")\nGlue Code:\n    @When("^(?:I |)click on \\"([^\\"]*)\\"$")\n    public void click(String name) {\n        getUI(name, IClickable.class).click();\n    }\n\nExample 9:\nGherkin Step:\n\n    @When("^(?:I |)send keys \\"([^\\"]*)\\" to \\"([^\\"]*)\\"$")\nGlue Code:\n    @When("^(?:I |)send keys \\"([^\\"]*)\\" to \\"([^\\"]*)\\"$")\n    public void sendKeys(String value, String name) {\n        input(name).sendKeys(value);\n    }\n\nExample 10:\nGherkin Step:\n\n    @When("^(?:I |)check \\"([^\\"]*)\\"$")\nGlue Code:\n    @When("^(?:I |)check \\"([^\\"]*)\\"$")\n    public void check(String name) {\n        getUI(name, HasCheck.class).check();\n    }\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n    @Given("^I open \\"([^\\"]*)\\"(?: page|)$")\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:16,728 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:16,728 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:16,729 - DEBUG - send_request_headers.complete
2025-09-23 02:45:16,729 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:16,729 - DEBUG - send_request_body.complete
2025-09-23 02:45:16,729 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:16,821 - DEBUG - receive_response_body.complete
2025-09-23 02:45:16,821 - DEBUG - response_closed.started
2025-09-23 02:45:16,821 - DEBUG - response_closed.complete
2025-09-23 02:45:16,822 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:16 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b4763fc3bf01-YYC'})
2025-09-23 02:45:16,822 - DEBUG - request_id: None
2025-09-23 02:45:16,823 - INFO - Generated glue code: 
```java
@Then("^Test must fail with following error:$")
public void Test_must_fail_with_following_error(String docstring) throws Throwable {
    assertNotNull(docstring);
}
```
2025-09-23 02:45:16,827 - INFO - Step ID 36 CodeBLEU: {'codebleu': 0.8947162840692868, 'ngram_match_score': 0.8702397637697912, 'weighted_ngram_match_score': 1.0, 'syntax_match_score': 0.7692307692307693, 'dataflow_match_score': 1.0}
2025-09-23 02:45:16,827 - INFO - Generating glue code for step ID 37
2025-09-23 02:45:16,831 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-11ab66a0-b67f-4251-a526-2d1a20625b2d', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n    @Then("^Test must pass because database state is as in expected dataset.$")\nGlue Code:\n    @Then("^Test must pass because database state is as in expected dataset.$")\n    public void Test_must_pass_because_dataBase_state_is_as_expected_in_dataset() throws Throwable {\n        // Express the Regexp above with the code you wish you had\n    }\n\nExample 2:\nGherkin Step:\n\n\n    @Then("^Test must fail with following error:$")\nGlue Code:\n\n    @Then("^Test must fail with following error:$")\n    public void Test_must_fail_with_following_error(String docstring) throws Throwable {\n        assertNotNull(docstring);\n    }\n\nExample 3:\nGherkin Step:\n\n    @When("^The following cucumber steps are executed$")\nGlue Code:\n    @When("^The following cucumber steps are executed$")\n    public void The_following_cucumber_steps_are_executed(String docstring) throws Throwable {\n        assertNotNull(docstring);\n    }\n\nExample 4:\nGherkin Step:\n\n    @Then("^The database should be seeded with the dataset content before test execution$")\nGlue Code:\n    @Then("^The database should be seeded with the dataset content before test execution$")\n    public void The_database_should_be_seeded_with_the_dataset_content() throws Throwable {\n\n    }\n\nExample 5:\nGherkin Step:\n\n    @Then("^The database should be seeded with the dataset content before test execution$")\nGlue Code:\n    @Then("^The database should be seeded with the dataset content before test execution$")\n    @DataSet("yml/users.yml")\n    public void The_database_should_be_seeded_with_the_dataset_content() throws Throwable {\n        List<User> users = em.createQuery("select u from User u order by u.id asc").getResultList();\n        User user1 = new User(1);\n        User user2 = new User(2);\n        Tweet tweetUser1 = new Tweet();\n        tweetUser1.setId("abcdef12345");\n        Tweet tweetUser2 = new Tweet();\n        tweetUser2.setId("abcdef12233");\n        assertThat(users).isNotNull().hasSize(2).contains(user1, user2);\n        List<Tweet> tweetsUser1 = users.get(0).getTweets();\n        assertThat(tweetsUser1).isNotNull().hasSize(1).contains(tweetUser1);\n\n        List<Tweet> tweetsUser2 = users.get(1).getTweets();\n        assertThat(tweetsUser2).isNotNull().hasSize(2).contains(tweetUser2);\n\n    }\n\nExample 6:\nGherkin Step:\n\n    @Then("^The database should be seeded with the dataset content before step execution$")\nGlue Code:\n    @Then("^The database should be seeded with the dataset content before step execution$")\n    public void The_database_should_be_seeded_with_the_dataset_content_before_step_execution() throws Throwable {\n        // Express the Regexp above with the code you wish you had\n    }\n\nExample 7:\nGherkin Step:\n\n\n    @Given("^Groovy script engine is on test classpath$")\nGlue Code:\n\n    @Given("^Groovy script engine is on test classpath$")\n    public void Groovy_script_engine_is_on_test_classpath(String docstring) throws Throwable {\n        // Express the Regexp above with the code you wish you had\n        assertNotNull(docstring);\n    }\n\nExample 8:\nGherkin Step:\n\n    @Then("^Dataset script should be interpreted while seeding the database$")\nGlue Code:\n    @Then("^Dataset script should be interpreted while seeding the database$")\n    public void Dataset_script_should_be_interpreted_when_seeding_the_database() throws Throwable {\n        // Express the Regexp above with the code you wish you had\n    }\n\nExample 9:\nGherkin Step:\n\n\n    @Given("^DBUnit interceptor is enabled in your test beans.xml:$")\nGlue Code:\n\n    @Given("^DBUnit interceptor is enabled in your test beans.xml:$")\n    public void DBUnit_interceptor_is_enabled_in_your_test_beans_xml(String docstring) throws Throwable {\n        assertTrue(true);\n    }\n\nExample 10:\nGherkin Step:\n\n    @And("^The following dataset$")\nGlue Code:\n    @And("^The following dataset$")\n    public void The_following_dataset(String docstring) throws Throwable {\n        assertNotNull(docstring);\n    }\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n    @Then("^Test must pass because inserted users are commited to database and database state matches expected dataset.$")\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:16,832 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:16,832 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:16,833 - DEBUG - send_request_headers.complete
2025-09-23 02:45:16,833 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:16,833 - DEBUG - send_request_body.complete
2025-09-23 02:45:16,833 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:16,883 - DEBUG - receive_response_body.complete
2025-09-23 02:45:16,883 - DEBUG - response_closed.started
2025-09-23 02:45:16,883 - DEBUG - response_closed.complete
2025-09-23 02:45:16,884 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:16 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b4755a0abee8-YYC'})
2025-09-23 02:45:16,884 - DEBUG - request_id: None
2025-09-23 02:45:16,885 - INFO - Generated glue code: 
```java
@Given("^parameters are:$")
public void givenParametersAre(Map<String, String> parameters) {
    parameters.forEach((key, value) -> ctx.setParameter(key, value));
}
```
2025-09-23 02:45:16,890 - INFO - Step ID 610 CodeBLEU: {'codebleu': 0.17078519798555902, 'ngram_match_score': 0.08681805849608065, 'weighted_ngram_match_score': 0.11226199153494833, 'syntax_match_score': 0.16666666666666666, 'dataflow_match_score': 0.21052631578947367}
2025-09-23 02:45:16,890 - INFO - Generating glue code for step ID 611
2025-09-23 02:45:16,894 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-73b884e1-1f62-4714-8b92-ec83b46ae1f6', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n    @Given("^any graph$")\nGlue Code:\n    @Given("^any graph$")\n    public void givenAnyGraph() {\n        createGraph();\n    }\n\nExample 2:\nGherkin Step:\n\n    @Given("^an empty graph$")\nGlue Code:\n    @Given("^an empty graph$")\n    public void givenEmptyGraph() {\n        createGraph();\n    }\n\nExample 3:\nGherkin Step:\n\n    @Given("^the binary-tree-(\\\\d+) graph$")\nGlue Code:\n    @Given("^the binary-tree-(\\\\d+) graph$")\n    public void givenTheBinaryTreeGraph(int number) throws Throwable {\n        createGraph();\n        String resourceName = String.format("/org/vertexium/cypher/tck/graphs/binary-tree-%d/binary-tree-%d.cypher", number, number);\n        InputStream treeIn = this.getClass().getResourceAsStream(resourceName);\n        if (treeIn == null) {\n            throw new VertexiumException("Could not find \'" + resourceName + "\'");\n        }\n        String cyp = IOUtils.toString(treeIn);\n        CypherCompilerContext compilerContext = new CypherCompilerContext(ctx.getFunctions());\n        VertexiumCypherQuery.parse(compilerContext, cyp).execute(ctx);\n    }\n\nExample 4:\nGherkin Step:\n\n    @Given("^parameters are:$")\nGlue Code:\n    @Given("^parameters are:$")\n    public void givenParametersAre(DataTable parameters) {\n        for (List<String> parameterRow : parameters.raw()) {\n            String key = parameterRow.get(0);\n            String valueString = parameterRow.get(1);\n            Object value = parseParameterValue(valueString);\n            ctx.setParameter(key, value);\n        }\n    }\n\nExample 5:\nGherkin Step:\n\n    @Given("^having executed:$")\nGlue Code:\n    @Given("^having executed:$")\n    public void givenHavingExecuted(String queryString) {\n        CypherCompilerContext compilerContext = new CypherCompilerContext(ctx.getFunctions());\n        VertexiumCypherQuery.parse(compilerContext, queryString).execute(ctx).count();\n    }\n\nExample 6:\nGherkin Step:\n\n    @Then("^the result should be, in order:$")\nGlue Code:\n    @Then("^the result should be, in order:$")\n    public void thenTheResultShouldBeInOrder(DataTable expected) throws Throwable {\n        thenTheResultShouldBe(expected);\n    }\n\nExample 7:\nGherkin Step:\n\n    @Then("^the result should be \\\\(ignoring element order for lists\\\\):$")\nGlue Code:\n    @Then("^the result should be \\\\(ignoring element order for lists\\\\):$")\n    public void thenTheResultShouldBeIgnoringElementOrderForLists(DataTable expected) throws Throwable {\n        thenTheResultShouldBe(expected);\n    }\n\nExample 8:\nGherkin Step:\n\n    @Then("^the result should be:$")\nGlue Code:\n    @Then("^the result should be:$")\n    public void thenTheResultShouldBe(DataTable expected) throws Throwable {\n        if (lastCompileTimeException != null) {\n            throw lastCompileTimeException;\n        }\n        if (lastRuntimeException != null) {\n            throw lastRuntimeException;\n        }\n        List<String> columnNames = expected.raw().get(0);\n        if (expected.raw().size() > 0) {\n            List<List<String>> expectedRows = expected.raw().stream()\n                .skip(1)\n                .collect(Collectors.toList());\n            List<List<String>> foundRows = lastResultRows.stream()\n                .map(row -> lastResultColumnNames.stream()\n                    .map(row::get)\n                    .map(obj -> ctx.getResultWriter().columnValueToString(ctx, obj))\n                    .collect(Collectors.toList())\n                )\n                .collect(Collectors.toList());\n\n            expectedRows.sort(new RowComparator());\n            foundRows.sort(new RowComparator());\n\n            if (expectedRows.size() > 0) {\n                System.out.println("Expected");\n                System.out.println(String.join(", ", expected.raw().get(0)));\n                for (List<String> expectedRow : expectedRows) {\n                    System.out.println(String.join(", ", expectedRow));\n                }\n            }\n\n            System.out.println("Found");\n            System.out.println(String.join(", ", lastResultColumnNames));\n            for (List<String> foundRow : foundRows) {\n                System.out.println(String.join(", ", foundRow));\n            }\n\n            if (expectedRows.size() > 0) {\n                assertEquals(\n                    String.format(\n                        "Header count, expected (%s), found (%s)",\n                        String.join(", ", expected.raw().get(0)),\n                        String.join(", ", lastResultColumnNames)\n                    ),\n                    expected.raw().get(0).size(),\n                    lastResultColumnNames.size()\n                );\n                for (int colIdx = 0; colIdx < expected.raw().get(0).size(); colIdx++) {\n                    String expectedColumnName = expected.raw().get(0).get(colIdx);\n                    assertTrue(\n                        String.format(\n                            "Header mismatch (expected: %s, columnNames: %s)",\n                            expectedColumnName,\n                            String.join(", ", lastResultColumnNames)\n                        ),\n                        lastResultColumnNames.contains(expectedColumnName)\n                    );\n                }\n            }\n\n            assertEquals("result count", expectedRows.size(), foundRows.size());\n\n            if (expectedRows.size() > 0) {\n                for (int row = 0; row < expectedRows.size(); row++) {\n                    List<String> expectedRow = expectedRows.get(row);\n                    List<String> foundRow = foundRows.get(row);\n                    for (int col = 0; col < expectedRow.size(); col++) {\n                        String expectedColumn = expectedRow.get(col);\n                        String foundColumn = foundRow.get(col);\n                        assertColumnValue(row, col, expectedColumn, foundColumn);\n                    }\n                }\n            }\n        }\n    }\n\nExample 9:\nGherkin Step:\n\n    @Then("^a (.*) should be raised at compile time: (.*)$")\nGlue Code:\n    @Then("^a (.*) should be raised at compile time: (.*)$")\n    public void thenASyntaxErrorShouldBeRaisedAtCompileTime(String errorType, String error) {\n        Exception ex = this.lastCompileTimeException;\n        if (ex == null) {\n            if (lastRuntimeException != null) {\n                lastRuntimeException.printStackTrace();\n                // TODO do we care?\n                LOGGER.warn("statement should have resulted in a compile time exception, but resulted in a runtime exception");\n                ex = lastRuntimeException;\n            } else {\n                Assume.assumeTrue("statement should have resulted in a compile time exception", false);\n            }\n        }\n        if (!ex.getClass().getName().contains(errorType)) {\n            ex.printStackTrace();\n            // TODO do we care?\n            LOGGER.warn("exception type should contain \\"" + errorType + "\\", but only contained \\"" + ex.getClass().getName() + "\\": " + ex);\n        }\n        if (ex.getMessage() == null || !ex.getMessage().contains(error)) {\n            ex.printStackTrace();\n            // TODO do we care?\n            LOGGER.warn("exception should contain \\"" + error + "\\", but only contained \\"" + ex.getMessage() + "\\"");\n        }\n    }\n\nExample 10:\nGherkin Step:\n\n    @Then("^a (.*) should be raised at runtime: (.*)$")\nGlue Code:\n    @Then("^a (.*) should be raised at runtime: (.*)$")\n    public void thenATypeErrorShouldBeRaisedAtRuntime(String errorType, String error) {\n        if (lastRuntimeException == null) {\n            if (lastCompileTimeException != null) {\n                LOGGER.error("compile time exception", lastCompileTimeException);\n                fail("statement should have resulted in a runtime exception, but resulted in a compile time exception");\n            } else {\n                fail("statement should have resulted in a runtime exception");\n            }\n        }\n        if (!lastRuntimeException.getClass().getName().contains(errorType)) {\n            lastRuntimeException.printStackTrace();\n            // TODO do we care?\n            LOGGER.warn("exception type should contain \\"" + errorType + "\\", but only contained \\"" + lastRuntimeException.getClass().getName() + "\\": " + lastRuntimeException);\n        }\n        if (!lastRuntimeException.getMessage().contains(error)) {\n            lastRuntimeException.printStackTrace();\n            // TODO do we care?\n            LOGGER.warn("exception should contain \\"" + error + "\\", but only contained \\"" + lastRuntimeException.getMessage() + "\\"");\n        }\n    }\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n    @When("^executing(.*)query:$")\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:16,895 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:16,896 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:16,896 - DEBUG - send_request_headers.complete
2025-09-23 02:45:16,896 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:16,897 - DEBUG - send_request_body.complete
2025-09-23 02:45:16,897 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:16,939 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:16 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b479289101e4-YYC')])
2025-09-23 02:45:16,940 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:16,940 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:16,988 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:16 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b4790bbd01de-YYC')])
2025-09-23 02:45:16,989 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:16,989 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:17,011 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:17 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b479a8d501dc-YYC')])
2025-09-23 02:45:17,011 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:17,011 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:17,024 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:17 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b47aafd601e2-YYC')])
2025-09-23 02:45:17,025 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:17,025 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:17,298 - DEBUG - receive_response_body.complete
2025-09-23 02:45:17,299 - DEBUG - response_closed.started
2025-09-23 02:45:17,299 - DEBUG - response_closed.complete
2025-09-23 02:45:17,299 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:15 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b471ccbb420e-YYC'})
2025-09-23 02:45:17,299 - DEBUG - request_id: None
2025-09-23 02:45:17,302 - INFO - Generated glue code: 
```java
@When("doing get results operation on SCA scan with {int} {int} {int} results")
public void getSCAResults(int high, int medium, int low) throws InterruptedException {
    try {
        scanResultsToInject = createFakeSCAScanResults(high, medium, low);
        ScanRequest scanRequest = createScanRequest();
        addFlowSummaryToResults(high, medium, low, 0);
        CompletableFuture<ScanResults> task = resultsService.processScanResultsAsync(
                scanRequest, PROJECT_ID, SCAN_ID, null, null);
        task.get(1, TimeUnit.MINUTES);
    } catch (MachinaException | ExecutionException | TimeoutException e) {
        String message = "Error processing scan results.";
        log.error(message, e);
        Assert.fail(message);
    }
}
```
2025-09-23 02:45:17,314 - INFO - Step ID 622 CodeBLEU: {'codebleu': 0.9322549584188801, 'ngram_match_score': 0.9033515796632726, 'weighted_ngram_match_score': 0.9191980045255277, 'syntax_match_score': 0.875, 'dataflow_match_score': 1.0}
2025-09-23 02:45:17,314 - INFO - Generating glue code for step ID 623
2025-09-23 02:45:17,320 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-67bc612e-930e-472e-8dc2-7bc281ad20d6', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n    @When("doing get results operation on SAST scan with {int} {int} {int} {int} results")\nGlue Code:\n    @When("doing get results operation on SAST scan with {int} {int} {int} {int} results")\n    public void getSASTResults(int high, int medium, int low, int info) throws InterruptedException {\n        try {\n            scanResultsToInject = createFakeSASTScanResults();\n            ScanRequest scanRequest = createScanRequest();\n            setFindingsSummary(high, medium, low, info);\n            addAdditionalInfoToResults();\n            addFlowSummaryToResults(high, medium, low, info);\n            CompletableFuture<ScanResults> task = resultsService.processScanResultsAsync(\n                    scanRequest, PROJECT_ID, SCAN_ID, null, null);\n            task.get(1, TimeUnit.MINUTES);\n        } catch (MachinaException | ExecutionException | TimeoutException e) {\n            String message = "Error processing scan results.";\n            log.error(message, e);\n            Assert.fail(message);\n        }\n    }\n\nExample 2:\nGherkin Step:\n\n    @When("doing get results operation on SCA scan with {int} {int} {int} results")\nGlue Code:\n    @When("doing get results operation on SCA scan with {int} {int} {int} results")\n    public void getSCAResults(int high, int medium, int low) throws InterruptedException {\n        try {\n            scanResultsToInject = createFakeSCAScanResults(high, medium, low);\n            ScanRequest scanRequest = createScanRequest();\n\n            //addAdditionalInfoToResults();\n            //addFlowSummaryToResults(high, medium, low, info);\n            CompletableFuture<ScanResults> task = resultsService.processScanResultsAsync(\n                    scanRequest, PROJECT_ID, SCAN_ID, null, null);\n            task.get(1, TimeUnit.MINUTES);\n        } catch (MachinaException | ExecutionException | TimeoutException e) {\n            String message = "Error processing scan results.";\n            log.error(message, e);\n            Assert.fail(message);\n        }\n    }\n\nExample 3:\nGherkin Step:\n    @And("doing get results operation on scan with {int} {int} {int} {int} results")\nGlue Code:\n    public void getASTResults(int high, int medium, int low, int info) throws InterruptedException {\n        try {\n            if(scannerType.equalsIgnoreCase(AST)) {\n                scanResultsToInject = createFakeASTScanResults(high, medium, low);\n                addFlowSummaryToResults(high, medium, low, info);\n            }\n            if(scannerType.equalsIgnoreCase(AST_SCA)) {\n                scanResultsToInject = createFakeSCAScanResults(high, medium, low);\n                ScanResults astScanResults = createFakeASTScanResults(high, medium, low);\n                scanResultsToInject.setAstResults(astScanResults.getAstResults());\n                addFlowSummaryToResults(high*2, medium*2, low*2, info*2);\n            }\n            \n            ScanRequest scanRequest = createScanRequest();\n\n            CompletableFuture<ScanResults> task = resultsService.processScanResultsAsync(\n                    scanRequest, PROJECT_ID, SCAN_ID, null, null);\n            task.get(1, TimeUnit.MINUTES);\n            \n        } catch (MachinaException | ExecutionException | TimeoutException e) {\n            String message = "Error processing scan results.";\n            log.error(message, e);\n            Assert.fail(message);\n        }\n\nExample 4:\nGherkin Step:\n\n    @Given("there are {int} findings from which {int} results match the filter")\nGlue Code:\n    @Given("there are {int} findings from which {int} results match the filter")\n    public void setResultsAndFilters(int totalResults, int matchingResults) {\n        findingsType = FindingsType.DIFFERENT_SEVERITIES;\n        numOfFindings = matchingResults;\n        this.totalResults = totalResults;\n        needFilter = true;\n        Filter filter = Filter.builder().type(Filter.Type.SEVERITY).value("High").build();\n        filters = Collections.singletonList(filter);\n    }\n\nExample 5:\nGherkin Step:\n\n\n    @Given("SAST results with that should result in {int} JIRS issues")\nGlue Code:\n\n    @Given("SAST results with that should result in {int} JIRS issues")\n\nExample 6:\nGherkin Step:\n\n\n    @Then("SAST output will contain high severity number {int} and medium severity number {int} and low severity number {int} and  SAST team name will be {string}")\nGlue Code:\n\n    @Then("SAST output will contain high severity number {int} and medium severity number {int} and low severity number {int} and  SAST team name will be {string}")\n\nExample 7:\nGherkin Step:\n\n    @Then("verify results contains {int}, {int}, {int}, {int} for severities {}")\nGlue Code:\n    @Then("verify results contains {int}, {int}, {int}, {int} for severities {}")\n    public void verifyNumOfIssuesForSeverities(int high, int medium, int low, int info, String severities) {\n        List<Filter> filters = createFiltersFromString(severities, Filter.Type.SEVERITY);\n        Map<Filter.Severity, Integer> actualJira = jiraUtils.getIssuesPerSeverity(jiraProperties.getProject());\n        for (Filter filter: filters) {\n            Filter.Severity severity = Filter.Severity.valueOf(filter.getValue().toUpperCase());\n            switch (severity) {\n                case HIGH:\n                    Assert.assertEquals("HIGH issues does not match", (int) actualJira.get(Filter.Severity.HIGH), high);\n                    break;\n                case MEDIUM:\n                    Assert.assertEquals("Medium issues does not match", (int) actualJira.get(Filter.Severity.MEDIUM), medium);\n                    break;\n                case LOW:\n                    Assert.assertEquals("Medium issues does not match", (int) actualJira.get(Filter.Severity.LOW), low);\n                    break;\n                case INFO:\n                    Assert.assertEquals("Medium issues does not match", (int) actualJira.get(Filter.Severity.INFO), info);\n                    break;\n            }\n        }\n    }\n\nExample 8:\nGherkin Step:\n\n    @Then("ADO contains {int} issues")\nGlue Code:\n    @Then("ADO contains {int} issues")\n    public void adoContainsIssueCount(int expectedIssueCount) {\n        Duration timeout = Duration.ofSeconds(30);\n        Duration pollInterval = Duration.ofSeconds(5);\n        try {\n            Awaitility.await().atMost(timeout)\n                    .pollInterval(pollInterval)\n                    .until(() -> adoClient.getIssueCount() == expectedIssueCount);\n        } catch (ConditionTimeoutException e) {\n            String message = String.format("Waited for %s but didn\'t get the expected ADO issue count (%d).",\n                    timeout, expectedIssueCount);\n\n            Assert.fail(message);\n        }\n    }\n\nExample 9:\nGherkin Step:\n\n    @Given("input has {int} findings with {string} severity")\nGlue Code:\n    @Given("input has {int} findings with {string} severity")\n    public void inputHasFindingsWithSeverity(int findingCount, String severity) {\n        String fragment = String.format("%d-%s-", findingCount,\n                severity.toLowerCase(Locale.ROOT));\n\n        testContext.appendToInputFilename(fragment);\n    }\n\nExample 10:\nGherkin Step:\n\n    @And("each issue contains {int} result")\nGlue Code:\n    @And("each issue contains {int} result")\n    public void eachIssueContainsResult(int expectedResultCount) throws IOException {\n        verifyCxFlowResultCount(expectedResultCount, false);\n    }\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n    @When("doing get results operation on SAST scan with {int} {int} {int} {int} results and filter is {string}")\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:17,322 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:17,322 - DEBUG - receive_response_body.complete
2025-09-23 02:45:17,323 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:17,323 - DEBUG - response_closed.started
2025-09-23 02:45:17,324 - DEBUG - send_request_headers.complete
2025-09-23 02:45:17,324 - DEBUG - response_closed.complete
2025-09-23 02:45:17,324 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:17,324 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:16 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b479289101e4-YYC'})
2025-09-23 02:45:17,325 - DEBUG - send_request_body.complete
2025-09-23 02:45:17,325 - DEBUG - request_id: None
2025-09-23 02:45:17,325 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:17,327 - INFO - Generated glue code: 
```java
@Then("the result is {int}")
public void the_result_is(int expected) {
  assertEquals(expected, calc.value());
}
```
2025-09-23 02:45:17,330 - INFO - Step ID 1190 CodeBLEU: {'codebleu': 0.775774122192697, 'ngram_match_score': 0.6162607099729586, 'weighted_ngram_match_score': 0.7414805119540123, 'syntax_match_score': 0.6, 'dataflow_match_score': 1.0}
2025-09-23 02:45:17,330 - INFO - Generating glue code for step ID 1191
2025-09-23 02:45:17,333 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-9c1d0cd1-9356-4740-9d5d-307e06d183c4', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n  @Given("a calculator I just turned on")\nGlue Code:\n  @Given("a calculator I just turned on")\n  public void a_calculator_I_just_turned_on() {\n    calc = new Calculator();\n  }\n\nExample 2:\nGherkin Step:\n\n  @Given("a calculator I just turned on")\nGlue Code:\n  @Given("a calculator I just turned on")\n  public void a_calculator_I_just_turned_on() {\n    calc = new Calculator();\n  }\n\nExample 3:\nGherkin Step:\n\n  @Given("a calculator I just turned on")\nGlue Code:\n  @Given("a calculator I just turned on")\n  public void a_calculator_I_just_turned_on() {\n    calc = new Calculator();\n  }\n\nExample 4:\nGherkin Step:\n\n  @Given("a flaky calculator I just turned on")\nGlue Code:\n  @Given("a flaky calculator I just turned on")\n  public void a_flaky_calculator_I_just_turned_on() {\n    calc = new Calculator(++flakyCounter < 3);\n  }\n\nExample 5:\nGherkin Step:\n\n  @When("I add {int} and {int}")\nGlue Code:\n  @When("I add {int} and {int}")\n  public void adding(int arg1, int arg2) {\n    calc.push(arg1);\n    calc.push(arg2);\n    calc.push("+");\n  }\n\nExample 6:\nGherkin Step:\n\n  @Then("the result is {int}")\nGlue Code:\n  @Then("the result is {int}")\n  public void the_result_is(double expected) {\n    assertEquals(expected, calc.value());\n  }\n\nExample 7:\nGherkin Step:\n\n  @When("I add {int} and {int}")\nGlue Code:\n  @When("I add {int} and {int}")\n  public void adding(int arg1, int arg2) {\n    calc.push(arg1);\n    calc.push(arg2);\n    calc.push("+");\n  }\n\nExample 8:\nGherkin Step:\n\n  @When("I slowly add {int} and {int}")\nGlue Code:\n  @When("I slowly add {int} and {int}")\n  public void addingSlow(int arg1, int arg2) throws InterruptedException {\n    Thread.sleep(1100);\n    calc.push(arg1);\n    calc.push(arg2);\n    calc.push("+");\n  }\n\nExample 9:\nGherkin Step:\n\n  @Given("^I press (.+)$")\nGlue Code:\n  @Given("^I press (.+)$")\n  public void I_press(String what) {\n    calc.push(what);\n  }\n\nExample 10:\nGherkin Step:\n\n  @Then("the result is {int}")\nGlue Code:\n  @Then("the result is {int}")\n  public void the_result_is(double expected) {\n    assertEquals(expected, calc.value());\n  }\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n  @Given("a calculator I just turned on")\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:17,334 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:17,335 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:17,335 - DEBUG - send_request_headers.complete
2025-09-23 02:45:17,335 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:17,336 - DEBUG - send_request_body.complete
2025-09-23 02:45:17,336 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:17,393 - DEBUG - receive_response_body.complete
2025-09-23 02:45:17,393 - DEBUG - response_closed.started
2025-09-23 02:45:17,393 - DEBUG - response_closed.complete
2025-09-23 02:45:17,393 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:16 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b4790bbd01de-YYC'})
2025-09-23 02:45:17,393 - DEBUG - request_id: None
2025-09-23 02:45:17,395 - INFO - Generated glue code: 
```java
@When("^I am on the organization page$")
public void i_am_on_the_organization_page() {
    applicationSteps.enterOrganizationInfo();
    applicationSteps.enterContactInfo();
}
```
2025-09-23 02:45:17,398 - INFO - Step ID 1044 CodeBLEU: {'codebleu': 0.8550894706480597, 'ngram_match_score': 0.6413865258981679, 'weighted_ngram_match_score': 0.7666510377252864, 'syntax_match_score': 0.7857142857142857, 'dataflow_match_score': 1.0}
2025-09-23 02:45:17,398 - INFO - Generating glue code for step ID 1045
2025-09-23 02:45:17,403 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-9702b349-4367-49be-a1dc-f7c0c9933bf8', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n    @When("^I am on the organization page$")\nGlue Code:\n    @When("^I am on the organization page$")\n    public void i_am_on_the_organization_page() {\n        applicationSteps.prepareHeadStart();\n        applicationSteps.selectProviderType();\n    }\n\nExample 2:\nGherkin Step:\n\n    @When("^I am on the Screenings page$")\nGlue Code:\n    @When("^I am on the Screenings page$")\n    public void i_am_on_the_screenings_page() {\n        generalSteps.clickLinkAssertTitle(".screeningsLink", "Screenings");\n    }\n\nExample 3:\nGherkin Step:\n\n    @When("^I am on the ownership info page$")\nGlue Code:\n    @When("^I am on the ownership info page$")\n    public void i_am_on_the_ownership_info_page() throws IOException {\n        i_am_on_the_individual_member_info_page();\n        applicationSteps.enterIndividualMember();\n        applicationSteps.advanceFromOrganizationIndividualMemberInfoToOwnershipInfo();\n    }\n\nExample 4:\nGherkin Step:\n\n    @When("^I am on the organization summary page$")\nGlue Code:\n    @When("^I am on the organization summary page$")\n    public void i_am_on_the_organization_summary_page() throws IOException {\n        i_am_on_the_ownership_info_page();\n        applicationSteps.enterOrganizationOwnershipInfo();\n        applicationSteps.setNoToAllDisclosures();\n        applicationSteps.advanceFromOrganizationOwnershipInfoToSummaryPage();\n    }\n\nExample 5:\nGherkin Step:\n\n    @When("^I am on the personal info page$")\nGlue Code:\n    @When("^I am on the personal info page$")\n    public void i_am_on_the_personal_info_page() {\n        applicationSteps.prepareSpeechLanguagePathologistApplication();\n        applicationSteps.selectProviderType();\n    }\n\nExample 6:\nGherkin Step:\n\n    @When("^I am on the individual summary page$")\nGlue Code:\n    @When("^I am on the individual summary page$")\n    public void i_am_on_the_individual_summary_page() throws IOException {\n        i_am_on_the_individual_provider_practice_info_page();\n        applicationSteps.enterIndividualPrivatePracticeInfo();\n        applicationSteps.advanceFromIndividualPracticeInfoToSummaryPage();\n    }\n\nExample 7:\nGherkin Step:\n\n    @When("^I am on the provider Draft page$")\nGlue Code:\n    @When("^I am on the provider Draft page$")\n    public void i_am_on_the_provider_draft_page() {\n        generalSteps.goToProviderDraftPage();\n    }\n\nExample 8:\nGherkin Step:\n\n    @When("^I am on the provider Pending page$")\nGlue Code:\n    @When("^I am on the provider Pending page$")\n    public void i_am_on_the_provider_pending_page() {\n        generalSteps.goToProviderPendingPage();\n    }\n\nExample 9:\nGherkin Step:\n\n    @When("^I am on the provider Approved page$")\nGlue Code:\n    @When("^I am on the provider Approved page$")\n    public void i_am_on_the_provider_approved_page() {\n        generalSteps.goToProviderApprovedPage();\n    }\n\nExample 10:\nGherkin Step:\n\n    @When("^I am on the provider Denied page$")\nGlue Code:\n    @When("^I am on the provider Denied page$")\n    public void i_am_on_the_provider_denied_page() {\n        generalSteps.goToProviderDeniedPage();\n    }\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n    @When("^I am on the facility credentials page$")\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:17,404 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:17,404 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:17,405 - DEBUG - send_request_headers.complete
2025-09-23 02:45:17,405 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:17,405 - DEBUG - send_request_body.complete
2025-09-23 02:45:17,405 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:17,465 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:17 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b47c991bbee8-YYC')])
2025-09-23 02:45:17,466 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:17,466 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:17,478 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:17 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b47b9f0801d4-YYC')])
2025-09-23 02:45:17,479 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:17,479 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:17,539 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:17 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b47c3e21bf01-YYC')])
2025-09-23 02:45:17,539 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:17,540 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:17,738 - DEBUG - receive_response_body.complete
2025-09-23 02:45:17,738 - DEBUG - response_closed.started
2025-09-23 02:45:17,738 - DEBUG - response_closed.complete
2025-09-23 02:45:17,738 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:17 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b479a8d501dc-YYC'})
2025-09-23 02:45:17,738 - DEBUG - request_id: None
2025-09-23 02:45:17,740 - INFO - Generated glue code: 
```java
@When( "Freelancer clicks the Bid button" )
public void freelancerClicksTheBidButton() {
    webDriver.findElement( By.id( "bid-btn" ) ).click();
}
```
2025-09-23 02:45:17,744 - WARNING - WARNING: There is no reference data-flows extracted from the whole corpus, and the data-flow match score degenerates to 0. Please consider ignoring this score.
2025-09-23 02:45:17,744 - INFO - Step ID 86 CodeBLEU: {'codebleu': 0.8815534835977812, 'ngram_match_score': 0.7331765459202478, 'weighted_ngram_match_score': 0.8323582900575635, 'syntax_match_score': 0.8125, 'dataflow_match_score': 0}
2025-09-23 02:45:17,744 - INFO - Generating glue code for step ID 87
2025-09-23 02:45:17,748 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-d288441c-4e9b-4bf7-90dd-49ea492ea143', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n    @Then( "Project is added with {string} for bidding" )\nGlue Code:\n    @Then( "Project is added with {string} for bidding" )\n    public void projectIsAddedWithForBidding( String bidding ) {\n        var projects = projectRepository.findAll();\n\n        assertFalse( projects.isEmpty() );\n\n        var project = projects.get( 0 );\n        assertNotNull( project );\n        assertEquals( "new world order", project.getName() );\n        assertEquals( "Make all people slaves", project.getDescription() );\n        assertEquals( 200.0, project.getPreferredBid() );\n        assertEquals( 31, project.getDuration().toDays() );\n        assertEquals( 100, project.getMinimumQualification() );\n        assertEquals( bidding, String.valueOf( project.isAllowBidding() ) );\n        assertNotNull( project.getOwner() );\n        assertEquals( this.user.getEmail(), project.getOwner().getUser().getEmail() );\n\n        projectRepository.deleteAll(); // For other tests\n        webDriver.close();\n    }\n\nExample 2:\nGherkin Step:\n\n    @Then( "User is redirected to admin panel" )\nGlue Code:\n    @Then( "User is redirected to admin panel" )\n    public void userIsRedirectedToAdminPanel() {\n        assertEquals( Utils.ADMIN_PANEL, webDriver.getCurrentUrl() );\n        webDriver.close();\n    }\n\nExample 3:\nGherkin Step:\n\n    @Then( "Stakeholder is redirected to project dashboard page" )\nGlue Code:\n    @Then( "Stakeholder is redirected to project dashboard page" )\n    public void stakeholderIsRedirectedToProjectDashboardPage() {\n        assertEquals( Utils.getProjectDashboardPage( project.getId() ) , webDriver.getCurrentUrl() );\n    }\n\nExample 4:\nGherkin Step:\n\n    @Then( "user is redirected to project details page" )\nGlue Code:\n    @Then( "user is redirected to project details page" )\n    public void userIsRedirectedToProjectDetailsPage() {\n        assertTrue( isProjectDetailsUrl( webDriver.getCurrentUrl() ) );\n        webDriver.close();\n    }\n\nExample 5:\nGherkin Step:\n\n    @Then( "comment is saved" )\nGlue Code:\n    @Then( "comment is saved" )\n    public void commentIsSaved() {\n        assertTrue( bidCommentService.findByBid( bidRepository.findByBidderAndProject( (Freelancer) freelancer.getType(), project ).orElseThrow() ).stream().anyMatch( bidComment -> bidComment.getText().equals( "Diee" ) ) );\n    }\n\nExample 6:\nGherkin Step:\n\n    @Then( "User is activated" )\nGlue Code:\n    @Then( "User is activated" )\n    public void userIsActivated() {\n        User user = (User) userService.loadUserByUsername( "testuser@test.com" );\n        assertTrue( user.isEnabled() );\n    }\n\nExample 7:\nGherkin Step:\n\n    @When( "user clicks on a project" )\nGlue Code:\n    @When( "user clicks on a project" )\n    public void userClicksOnAProject() {\n        webDriver.findElement( By.className( "btn" ) ).click();\n    }\n\nExample 8:\nGherkin Step:\n\n    @Then( "Freelancer profile is updated" )\nGlue Code:\n    @Then( "Freelancer profile is updated" )\n    public void freelancerProfileIsUpdated() {\n        var user = (User) userService.loadUserByUsername( this.user.getEmail() );\n\n        Freelancer freelancer = (Freelancer) user.getType();\n        assertEquals( "Blah Blah", freelancer.getSummary() );\n        assertTrue( freelancer.isAvailable() );\n\n        Set<Skill> skills = Set.of( Skill.of( "python" ), Skill.of( "c++ sleeping" ) );\n        assertEquals( skills, freelancer.getSkills() );\n        webDriver.close();\n    }\n\nExample 9:\nGherkin Step:\n\n    @Then( "a unique token is generated" )\nGlue Code:\n    @Then( "a unique token is generated" )\n    public void aUniqueTokenIsGenerated() {\n        User user = Utils.getOrCreateTestUser( userService );\n        var tokenOptional = passwordResetTokenRepository.findByUser_Email( user.getEmail() );\n        assertNotNull( user.getPasswordResetToken() );\n        assertTrue( tokenOptional.isPresent() );\n        assertEquals( user, tokenOptional.get().getUser() );\n    }\n\nExample 10:\nGherkin Step:\n\n    @When( "Stakeholder clicks dashboard button for a project" )\nGlue Code:\n    @When( "Stakeholder clicks dashboard button for a project" )\n    public void stakeholderClicksDashboardButtonForAProject() {\n        webDriver.findElement( By.id( "project-dashboard-btn-" + project.getId() ) ).click();\n    }\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n    @Then( "Bid is added to project" )\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:17,750 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:17,750 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:17,751 - DEBUG - send_request_headers.complete
2025-09-23 02:45:17,751 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:17,752 - DEBUG - receive_response_body.complete
2025-09-23 02:45:17,752 - DEBUG - receive_response_body.complete
2025-09-23 02:45:17,752 - DEBUG - send_request_body.complete
2025-09-23 02:45:17,753 - DEBUG - response_closed.started
2025-09-23 02:45:17,753 - DEBUG - response_closed.started
2025-09-23 02:45:17,753 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:17,753 - DEBUG - response_closed.complete
2025-09-23 02:45:17,753 - DEBUG - response_closed.complete
2025-09-23 02:45:17,754 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:17 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b47aafd601e2-YYC'})
2025-09-23 02:45:17,754 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:15 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b46f5bcebed1-YYC'})
2025-09-23 02:45:17,755 - DEBUG - request_id: None
2025-09-23 02:45:17,755 - DEBUG - request_id: None
2025-09-23 02:45:17,758 - INFO - Generated glue code: 
```java
@When("^automation wait for idle$")
public void automationWaitForIdle() throws InterruptedException {
    while (!currentWindow.isIdle()) {
        Thread.sleep(100);
        System.out.println("Waiting for idle...");
    }
}
```
2025-09-23 02:45:17,762 - WARNING - WARNING: There is no reference data-flows extracted from the whole corpus, and the data-flow match score degenerates to 0. Please consider ignoring this score.
2025-09-23 02:45:17,762 - INFO - Step ID 250 CodeBLEU: {'codebleu': 0.7166742800644464, 'ngram_match_score': 0.294467310498826, 'weighted_ngram_match_score': 0.6904573083274563, 'syntax_match_score': 0.5454545454545454, 'dataflow_match_score': 0}
2025-09-23 02:45:17,762 - INFO - Generating glue code for step ID 251
2025-09-23 02:45:17,763 - INFO - Generated glue code: 
```java
@Given("^I have a web application configured locations \"([^\"]*)\" servletPath \"([^\"]*)\" contextPath \"([^\"]*)\"$")
public void I_have_a_web_application_configured_locations_servletPath_contextPath(String locations, String servletPath, String contextPath) throws Throwable {
    // Setup the mock servlet context with the given context path
    MockServletContext sc = new MockServletContext();
    sc.setContextPath(contextPath);

    // Create the application context and set config locations
    ClassPathXmlApplicationContext appContext = new ClassPathXmlApplicationContext();
    appContext.setConfigLocations(locations.split(","));
    appContext.setServletContext(sc);
    appContext.refresh();

    this.wac = appContext;

    this.contextPath = contextPath;
    this.servletPath = servletPath;

    this.hm = appContext.getBean(RouterHandlerMapping.class);
    this.ha = appContext.getBean(RequestMappingHandlerAdapter.class);
}
```
2025-09-23 02:45:17,766 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-05898046-92d8-40d7-b20b-921b15dda723', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n    @When("^automation expand main menu item \\"([^\\"]*)\\"$")\nGlue Code:\n    public void automationExpandMainMenuItem(String name) throws Throwable {\n        // Write code here that turns the phrase above into concrete actions\n        currentMenuItem = currentWindow.getMainMenu().getMenuItem(name);\n        currentMenuItem.expand();\n    }\n\n    @When("^automation click current menu item \\"([^\\"]*)\\"$")\n    public void automationClickCurrentMenuItem(String pattern) throws Throwable {\n\nExample 2:\nGherkin Step:\n\n    @When("^automation click current menu item \\"([^\\"]*)\\"$")\nGlue Code:\n    @When("^automation click current menu item \\"([^\\"]*)\\"$")\n    public void automationClickCurrentMenuItem(String pattern) throws Throwable {\n        List<MenuItem> items = currentMenuItem.getItems();\n        for (MenuItem item : items) {\n            System.out.println(item.getName());\n        }\n        currentMenuItem = currentMenuItem.getMenuItem(Pattern.compile(pattern));\n        currentMenuItem.click();\n    }\n\nExample 3:\nGherkin Step:\n\n    @When("^automation focus window$")\nGlue Code:\n    @When("^automation focus window$")\n    public void automationFocusWindow() {\n        currentWindow.focus();\n    }\n\nExample 4:\nGherkin Step:\n\n    @Given("^a CHARGEN ROM from file \\"([^\\"]*)\\"$")\nGlue Code:\n    @Given("^a CHARGEN ROM from file \\"([^\\"]*)\\"$")\n    public void a_CHARGEN_ROM_from_file(String filename) throws Throwable {\n        File file = new File(filename);\n        int flen = (int) file.length();\n        Memory memory = Memory.makeROM(0 , flen - 1 , file);\n\n        if (displayC64 != null) {\n            displayC64.setTheCHARGEN(memory);\n        }\n        // Not going to add this to the device memory map\n    }\n\nExample 5:\nGherkin Step:\n\n    @When("^automation wait for idle$")\nGlue Code:\n    @When("^automation wait for idle$")\n    public void automationWaitForIdle() {\n        application.waitForInputIdle();\n    }\n\nExample 6:\nGherkin Step:\n\n    @When("^display until window closed$")\nGlue Code:\n    @When("^display until window closed$")\n    public void displayUntilWindowClosed() throws InterruptedException {\n        while (displayBombJack.isVisible()) {\n            displayBombJack.RepaintWindow();\n\n            if (audioExpansion != null) {\n                if (instructionsPerAudioRefresh > 0) {\n                    for (int i = 0; i < 100; i++) {\n                        audioExpansion.calculateSamples();\n                    }\n                }\n            }\n\n            Thread.sleep(1);\n        }\n    }\n\nExample 7:\nGherkin Step:\n\n    @Then("^automation wait for window close$")\nGlue Code:\n    @Then("^automation wait for window close$")\n    public void automationWaitForWindowClose() throws InterruptedException {\n\n        while (true) {\n            try {\n                if (!currentWindow.isEnabled()) break;\n            } catch (AutomationException e) {\n                System.out.println("Window closed!");\n                return;\n            }\n            Thread.sleep(1000);\n            System.out.println("Waiting for window...");\n        }\n    }\n\nExample 8:\nGherkin Step:\n\n    @When("^rendering the video until window closed$")\nGlue Code:\n    @When("^rendering the video until window closed$")\n    public void renderingTheVideoUntilWindowClosed() throws InterruptedException {\n        displayBombJack.writeDebugBMPsToLeafFilename(null);\n        renderAVideoDisplayFrame();\n        displayUntilWindowClosed();\n    }\n\nExample 9:\nGherkin Step:\n\n    @Given("^audio refresh window every (.*) instructions$")\nGlue Code:\n    @Given("^audio refresh window every (.*) instructions$")\n    public void audioRefreshWindowEveryInstructions(String refreshEvery) throws ScriptException {\n        instructionsPerAudioRefresh = valueToInt(refreshEvery);\n    }\n\nExample 10:\nGherkin Step:\n\n    @Given("^video display refresh window every (.*) instructions$")\nGlue Code:\n    @Given("^video display refresh window every (.*) instructions$")\n    public void videoDisplayRefreshWindowEveryInstructions(String refreshEvery) throws ScriptException {\n        instructionsPerDisplayRefresh = valueToInt(refreshEvery);\n    }\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n    @When("^automation find window from pattern \\"([^\\"]*)\\"$")\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:17,774 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:17,779 - INFO - Step ID 1 CodeBLEU: {'codebleu': 0.6940946409999156, 'ngram_match_score': 0.4230775104248665, 'weighted_ngram_match_score': 0.6612848057020592, 'syntax_match_score': 0.6949152542372882, 'dataflow_match_score': 0.7692307692307693}
2025-09-23 02:45:17,779 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:17,780 - INFO - Generating glue code for step ID 2
2025-09-23 02:45:17,780 - DEBUG - send_request_headers.complete
2025-09-23 02:45:17,781 - DEBUG - receive_response_body.complete
2025-09-23 02:45:17,784 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-f0c210dc-65bc-468e-a833-4f5a1ccdcd2d', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n    @Given("^I have a web application with the config locations \\"([^\\"]*)\\"$")\nGlue Code:\n    @Given("^I have a web application with the config locations \\"([^\\"]*)\\"$")\n    public void I_have_a_web_applications_with_the_config_locations(String locations) throws Throwable {\n        I_have_a_web_application_configured_locations_servletPath_contextPath(locations,"","");\n    }\n\nExample 2:\nGherkin Step:\n\n\n    @Given("^I have a web application configured locations \\"([^\\"]*)\\" servletPath \\"([^\\"]*)\\" contextPath \\"([^\\"]*)\\"$")\nGlue Code:\n\n    @Given("^I have a web application configured locations \\"([^\\"]*)\\" servletPath \\"([^\\"]*)\\" contextPath \\"([^\\"]*)\\"$")\n    public void I_have_a_web_application_configured_locations_servletPath_contextPath(String locations, String servletPath, String contextPath) throws Throwable {\n\n        this.servletPath = servletPath;\n        this.contextPath = contextPath;\n\n        MockServletContext sc = new MockServletContext();\n        sc.setContextPath(contextPath);\n\n        this.wac = new XmlWebApplicationContext();\n        this.wac.setServletContext(sc);\n        this.wac.setConfigLocations(locations.split(","));\n        this.wac.refresh();\n\n        this.hm = this.wac.getBean(RouterHandlerMapping.class);\n        this.ha = this.wac.getBean(RequestMappingHandlerAdapter.class);\n    }\n\nExample 3:\nGherkin Step:\n\n    @Given("^I have routes:$")\nGlue Code:\n    @Given("^I have routes:$")\n    public void I_have_routes(List<RouteItem> routes) throws Throwable {\n        for(RouteItem item : routes) {\n            Router.addRoute(item.method,item.path,item.action,item.params,null);\n        }\n    }\n\nExample 4:\nGherkin Step:\n\n    @Given("^I have a route with method \\"([^\\"]*)\\" path \\"([^\\"]*)\\" action \\"([^\\"]*)\\"$")\nGlue Code:\n    @Given("^I have a route with method \\"([^\\"]*)\\" path \\"([^\\"]*)\\" action \\"([^\\"]*)\\"$")\n    public void I_have_a_route_with_method_url_action(String method, String path, String action) throws Throwable {\n        Router.prependRoute(method, path, action);\n    }\n\nExample 5:\nGherkin Step:\n\n    @When("^I build a link for controller \\"([^\\"]*)\\" and action \\"([^\\"]*)\\"$")\nGlue Code:\n    @When("^I build a link for controller \\"([^\\"]*)\\" and action \\"([^\\"]*)\\"$")\n    public void I_build_a_link_for_controller_and_action(String controller, String action) throws Throwable {\n\n         linkBuilder = RouterLinkBuilder.linkTo(controller,action);\n    }\n\nExample 6:\nGherkin Step:\n\n    @Given("^the current request is processed within a context path \\"([^\\"]*)\\" and servlet path \\"([^\\"]*)\\"$")\nGlue Code:\n    @Given("^the current request is processed within a context path \\"([^\\"]*)\\" and servlet path \\"([^\\"]*)\\"$")\n    public void the_current_request_is_processed_within_a_context_path_and_servlet_path(String contextPath, String servletPath) throws Throwable {\n\n        MockHttpServletRequest request = new MockHttpServletRequest("GET", "/reverse-routing");\n        request.addHeader("host","example.org");\n        request.setContextPath(contextPath);\n        request.setServletPath(servletPath);\n\n\t    ServletRequestAttributes requestAttributes = new ServletRequestAttributes(request);\n\t    RequestContextHolder.setRequestAttributes(requestAttributes);\n\n        this.requestAdapter = HTTPRequestAdapter.parseRequest(request);\n    }\n\nExample 7:\nGherkin Step:\n\n    @Then("^the controller should respond with a ModelAndView containing:$")\nGlue Code:\n    @Then("^the controller should respond with a ModelAndView containing:$")\n    public void the_controller_should_respond_with_a_ModelAndView_containing(List<MaVParams> mavparams) throws Throwable {\n\n        assertThat(chain).isNotNull();\n        RouterHandler handler = (RouterHandler) chain.getHandler();\n\n        ModelAndView mv = ha.handle(request, new MockHttpServletResponse(), handler);\n\n        for (MaVParams param : mavparams) {\n            assertThat(param.value).isEqualTo(mv.getModel().get(param.key).toString());\n        }\n    }\n\nExample 8:\nGherkin Step:\n\n\n    @Then("^the handler should raise a security exception$")\nGlue Code:\n\n    @Then("^the handler should raise a security exception$")\n    public void the_handler_should_raise_a_security_exception() throws Throwable {\n\n        assertThat(chain).isNotNull();\n        RouterHandler handler = (RouterHandler) chain.getHandler();\n\n        Exception securityException = null;\n\n        try {\n            ha.handle(request, new MockHttpServletResponse(), handler);\n        } catch(Exception exc) {\n            securityException = exc;\n        }\n\n        assertThat(securityException).isNotNull().isInstanceOf(AuthenticationCredentialsNotFoundException.class);\n    }\n\nExample 9:\nGherkin Step:\n\n    @When("^I send the HTTP request \\"([^\\"]*)\\" \\"([^\\"]*)\\" with a null pathInfo$")\nGlue Code:\n    @When("^I send the HTTP request \\"([^\\"]*)\\" \\"([^\\"]*)\\" with a null pathInfo$")\n    public void I_send_the_HTTP_request_with_a_null_pathInfo(String method, String url) throws Throwable {\n\n        request = new MockHttpServletRequest(this.wac.getServletContext());\n        request.setMethod(method);\n        request.setContextPath(this.contextPath);\n        request.setServletPath(url.replaceFirst(this.contextPath,""));\n        request.addHeader("host", host);\n\n        for (HTTPHeader header : headers) {\n            request.addHeader(header.name, header.value);\n        }\n\n        for (HTTPParam param : queryParams) {\n            request.addParameter(param.name, param.value);\n        }\n\n        request.setPathInfo(null);\n\n\t    ServletRequestAttributes requestAttributes = new ServletRequestAttributes(request);\n\t    RequestContextHolder.setRequestAttributes(requestAttributes);\n\n        chain = this.hm.getHandler(request);\n    }\n\nExample 10:\nGherkin Step:\n\n    @Then("^I should get an action with path \\"([^\\"]*)\\"$")\nGlue Code:\n    @Then("^I should get an action with path \\"([^\\"]*)\\"$")\n    public void I_should_get_an_action_with_URL(String path) throws Throwable {\n         assertThat(path).isEqualTo(resolvedAction.url);\n    }\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n    @Given("^I have a web application with javaconfig in package \\"([^\\"]*)\\"$")\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:17,784 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:17,785 - DEBUG - response_closed.started
2025-09-23 02:45:17,786 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:17,786 - DEBUG - send_request_body.complete
2025-09-23 02:45:17,786 - DEBUG - response_closed.complete
2025-09-23 02:45:17,787 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:17,787 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:17,787 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:17 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b47b9f0801d4-YYC'})
2025-09-23 02:45:17,788 - DEBUG - send_request_headers.complete
2025-09-23 02:45:17,788 - DEBUG - request_id: None
2025-09-23 02:45:17,788 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:17,790 - INFO - Generated glue code: 
```java
@Given("^I open \"([^\"]*)\"(?: page|)$")
public void iOpen(String pageName) {
    getPage(pageName).open();
}
```
2025-09-23 02:45:17,790 - DEBUG - send_request_body.complete
2025-09-23 02:45:17,791 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:17,794 - INFO - Step ID 436 CodeBLEU: {'codebleu': 0.4821488807194409, 'ngram_match_score': 0.4890197813272515, 'weighted_ngram_match_score': 0.49913569253382384, 'syntax_match_score': 0.4583333333333333, 'dataflow_match_score': 0.5}
2025-09-23 02:45:17,795 - INFO - Generating glue code for step ID 437
2025-09-23 02:45:17,798 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-943f405b-ee7e-44df-bd53-9b716800a65d', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n    @Given("^I open \\"([^\\"]*)\\"(?: page|)$")\nGlue Code:\n    @Given("^I open \\"([^\\"]*)\\"(?: page|)$")\n    public void iOpen(String pageName) {\n        if (pageName.startsWith("http")) {\n            WebPage.openUrl(pageName);\n            return;\n        }\n        getPage(pageName).shouldBeOpened();\n    }\n\nExample 2:\nGherkin Step:\n    @Given("^I open application$")\nGlue Code:\n    public void iMOpenSite() {\n        openUrl(getDomain());\n    }\n\n    @Given("^I open \\"([^\\"]*)\\"(?: page|)$")\n    public void iOpen(String pageName) {\n\nExample 3:\nGherkin Step:\n\n    @Then("^the \\"([^\\"]*)\\" (?:page |)is opened with params \\"([^\\"]*)\\"$")\nGlue Code:\n    @Then("^the \\"([^\\"]*)\\" (?:page |)is opened with params \\"([^\\"]*)\\"$")\n    public void pageOpenedParams(String pageName, Object params) {\n        getPage(pageName).shouldBeOpened(params);\n    }\n\nExample 4:\nGherkin Step:\n\n    @Given("^I should be logged in$")\nGlue Code:\n    @Given("^I should be logged in$")\n    public void iShouldBeLogin() {\n        String url = WebPage.getUrl();\n        if (!url.contains("https://jdi-testing.github.io/jdi-light/")\n                || url.contains("issue")) {\n            homePage.open();\n        }\n        if (userName.isHidden()) {\n            if (loginForm.isHidden()) {\n                userIcon.click();\n            }\n            loginForm.submit(DEFAULT_USER);\n        }\n    }\n\nExample 5:\nGherkin Step:\n    @When("^(?:I |)click the cell \\\\(([^\\\\)]*)\\\\) in the \\"([^\\"]*)\\"(?: table|)$")\nGlue Code:\n    public void selectCell(String cellPair, String name) {\n        cell(name, cellPair).click();\n    }\n    //endregion\n\n    //#region Then\n    @Then("^the \\"([^\\"]*)\\" (?:table |)has \\"([^\\"]*)\\" columns$")\n    public void assertColumnsCount(String name, int size) {\n\nExample 6:\nGherkin Step:\n\n    @Given("Page with url \\"([^\\"]*)\\" openned$")\nGlue Code:\n    @Given("Page with url \\"([^\\"]*)\\" openned$")\n    @When("^(?:I |)open url \\"([^\\"]*)\\"$")\n    public void iOpenUrl(String url) {\n        openUrl(url);\n    }\n\nExample 7:\nGherkin Step:\n\n    @When("^(?:I |)click with JS on \\"([^\\"]*)\\"$")\nGlue Code:\n    @When("^(?:I |)click with JS on \\"([^\\"]*)\\"$")\n    public void jsClick(String name) {\n        getUI(name, HasClick.class).click(JS);\n    }\n\nExample 8:\nGherkin Step:\n\n    @When("^(?:I |)fill form \\"([^\\"]*)\\" with \\"([^\\"]*)\\"$")\nGlue Code:\n    @When("^(?:I |)fill form \\"([^\\"]*)\\" with \\"([^\\"]*)\\"$")\n    public void fillForm(String name, String jsonName) {\n        getForm(name).fill(getMapFromJson(jsonName, "json.test.data"));\n    }\n\nExample 9:\nGherkin Step:\n\n    @When("^(?:I |)fill form \\"([^\\"]*)\\" with data:$")\nGlue Code:\n    @When("^(?:I |)fill form \\"([^\\"]*)\\" with data:$")\n    public void fillForm(String name, DataTable data) {\n        getForm(name).fill(getMapFromTable(data));\n    }\n\nExample 10:\nGherkin Step:\n\n    @When("^(?:I |)set \\"([^\\"]*)\\" attribute \\"([^\\"]*)\\" with value \\"([^\\"]*)\\" element$")\nGlue Code:\n    @When("^(?:I |)set \\"([^\\"]*)\\" attribute \\"([^\\"]*)\\" with value \\"([^\\"]*)\\" element$")\n    public void setAttribute(String name, String attrName, String attrValue) {\n        core(name).setAttribute(attrName, attrValue);\n    }\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n    @Given("^I open \\"([^\\"]*)\\"(?: page|) with params \\"([^\\"]*)\\"$")\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:17,799 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:17,800 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:17,800 - DEBUG - send_request_headers.complete
2025-09-23 02:45:17,800 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:17,801 - DEBUG - send_request_body.complete
2025-09-23 02:45:17,801 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:17,819 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:17 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b47f4a17420e-YYC')])
2025-09-23 02:45:17,819 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:17,820 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:17,884 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:17 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b47fcaf101de-YYC')])
2025-09-23 02:45:17,885 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:17,885 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:18,093 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:18 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b47f5e3e01e4-YYC')])
2025-09-23 02:45:18,094 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:18,094 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:18,261 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:18 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b481f97001dc-YYC')])
2025-09-23 02:45:18,262 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:18,262 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:18,323 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:18 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b4823ddc01d4-YYC')])
2025-09-23 02:45:18,324 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:18,324 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:18,391 - DEBUG - receive_response_body.complete
2025-09-23 02:45:18,392 - DEBUG - response_closed.started
2025-09-23 02:45:18,392 - DEBUG - response_closed.complete
2025-09-23 02:45:18,392 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:17 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b47c3e21bf01-YYC'})
2025-09-23 02:45:18,392 - DEBUG - request_id: None
2025-09-23 02:45:18,394 - INFO - Generated glue code: 
```java
@Then("^Test must pass because inserted users are commited to database and database state matches expected dataset.$")
public void Test_must_pass_because_inserted_users_are_commited_to_database_and_database_state_matches_expected_dataset() throws Throwable {
    // Express the Regexp above with the code you wish you had
}
```
2025-09-23 02:45:18,397 - WARNING - WARNING: There is no reference data-flows extracted from the whole corpus, and the data-flow match score degenerates to 0. Please consider ignoring this score.
2025-09-23 02:45:18,397 - INFO - Step ID 37 CodeBLEU: {'codebleu': 0.802070770540632, 'ngram_match_score': 0.5092327412979285, 'weighted_ngram_match_score': 0.8448082974417247, 'syntax_match_score': 0.6666666666666666, 'dataflow_match_score': 0}
2025-09-23 02:45:18,397 - INFO - Generating glue code for step ID 28
2025-09-23 02:45:18,401 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-b7dedb95-515a-47ae-bdcb-d45d287f5b7f', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n    @Then("^Test must pass because database state is as in expected dataset.$")\nGlue Code:\n    @Then("^Test must pass because database state is as in expected dataset.$")\n    public void Test_must_pass_because_dataBase_state_is_as_expected_in_dataset() throws Throwable {\n        // Express the Regexp above with the code you wish you had\n    }\n\nExample 2:\nGherkin Step:\n\n    @When("^The following test is executed:$")\nGlue Code:\n    @When("^The following test is executed:$")\n    public void The_test_below_is_executed(String docstring) throws Throwable {\n        assertNotNull(docstring);\n    }\n\nExample 3:\nGherkin Step:\n\n\n\n    @Given("^The following junit5 test is executed$")\nGlue Code:\n\n\n    @Given("^The following junit5 test is executed$")\n    public void the_following_junit_rules(String docString) throws Throwable {\n\n    }\n\nExample 4:\nGherkin Step:\n\n\n    @Given("^Groovy script engine is on test classpath$")\nGlue Code:\n\n    @Given("^Groovy script engine is on test classpath$")\n    public void Groovy_script_engine_is_on_test_classpath(String docstring) throws Throwable {\n        // Express the Regexp above with the code you wish you had\n        assertNotNull(docstring);\n    }\n\nExample 5:\nGherkin Step:\n\n    @Then("^The database should be seeded with the dataset content before test execution$")\nGlue Code:\n    @Then("^The database should be seeded with the dataset content before test execution$")\n    public void The_database_should_be_seeded_with_the_dataset_content() throws Throwable {\n\n    }\n\nExample 6:\nGherkin Step:\n\n    @Then("^The database should be seeded with the dataset content before test execution$")\nGlue Code:\n    @Then("^The database should be seeded with the dataset content before test execution$")\n    @DataSet("yml/users.yml")\n    public void The_database_should_be_seeded_with_the_dataset_content() throws Throwable {\n        List<User> users = em.createQuery("select u from User u order by u.id asc").getResultList();\n        User user1 = new User(1);\n        User user2 = new User(2);\n        Tweet tweetUser1 = new Tweet();\n        tweetUser1.setId("abcdef12345");\n        Tweet tweetUser2 = new Tweet();\n        tweetUser2.setId("abcdef12233");\n        assertThat(users).isNotNull().hasSize(2).contains(user1, user2);\n        List<Tweet> tweetsUser1 = users.get(0).getTweets();\n        assertThat(tweetsUser1).isNotNull().hasSize(1).contains(tweetUser1);\n\n        List<Tweet> tweetsUser2 = users.get(1).getTweets();\n        assertThat(tweetsUser2).isNotNull().hasSize(2).contains(tweetUser2);\n\n    }\n\nExample 7:\nGherkin Step:\n\n    @Then("^Dataset script should be interpreted while seeding the database$")\nGlue Code:\n    @Then("^Dataset script should be interpreted while seeding the database$")\n    public void Dataset_script_should_be_interpreted_when_seeding_the_database() throws Throwable {\n        // Express the Regexp above with the code you wish you had\n    }\n\nExample 8:\nGherkin Step:\n\n\n    @Then("^Test must fail with following error:$")\nGlue Code:\n\n    @Then("^Test must fail with following error:$")\n    public void Test_must_fail_with_following_error(String docstring) throws Throwable {\n        assertNotNull(docstring);\n    }\n\nExample 9:\nGherkin Step:\n\n    @Then("^Test must pass because inserted users are commited to database and database state matches expected dataset.$")\nGlue Code:\n    @Then("^Test must pass because inserted users are commited to database and database state matches expected dataset.$")\n    public void Test_must_pass_because_inserted_users_are_commited_to_database_and_database_state_matches_in_expected_dataset() throws Throwable {\n    }\n\nExample 10:\nGherkin Step:\n\n    @And("^The following dataset$")\nGlue Code:\n    @And("^The following dataset$")\n    public void The_following_dataset(String docstring) throws Throwable {\n        assertNotNull(docstring);\n    }\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n\n    @Given("^DBUnit interceptor is enabled in your test beans.xml:$")\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:18,402 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:18,403 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:18,403 - DEBUG - send_request_headers.complete
2025-09-23 02:45:18,403 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:18,404 - DEBUG - send_request_body.complete
2025-09-23 02:45:18,404 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:18,439 - DEBUG - receive_response_body.complete
2025-09-23 02:45:18,439 - DEBUG - response_closed.started
2025-09-23 02:45:18,439 - DEBUG - response_closed.complete
2025-09-23 02:45:18,439 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:17 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b47c991bbee8-YYC'})
2025-09-23 02:45:18,440 - DEBUG - request_id: None
2025-09-23 02:45:18,441 - INFO - Generated glue code: 
```java
@When("^executing(.*)query:$")
public void whenExecutingQuery(String queryType, String queryString) {
    CypherCompilerContext compilerContext = new CypherCompilerContext(ctx.getFunctions());
    VertexiumCypherQuery.parse(compilerContext, queryString).execute(ctx).count();
}
```
2025-09-23 02:45:18,458 - INFO - Step ID 611 CodeBLEU: {'codebleu': 0.16765501500490573, 'ngram_match_score': 0.005339654795551267, 'weighted_ngram_match_score': 0.08642344511992135, 'syntax_match_score': 0.31683168316831684, 'dataflow_match_score': 0.07936507936507936}
2025-09-23 02:45:18,458 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:18 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b48228d9bed1-YYC')])
2025-09-23 02:45:18,459 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:18,459 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:18,459 - INFO - Generating glue code for step ID 612
2025-09-23 02:45:18,463 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-bc8253f3-1519-4ebf-8b93-5e9ae1cad53f', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n    @Given("^any graph$")\nGlue Code:\n    @Given("^any graph$")\n    public void givenAnyGraph() {\n        createGraph();\n    }\n\nExample 2:\nGherkin Step:\n\n    @Given("^an empty graph$")\nGlue Code:\n    @Given("^an empty graph$")\n    public void givenEmptyGraph() {\n        createGraph();\n    }\n\nExample 3:\nGherkin Step:\n\n    @Given("^the binary-tree-(\\\\d+) graph$")\nGlue Code:\n    @Given("^the binary-tree-(\\\\d+) graph$")\n    public void givenTheBinaryTreeGraph(int number) throws Throwable {\n        createGraph();\n        String resourceName = String.format("/org/vertexium/cypher/tck/graphs/binary-tree-%d/binary-tree-%d.cypher", number, number);\n        InputStream treeIn = this.getClass().getResourceAsStream(resourceName);\n        if (treeIn == null) {\n            throw new VertexiumException("Could not find \'" + resourceName + "\'");\n        }\n        String cyp = IOUtils.toString(treeIn);\n        CypherCompilerContext compilerContext = new CypherCompilerContext(ctx.getFunctions());\n        VertexiumCypherQuery.parse(compilerContext, cyp).execute(ctx);\n    }\n\nExample 4:\nGherkin Step:\n\n    @Given("^parameters are:$")\nGlue Code:\n    @Given("^parameters are:$")\n    public void givenParametersAre(DataTable parameters) {\n        for (List<String> parameterRow : parameters.raw()) {\n            String key = parameterRow.get(0);\n            String valueString = parameterRow.get(1);\n            Object value = parseParameterValue(valueString);\n            ctx.setParameter(key, value);\n        }\n    }\n\nExample 5:\nGherkin Step:\n\n    @When("^executing(.*)query:$")\nGlue Code:\n    @When("^executing(.*)query:$")\n    public void whenExecutingQuery(String queryName, String queryString) {\n        ctx.clearCounts();\n        lastResultRows = null;\n        lastResultColumnNames = null;\n        lastCompileTimeException = null;\n        lastRuntimeException = null;\n        try {\n            CypherCompilerContext compilerContext = new CypherCompilerContext(ctx.getFunctions());\n            query = VertexiumCypherQuery.parse(compilerContext, queryString);\n            try {\n                VertexiumCypherResult results = query.execute(ctx);\n                lastResultRows = results\n                    .peek(row -> {\n                        try {\n                            Map<String, Object> scope = row.popScope();\n                            throw new VertexiumCypherException("Scope should be empty:\\n"\n                                + scope.entrySet().stream().map(e -> e.getKey() + ": " + e.getValue()).collect(Collectors.joining("\\n"))\n                            );\n                        } catch (Exception ex) {\n                            // OK\n                        }\n                    })\n                    .collect(Collectors.toList());\n                lastResultColumnNames = results.getColumnNames();\n            } catch (Exception ex) {\n                lastRuntimeException = ex;\n            }\n        } catch (Exception ex) {\n            lastCompileTimeException = ex;\n        }\n    }\n\nExample 6:\nGherkin Step:\n\n    @Then("^the result should be, in order:$")\nGlue Code:\n    @Then("^the result should be, in order:$")\n    public void thenTheResultShouldBeInOrder(DataTable expected) throws Throwable {\n        thenTheResultShouldBe(expected);\n    }\n\nExample 7:\nGherkin Step:\n\n    @Then("^the result should be \\\\(ignoring element order for lists\\\\):$")\nGlue Code:\n    @Then("^the result should be \\\\(ignoring element order for lists\\\\):$")\n    public void thenTheResultShouldBeIgnoringElementOrderForLists(DataTable expected) throws Throwable {\n        thenTheResultShouldBe(expected);\n    }\n\nExample 8:\nGherkin Step:\n\n    @Then("^the result should be:$")\nGlue Code:\n    @Then("^the result should be:$")\n    public void thenTheResultShouldBe(DataTable expected) throws Throwable {\n        if (lastCompileTimeException != null) {\n            throw lastCompileTimeException;\n        }\n        if (lastRuntimeException != null) {\n            throw lastRuntimeException;\n        }\n        List<String> columnNames = expected.raw().get(0);\n        if (expected.raw().size() > 0) {\n            List<List<String>> expectedRows = expected.raw().stream()\n                .skip(1)\n                .collect(Collectors.toList());\n            List<List<String>> foundRows = lastResultRows.stream()\n                .map(row -> lastResultColumnNames.stream()\n                    .map(row::get)\n                    .map(obj -> ctx.getResultWriter().columnValueToString(ctx, obj))\n                    .collect(Collectors.toList())\n                )\n                .collect(Collectors.toList());\n\n            expectedRows.sort(new RowComparator());\n            foundRows.sort(new RowComparator());\n\n            if (expectedRows.size() > 0) {\n                System.out.println("Expected");\n                System.out.println(String.join(", ", expected.raw().get(0)));\n                for (List<String> expectedRow : expectedRows) {\n                    System.out.println(String.join(", ", expectedRow));\n                }\n            }\n\n            System.out.println("Found");\n            System.out.println(String.join(", ", lastResultColumnNames));\n            for (List<String> foundRow : foundRows) {\n                System.out.println(String.join(", ", foundRow));\n            }\n\n            if (expectedRows.size() > 0) {\n                assertEquals(\n                    String.format(\n                        "Header count, expected (%s), found (%s)",\n                        String.join(", ", expected.raw().get(0)),\n                        String.join(", ", lastResultColumnNames)\n                    ),\n                    expected.raw().get(0).size(),\n                    lastResultColumnNames.size()\n                );\n                for (int colIdx = 0; colIdx < expected.raw().get(0).size(); colIdx++) {\n                    String expectedColumnName = expected.raw().get(0).get(colIdx);\n                    assertTrue(\n                        String.format(\n                            "Header mismatch (expected: %s, columnNames: %s)",\n                            expectedColumnName,\n                            String.join(", ", lastResultColumnNames)\n                        ),\n                        lastResultColumnNames.contains(expectedColumnName)\n                    );\n                }\n            }\n\n            assertEquals("result count", expectedRows.size(), foundRows.size());\n\n            if (expectedRows.size() > 0) {\n                for (int row = 0; row < expectedRows.size(); row++) {\n                    List<String> expectedRow = expectedRows.get(row);\n                    List<String> foundRow = foundRows.get(row);\n                    for (int col = 0; col < expectedRow.size(); col++) {\n                        String expectedColumn = expectedRow.get(col);\n                        String foundColumn = foundRow.get(col);\n                        assertColumnValue(row, col, expectedColumn, foundColumn);\n                    }\n                }\n            }\n        }\n    }\n\nExample 9:\nGherkin Step:\n\n    @Then("^a (.*) should be raised at compile time: (.*)$")\nGlue Code:\n    @Then("^a (.*) should be raised at compile time: (.*)$")\n    public void thenASyntaxErrorShouldBeRaisedAtCompileTime(String errorType, String error) {\n        Exception ex = this.lastCompileTimeException;\n        if (ex == null) {\n            if (lastRuntimeException != null) {\n                lastRuntimeException.printStackTrace();\n                // TODO do we care?\n                LOGGER.warn("statement should have resulted in a compile time exception, but resulted in a runtime exception");\n                ex = lastRuntimeException;\n            } else {\n                Assume.assumeTrue("statement should have resulted in a compile time exception", false);\n            }\n        }\n        if (!ex.getClass().getName().contains(errorType)) {\n            ex.printStackTrace();\n            // TODO do we care?\n            LOGGER.warn("exception type should contain \\"" + errorType + "\\", but only contained \\"" + ex.getClass().getName() + "\\": " + ex);\n        }\n        if (ex.getMessage() == null || !ex.getMessage().contains(error)) {\n            ex.printStackTrace();\n            // TODO do we care?\n            LOGGER.warn("exception should contain \\"" + error + "\\", but only contained \\"" + ex.getMessage() + "\\"");\n        }\n    }\n\nExample 10:\nGherkin Step:\n\n    @Then("^a (.*) should be raised at runtime: (.*)$")\nGlue Code:\n    @Then("^a (.*) should be raised at runtime: (.*)$")\n    public void thenATypeErrorShouldBeRaisedAtRuntime(String errorType, String error) {\n        if (lastRuntimeException == null) {\n            if (lastCompileTimeException != null) {\n                LOGGER.error("compile time exception", lastCompileTimeException);\n                fail("statement should have resulted in a runtime exception, but resulted in a compile time exception");\n            } else {\n                fail("statement should have resulted in a runtime exception");\n            }\n        }\n        if (!lastRuntimeException.getClass().getName().contains(errorType)) {\n            lastRuntimeException.printStackTrace();\n            // TODO do we care?\n            LOGGER.warn("exception type should contain \\"" + errorType + "\\", but only contained \\"" + lastRuntimeException.getClass().getName() + "\\": " + lastRuntimeException);\n        }\n        if (!lastRuntimeException.getMessage().contains(error)) {\n            lastRuntimeException.printStackTrace();\n            // TODO do we care?\n            LOGGER.warn("exception should contain \\"" + error + "\\", but only contained \\"" + lastRuntimeException.getMessage() + "\\"");\n        }\n    }\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n    @Given("^having executed:$")\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:18,464 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:18,465 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:18,466 - DEBUG - send_request_headers.complete
2025-09-23 02:45:18,466 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:18,466 - DEBUG - send_request_body.complete
2025-09-23 02:45:18,466 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:18,497 - DEBUG - receive_response_body.complete
2025-09-23 02:45:18,497 - DEBUG - response_closed.started
2025-09-23 02:45:18,497 - DEBUG - response_closed.complete
2025-09-23 02:45:18,498 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:18 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b47f5e3e01e4-YYC'})
2025-09-23 02:45:18,498 - DEBUG - request_id: None
2025-09-23 02:45:18,499 - INFO - Generated glue code: 
```java
@Given("a calculator I just turned on")
public void a_calculator_I_just_turned_on() {
  calc = new Calculator();
}
```
2025-09-23 02:45:18,502 - INFO - Step ID 1191 CodeBLEU: {'codebleu': 0.8870239763769792, 'ngram_match_score': 0.8702397637697912, 'weighted_ngram_match_score': 1.0, 'syntax_match_score': 0.75, 'dataflow_match_score': 1.0}
2025-09-23 02:45:18,502 - INFO - Generating glue code for step ID 1192
2025-09-23 02:45:18,506 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-85a4a725-02d4-4c97-9694-514703b1a446', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n  @When("I add {int} and {int}")\nGlue Code:\n  @When("I add {int} and {int}")\n  public void adding(int arg1, int arg2) {\n    calc.push(arg1);\n    calc.push(arg2);\n    calc.push("+");\n  }\n\nExample 2:\nGherkin Step:\n\n  @When("I add {int} and {int}")\nGlue Code:\n  @When("I add {int} and {int}")\n  public void adding(int arg1, int arg2) {\n    calc.push(arg1);\n    calc.push(arg2);\n    calc.push("+");\n  }\n\nExample 3:\nGherkin Step:\n\n  @When("I add {int} and {int}")\nGlue Code:\n  @When("I add {int} and {int}")\n  public void adding(int arg1, int arg2) {\n    calc.push(arg1);\n    calc.push(arg2);\n    calc.push("+");\n  }\n\nExample 4:\nGherkin Step:\n\n  @When("I slowly add {int} and {int}")\nGlue Code:\n  @When("I slowly add {int} and {int}")\n  public void addingSlow(int arg1, int arg2) throws InterruptedException {\n    Thread.sleep(1100);\n    calc.push(arg1);\n    calc.push(arg2);\n    calc.push("+");\n  }\n\nExample 5:\nGherkin Step:\n\n  @When("I slowly add {int} and {int}")\nGlue Code:\n  @When("I slowly add {int} and {int}")\n  public void addingSlow(int arg1, int arg2) throws InterruptedException {\n    Thread.sleep(1100);\n    calc.push(arg1);\n    calc.push(arg2);\n    calc.push("+");\n  }\n\nExample 6:\nGherkin Step:\n\n  @Then("the result is {int}")\nGlue Code:\n  @Then("the result is {int}")\n  public void the_result_is(double expected) {\n    assertEquals(expected, calc.value());\n  }\n\nExample 7:\nGherkin Step:\n\n  @Then("the result is {int}")\nGlue Code:\n  @Then("the result is {int}")\n  public void the_result_is(double expected) {\n    assertEquals(expected, calc.value());\n  }\n\nExample 8:\nGherkin Step:\n\n  @Then("the result is {int}")\nGlue Code:\n  @Then("the result is {int}")\n  public void the_result_is(double expected) {\n    assertEquals(expected, calc.value());\n  }\n\nExample 9:\nGherkin Step:\n  @Then("the result is {int}")\nGlue Code:\n  public void the_result_is(double expected) {\n    assertEquals(expected, calc.value());\n  }\n  static class Calculator {\n\nExample 10:\nGherkin Step:\n\n  @Given("a calculator I just turned on")\nGlue Code:\n  @Given("a calculator I just turned on")\n  public void a_calculator_I_just_turned_on() {\n    calc = new Calculator();\n  }\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n  @When("I add {int} and {int}")\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:18,507 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:18,507 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:18,508 - DEBUG - send_request_headers.complete
2025-09-23 02:45:18,508 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:18,508 - DEBUG - send_request_body.complete
2025-09-23 02:45:18,508 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:18,562 - DEBUG - receive_response_body.complete
2025-09-23 02:45:18,562 - DEBUG - response_closed.started
2025-09-23 02:45:18,562 - DEBUG - response_closed.complete
2025-09-23 02:45:18,562 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:17 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b47fcaf101de-YYC'})
2025-09-23 02:45:18,562 - DEBUG - request_id: None
2025-09-23 02:45:18,564 - INFO - Generated glue code: 
```java
@When("^I am on the facility credentials page$")
public void i_am_on_the_facility_credentials_page() throws IOException {
    i_am_on_the_ownership_info_page();
    applicationSteps.enterFacilityOwnershipInfo();
    applicationSteps.advanceFromOwnershipInfoToFacilityCredentialsPage();
}
```
2025-09-23 02:45:18,568 - INFO - Step ID 1045 CodeBLEU: {'codebleu': 0.6997907925851901, 'ngram_match_score': 0.5049567629086866, 'weighted_ngram_match_score': 0.6262844962765468, 'syntax_match_score': 0.8, 'dataflow_match_score': 0.6666666666666666}
2025-09-23 02:45:18,568 - INFO - Generating glue code for step ID 1046
2025-09-23 02:45:18,572 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-d9d4e3be-1177-4694-8dab-9c6f7ebbe61b', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n    @When("^I open the filter panel$")\nGlue Code:\n    @When("^I open the filter panel$")\n    public void i_open_the_filter_panel() {\n        generalSteps.openFilterPanel();\n    }\n\nExample 2:\nGherkin Step:\n\n    @When("^I open the individual owner panel$")\nGlue Code:\n    @When("^I open the individual owner panel$")\n    public void i_open_the_individual_owner_panels() {\n        applicationSteps.addIndividualOwnership();\n    }\n\nExample 3:\nGherkin Step:\n\n    @When("^I open the business owner panel$")\nGlue Code:\n    @When("^I open the business owner panel$")\n    public void i_open_the_business_owner_panel() {\n        applicationSteps.addBusinessOwnership();\n    }\n\nExample 4:\nGherkin Step:\n\n    @When("^I start to add a practice location$")\nGlue Code:\n    @When("^I start to add a practice location$")\n    public void i_start_to_add_a_practice_location() {\n        applicationSteps.clickAddPracticeLocation();\n    }\n\nExample 5:\nGherkin Step:\n\n    @When("^I open an individual member panel")\nGlue Code:\n    @When("^I open an individual member panel")\n    public void i_open_an_individual_member_panel() {\n        applicationSteps.openIndividualMemberPanel();\n    }\n\nExample 6:\nGherkin Step:\n\n    @When("^I enter valid license information$")\nGlue Code:\n    @When("^I enter valid license information$")\n    public void enter_valid_license_information() {\n        applicationSteps.enterLicenseInfo();\n    }\n\nExample 7:\nGherkin Step:\n\n    @When("^I enter valid personal care assistant license information with a renewal date$")\nGlue Code:\n    @When("^I enter valid personal care assistant license information with a renewal date$")\n    public void enter_valid_personal_care_assistant_license_information_with_renewal_date() {\n        applicationSteps.enterPersonCareAssistantLicenseInfoWithRenewalDate();\n    }\n\nExample 8:\nGherkin Step:\n\n    @When("^I enter valid personal care assistant license information without a renewal date$")\nGlue Code:\n    @When("^I enter valid personal care assistant license information without a renewal date$")\n    public void enter_valid_personal_care_assistant_license_information_without_renewal_date() {\n        applicationSteps.enterPersonCareAssistantLicenseInfoWithoutRenewalDate();\n    }\n\nExample 9:\nGherkin Step:\n\n    @When("^I open the practice lookup modal$")\nGlue Code:\n    @When("^I open the practice lookup modal$")\n    public void i_open_the_practice_lookup_modal() {\n        applicationSteps.openPracticeLookupModal();\n    }\n\nExample 10:\nGherkin Step:\n\n    @When("^I open the Write Note modal$")\nGlue Code:\n    @When("^I open the Write Note modal$")\n    public void i_open_the_write_note_modal() {\n        adminSteps.openWriteNoteModal();\n    }\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n    @When("^I open an add a license panel$")\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:18,573 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:18,574 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:18,574 - DEBUG - send_request_headers.complete
2025-09-23 02:45:18,574 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:18,575 - DEBUG - send_request_body.complete
2025-09-23 02:45:18,575 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:18,631 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:18 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b482481001e2-YYC')])
2025-09-23 02:45:18,631 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:18,632 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:18,958 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:18 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b48669d6bee8-YYC')])
2025-09-23 02:45:18,959 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:18,959 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:19,042 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:19 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b48608dcbf01-YYC')])
2025-09-23 02:45:19,042 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:19,043 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:19,158 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:19 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b4871a3a01de-YYC')])
2025-09-23 02:45:19,159 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:19,159 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:19,175 - DEBUG - receive_response_body.complete
2025-09-23 02:45:19,175 - DEBUG - response_closed.started
2025-09-23 02:45:19,175 - DEBUG - response_closed.complete
2025-09-23 02:45:19,175 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:18 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b48228d9bed1-YYC'})
2025-09-23 02:45:19,176 - DEBUG - request_id: None
2025-09-23 02:45:19,177 - INFO - Generated glue code: 
```java
@When("^automation find window from pattern \"([^\"]*)\"$")
public void automationFindWindowFromPattern(String pattern) throws Throwable {
    Pattern compiledPattern = Pattern.compile(pattern);
    currentWindow = application.findWindow(compiledPattern);
}
```
2025-09-23 02:45:19,182 - INFO - Step ID 251 CodeBLEU: {'codebleu': 0.535240682277986, 'ngram_match_score': 0.44651754110190417, 'weighted_ngram_match_score': 0.5058892816779559, 'syntax_match_score': 0.4, 'dataflow_match_score': 0.7}
2025-09-23 02:45:19,182 - INFO - Generating glue code for step ID 252
2025-09-23 02:45:19,186 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-1af96bdb-572f-4b2f-8db4-8707389e5962', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n    @Given("^show video window$")\nGlue Code:\n    @Given("^show video window$")\n    public void showVideoWindow() {\n        displayBombJack.InitWindow();\n\n        if (displayC64 != null && displayC64.getWindow() != null) {\n            displayBombJack.getWindow().move(displayC64.getWindow().getWidth() , 0);\n        }\n    }\n\nExample 2:\nGherkin Step:\n\n    @Given("^show C64 video window$")\nGlue Code:\n    @Given("^show C64 video window$")\n    public void showC64VideoWindow() {\n        displayC64.InitWindow();\n    }\n\nExample 3:\nGherkin Step:\n\n    @When("^automation wait for idle$")\nGlue Code:\n    @When("^automation wait for idle$")\n    public void automationWaitForIdle() {\n        application.waitForInputIdle();\n    }\n\nExample 4:\nGherkin Step:\n\n    @And("^the layer displays a debug window$")\nGlue Code:\n    @And("^the layer displays a debug window$")\n    public void theLayerDisplaysADebugWindow() throws IOException {\n        displayBombJack.getLastLayerAdded().setDisplayDebugWindow(true);\n    }\n\nExample 5:\nGherkin Step:\n\n    @When("^automation find window from pattern \\"([^\\"]*)\\"$")\nGlue Code:\n    @When("^automation find window from pattern \\"([^\\"]*)\\"$")\n    public void automationFindWindowFromPattern(String arg0) throws Throwable {\n        UIAutomation automation = UIAutomation.getInstance();\n        currentWindow = automation.getDesktopWindow(Pattern.compile(arg0));\n    }\n\nExample 6:\nGherkin Step:\n    @When("^automation expand main menu item \\"([^\\"]*)\\"$")\nGlue Code:\n    public void automationExpandMainMenuItem(String name) throws Throwable {\n        // Write code here that turns the phrase above into concrete actions\n        currentMenuItem = currentWindow.getMainMenu().getMenuItem(name);\n        currentMenuItem.expand();\n    }\n\n    @When("^automation click current menu item \\"([^\\"]*)\\"$")\n    public void automationClickCurrentMenuItem(String pattern) throws Throwable {\n\nExample 7:\nGherkin Step:\n\n    @When("^automation click current menu item \\"([^\\"]*)\\"$")\nGlue Code:\n    @When("^automation click current menu item \\"([^\\"]*)\\"$")\n    public void automationClickCurrentMenuItem(String pattern) throws Throwable {\n        List<MenuItem> items = currentMenuItem.getItems();\n        for (MenuItem item : items) {\n            System.out.println(item.getName());\n        }\n        currentMenuItem = currentMenuItem.getMenuItem(Pattern.compile(pattern));\n        currentMenuItem.click();\n    }\n\nExample 8:\nGherkin Step:\n    @Given("^starting an automation process \\"([^\\"]*)\\" with parameters \\"([^\\"]*)\\"$")\nGlue Code:\n    public void startingAnAutomationProcessWithParameters(String name, String parameters) throws Throwable {\n        // https://mmarquee.github.io/ui-automation/docs/developer.html\n        UIAutomation automation = UIAutomation.getInstance();\n        if (parameters.isEmpty()) {\n            // Empty parameters seems to generate an error internally?\n            application = new Application(new ElementBuilder().automation(automation).applicationPath(name));\n            application.launchOrAttach();\n        } else {\n            application = new Application(new ElementBuilder().automation(automation).applicationPath(name).applicationArguments(parameters));\n            application.launchOrAttach();\n        }\n\nExample 9:\nGherkin Step:\n\n    @Given("^starting an automation process \\"([^\\"]*)\\" with parameters: (.*)$")\nGlue Code:\n    @Given("^starting an automation process \\"([^\\"]*)\\" with parameters: (.*)$")\n    public void startingAnAutomationProcessWithParametersC(String arg0, String arg1) throws Throwable {\n        startingAnAutomationProcessWithParameters(arg0, arg1);\n    }\n\nExample 10:\nGherkin Step:\n\n    @Then("^automation wait for window close$")\nGlue Code:\n    @Then("^automation wait for window close$")\n    public void automationWaitForWindowClose() throws InterruptedException {\n\n        while (true) {\n            try {\n                if (!currentWindow.isEnabled()) break;\n            } catch (AutomationException e) {\n                System.out.println("Window closed!");\n                return;\n            }\n            Thread.sleep(1000);\n            System.out.println("Waiting for window...");\n        }\n    }\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n    @When("^automation focus window$")\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:19,187 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:19,188 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:19,188 - DEBUG - send_request_headers.complete
2025-09-23 02:45:19,188 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:19,189 - DEBUG - send_request_body.complete
2025-09-23 02:45:19,189 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:19,449 - DEBUG - receive_response_body.complete
2025-09-23 02:45:19,450 - DEBUG - response_closed.started
2025-09-23 02:45:19,450 - DEBUG - response_closed.complete
2025-09-23 02:45:19,450 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:18 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b481f97001dc-YYC'})
2025-09-23 02:45:19,450 - DEBUG - request_id: None
2025-09-23 02:45:19,452 - INFO - Generated glue code: 
```java
@Then( "Bid is added to project" )
public void bidIsAddedToProject() {
    var bids = bidRepository.findByProject( project );
    assertFalse( bids.isEmpty() );

    var bid = bids.get( 0 );
    assertNotNull( bid );
    assertEquals( freelancer, bid.getBidder() );
    assertEquals( project, bid.getProject() );
    assertTrue( bid.getAmount() > 0 );

    bidRepository.deleteAll(); // For other tests
    webDriver.close();
}
```
2025-09-23 02:45:19,462 - INFO - Step ID 87 CodeBLEU: {'codebleu': 0.4873721495772236, 'ngram_match_score': 0.4162710168970181, 'weighted_ngram_match_score': 0.41745047887521686, 'syntax_match_score': 0.46, 'dataflow_match_score': 0.55}
2025-09-23 02:45:19,463 - INFO - Generating glue code for step ID 88
2025-09-23 02:45:19,466 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-49957f1f-1f65-4ea0-8453-90238ee8b186', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n    @And( "Freelancer adds his bid" )\nGlue Code:\n    @And( "Freelancer adds his bid" )\n    public void freelancerAddsHisBid() {\n        webDriver.findElement( By.id( "amount" ) ).clear();\n        webDriver.findElement( By.id( "amount" ) ).sendKeys( "200" );\n    }\n\nExample 2:\nGherkin Step:\n\n    @And( "Freelancer fills his details" )\nGlue Code:\n    @And( "Freelancer fills his details" )\n    public void freelancerFillsHisDetails() {\n        webDriver.findElement( By.id( "summary" ) ).sendKeys( "Blah Blah" );\n        webDriver.findElement( By.id( "skills" ) ).sendKeys( "python\\nc++ sleeping" );\n        webDriver.findElement( By.id( "is-available" ) ).click();\n    }\n\nExample 3:\nGherkin Step:\n\n    @And( "Freelancer visits my profile page" )\nGlue Code:\n    @And( "Freelancer visits my profile page" )\n    public void freelancerVisitsMyProfilePage() {\n        webDriver.get( Utils.FREELANCER_PROFILE );\n    }\n\nExample 4:\nGherkin Step:\n\n    @Given( "Freelancer logins" )\nGlue Code:\n    @Given( "Freelancer logins" )\n    public void freelancerLogins() {\n        webDriver.get( Utils.LOGIN_PAGE );\n        webDriver.findElement( By.id( "email" ) ).sendKeys( "freelancer@test.com" );\n        webDriver.findElement( By.id( "password" ) ).sendKeys( "password" );\n        webDriver.findElement( By.id( "submit" ) ).click();\n    }\n\nExample 5:\nGherkin Step:\n\n    @And( "stakeholder types a comment on a bidding" )\nGlue Code:\n    @And( "stakeholder types a comment on a bidding" )\n    public void stakeholderTypesACommentOnABidding() {\n        webDriver.findElement( By.className( "show-comments-btn" ) ).click();\n\n        WebDriverWait wait = new WebDriverWait( webDriver, 20 );\n        wait.until( ExpectedConditions.visibilityOfElementLocated( By.id( "new-comment-text" ) ) );\n\n        webDriver.findElement( By.id( "new-comment-text" ) ).sendKeys( "Diee" );\n    }\n\nExample 6:\nGherkin Step:\n\n    @Then( "Freelancer profile is updated" )\nGlue Code:\n    @Then( "Freelancer profile is updated" )\n    public void freelancerProfileIsUpdated() {\n        var user = (User) userService.loadUserByUsername( this.user.getEmail() );\n\n        Freelancer freelancer = (Freelancer) user.getType();\n        assertEquals( "Blah Blah", freelancer.getSummary() );\n        assertTrue( freelancer.isAvailable() );\n\n        Set<Skill> skills = Set.of( Skill.of( "python" ), Skill.of( "c++ sleeping" ) );\n        assertEquals( skills, freelancer.getSkills() );\n        webDriver.close();\n    }\n\nExample 7:\nGherkin Step:\n\n    @And( "user visits a public project page" )\nGlue Code:\n    @And( "user visits a public project page" )\n    public void freelancerVisitsAPublicProjectPage() {\n        webDriver.get( Utils.getProjectDetailsPage( project.getId() ) );\n    }\n\nExample 8:\nGherkin Step:\n\n    @When( "Freelancer clicks the Bid button" )\nGlue Code:\n    @When( "Freelancer clicks the Bid button" )\n    public void freelancerClicksTheBidButton() {\n        webDriver.findElement( By.id( "add-bid-btn" ) ).click();\n    }\n\nExample 9:\nGherkin Step:\n\n    @When( "Freelancer clicks the update button" )\nGlue Code:\n    @When( "Freelancer clicks the update button" )\n    public void freelancerClicksTheUpdateButton() {\n        webDriver.findElement( By.id( "submit-profile" ) ).click();\n    }\n\nExample 10:\nGherkin Step:\n\n    @When( "user clicks on a project" )\nGlue Code:\n    @When( "user clicks on a project" )\n    public void userClicksOnAProject() {\n        webDriver.findElement( By.className( "btn" ) ).click();\n    }\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n    @And( "Freelancer adds a comment" )\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:19,467 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:19,467 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:19,468 - DEBUG - send_request_headers.complete
2025-09-23 02:45:19,468 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:19,468 - DEBUG - send_request_body.complete
2025-09-23 02:45:19,468 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:19,481 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:19 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b486bd1901e4-YYC')])
2025-09-23 02:45:19,482 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:19,482 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:19,539 - DEBUG - receive_response_body.complete
2025-09-23 02:45:19,539 - DEBUG - response_closed.started
2025-09-23 02:45:19,539 - DEBUG - response_closed.complete
2025-09-23 02:45:19,539 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:18 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b482481001e2-YYC'})
2025-09-23 02:45:19,540 - DEBUG - request_id: None
2025-09-23 02:45:19,541 - INFO - Generated glue code: 
```java
@Given("^I open \"([^\"]*)\"(?: page|) with params \"([^\"]*)\"$")
public void iOpenWithParams(String pageName, Object params) {
    getPage(pageName).shouldBeOpened(params);
}
```
2025-09-23 02:45:19,545 - INFO - Step ID 437 CodeBLEU: {'codebleu': 0.8735882643138949, 'ngram_match_score': 0.7160350546947921, 'weighted_ngram_match_score': 0.819847588444156, 'syntax_match_score': 0.8, 'dataflow_match_score': 1.0}
2025-09-23 02:45:19,545 - INFO - Generating glue code for step ID 438
2025-09-23 02:45:19,549 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-b26f34eb-58a2-4e38-ba9b-762362fea0ce', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n    @When("^(?:I |)check \\"([^\\"]*)\\"$")\nGlue Code:\n    @When("^(?:I |)check \\"([^\\"]*)\\"$")\n    public void check(String name) {\n        getUI(name, HasCheck.class).check();\n    }\n\nExample 2:\nGherkin Step:\n\n    @When("^(?:I |)uncheck \\"([^\\"]*)\\"$")\nGlue Code:\n    @When("^(?:I |)uncheck \\"([^\\"]*)\\"$")\n    public void uncheck(String name) {\n        getUI(name, HasCheck.class).uncheck();\n    }\n\nExample 3:\nGherkin Step:\n\n    @When("^(?:I |)clear \\"([^\\"]*)\\"$")\nGlue Code:\n    @When("^(?:I |)clear \\"([^\\"]*)\\"$")\n    public void clear(String name) {\n        input(name).clear();\n    }\n\nExample 4:\nGherkin Step:\n\n    @When("^(?:I |)highlight \\"([^\\"]*)\\"$")\nGlue Code:\n    @When("^(?:I |)highlight \\"([^\\"]*)\\"$")\n    public void highlight(String name) {\n        getUI(name).highlight();\n    }\n\nExample 5:\nGherkin Step:\n\n    @When("^(?:I |)show \\"([^\\"]*)\\"$")\nGlue Code:\n    @When("^(?:I |)show \\"([^\\"]*)\\"$")\n    public void show(String name) {\n        getUI(name).show();\n    }\n\nExample 6:\nGherkin Step:\n\n    @When("^(?:I |)go forward$")\nGlue Code:\n    @When("^(?:I |)go forward$")\n    public void goForward() {\n        WebPage.forward();\n    }\n\nExample 7:\nGherkin Step:\n\n    @When("^(?:I |)go back$")\nGlue Code:\n    @When("^(?:I |)go back$")\n    public void goBack() {\n        WebPage.back();\n    }\n\nExample 8:\nGherkin Step:\n    @When("^(?:I |)accept alert")\nGlue Code:\n    public void accept() {\n        acceptAlert();\n    }\n\n    @When("^(?:I |)dismiss alert")\n    public void dismiss() {\n\nExample 9:\nGherkin Step:\n\n    @When("^(?:I |)dismiss alert")\nGlue Code:\n    @When("^(?:I |)dismiss alert")\n    public void dismiss() {\n        dismissAlert();\n    }\n\nExample 10:\nGherkin Step:\n\n    @When("^(?:I |)(?:submit|send|add|publich|save|update|cancel|close|back|select|next|search) form$")\nGlue Code:\n    @When("^(?:I |)(?:submit|send|add|publich|save|update|cancel|close|back|select|next|search) form$")\n    public void submitDataForm() {\n        getLastForm().submit();\n    }\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n    @When("^(?:I |)refresh webpage$")\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:19,550 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:19,551 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:19,551 - DEBUG - send_request_headers.complete
2025-09-23 02:45:19,552 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:19,552 - DEBUG - send_request_body.complete
2025-09-23 02:45:19,552 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:19,570 - DEBUG - receive_response_body.complete
2025-09-23 02:45:19,570 - DEBUG - response_closed.started
2025-09-23 02:45:19,570 - DEBUG - response_closed.complete
2025-09-23 02:45:19,570 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:19 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b4871a3a01de-YYC'})
2025-09-23 02:45:19,570 - DEBUG - request_id: None
2025-09-23 02:45:19,572 - INFO - Generated glue code: 
```java
@When("^I open an add a license panel$")
public void i_open_an_add_a_license_panel() {
    applicationSteps.openAddLicensePanel();
}
```
2025-09-23 02:45:19,575 - WARNING - WARNING: There is no reference data-flows extracted from the whole corpus, and the data-flow match score degenerates to 0. Please consider ignoring this score.
2025-09-23 02:45:19,575 - INFO - Step ID 1046 CodeBLEU: {'codebleu': 0.8474686693175857, 'ngram_match_score': 0.7166258375282707, 'weighted_ngram_match_score': 0.8489699465566771, 'syntax_match_score': 0.7272727272727273, 'dataflow_match_score': 0}
2025-09-23 02:45:19,575 - INFO - Generating glue code for step ID 1047
2025-09-23 02:45:19,579 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-4c5cbb85-95f0-4cb8-8653-1455e068607b', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n    @When("^I open an individual member panel")\nGlue Code:\n    @When("^I open an individual member panel")\n    public void i_open_an_individual_member_panel() {\n        applicationSteps.openIndividualMemberPanel();\n    }\n\nExample 2:\nGherkin Step:\n\n    @When("^I am on the individual provider practice info page$")\nGlue Code:\n    @When("^I am on the individual provider practice info page$")\n    public void i_am_on_the_individual_provider_practice_info_page() throws IOException {\n        i_am_on_the_individual_provider_license_info_page();\n        i_indicate_i_am_not_a_provider_at_a_public_health_service_indian_hospital();\n        applicationSteps.enterLicenseInfo();\n        applicationSteps.uploadLicense();\n        applicationSteps.advanceFromIndividualLicenseInfoToPracticeInfo();\n    }\n\nExample 3:\nGherkin Step:\n\n    @When("I am on the individual provider license info page")\nGlue Code:\n    @When("I am on the individual provider license info page")\n    public void i_am_on_the_individual_provider_license_info_page() {\n        i_am_on_the_personal_info_page();\n        applicationSteps.enterIndividualPersonalInfo();\n        applicationSteps.advanceFromIndividualPersonalInfoToLicenseInfo();\n    }\n\nExample 4:\nGherkin Step:\n\n    @When("^I am on the ownership info page$")\nGlue Code:\n    @When("^I am on the ownership info page$")\n    public void i_am_on_the_ownership_info_page() throws IOException {\n        i_am_on_the_individual_member_info_page();\n        applicationSteps.enterIndividualMember();\n        applicationSteps.advanceFromOrganizationIndividualMemberInfoToOwnershipInfo();\n    }\n\nExample 5:\nGherkin Step:\n\n    @When("^I am on the personal info page$")\nGlue Code:\n    @When("^I am on the personal info page$")\n    public void i_am_on_the_personal_info_page() {\n        applicationSteps.prepareSpeechLanguagePathologistApplication();\n        applicationSteps.selectProviderType();\n    }\n\nExample 6:\nGherkin Step:\n\n    @When("^I am on the individual summary page$")\nGlue Code:\n    @When("^I am on the individual summary page$")\n    public void i_am_on_the_individual_summary_page() throws IOException {\n        i_am_on_the_individual_provider_practice_info_page();\n        applicationSteps.enterIndividualPrivatePracticeInfo();\n        applicationSteps.advanceFromIndividualPracticeInfoToSummaryPage();\n    }\n\nExample 7:\nGherkin Step:\n\n    @When("^I am on the individual provider statement page$")\nGlue Code:\n    @When("^I am on the individual provider statement page$")\n    public void i_am_on_the_individual_provider_statement_page() throws IOException {\n        i_am_on_the_individual_summary_page();\n        applicationSteps.advanceFromIndividualSummaryToProviderStatementPage();\n    }\n\nExample 8:\nGherkin Step:\n\n    @When("^I open the individual owner panel$")\nGlue Code:\n    @When("^I open the individual owner panel$")\n    public void i_open_the_individual_owner_panels() {\n        applicationSteps.addIndividualOwnership();\n    }\n\nExample 9:\nGherkin Step:\n\n    @When("^I enter an empty email address on the personal info page$")\nGlue Code:\n    @When("^I enter an empty email address on the personal info page$")\n    public void i_enter_an_empty_email_address_on_the_personal_info_page() {\n        applicationSteps.enterEmptyEmailAddress();\n    }\n\nExample 10:\nGherkin Step:\n\n    @When("^I enter my individual provider statement$")\nGlue Code:\n    @When("^I enter my individual provider statement$")\n    public void i_enter_my_provider_statement() {\n        applicationSteps.checkNoOnProviderDisclosureQuestions();\n        applicationSteps.signProviderStatement();\n    }\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n    @When("^I am on the individual member info page$")\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:19,580 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:19,581 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:19,581 - DEBUG - send_request_headers.complete
2025-09-23 02:45:19,581 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:19,581 - DEBUG - send_request_body.complete
2025-09-23 02:45:19,582 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:19,598 - DEBUG - receive_response_body.complete
2025-09-23 02:45:19,599 - DEBUG - response_closed.started
2025-09-23 02:45:19,599 - DEBUG - response_closed.complete
2025-09-23 02:45:19,599 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:19 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b48608dcbf01-YYC'})
2025-09-23 02:45:19,599 - DEBUG - request_id: None
2025-09-23 02:45:19,601 - INFO - Generated glue code: 
```java
@Given("^DBUnit interceptor is enabled in your test beans.xml:$")
public void DBUnit_interceptor_is_enabled_in_your_test_beans_xml(String docstring) throws Throwable {
    assertNotNull(docstring);
}
```
2025-09-23 02:45:19,604 - WARNING - WARNING: There is no reference data-flows extracted from the whole corpus, and the data-flow match score degenerates to 0. Please consider ignoring this score.
2025-09-23 02:45:19,604 - INFO - Step ID 28 CodeBLEU: {'codebleu': 0.7519090490740448, 'ngram_match_score': 0.782878563712303, 'weighted_ngram_match_score': 0.8900580808742975, 'syntax_match_score': 0.46153846153846156, 'dataflow_match_score': 0}
2025-09-23 02:45:19,604 - INFO - Generating glue code for step ID 29
2025-09-23 02:45:19,607 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-0aa1e0ba-fce2-4329-9dfc-ea60c6e7761e', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n    @And("^The following Cucumber test$")\nGlue Code:\n    @And("^The following Cucumber test$")\n    public void The_following_Cucumber_test(String docstring) throws Throwable {\n      assertNotNull(docstring);\n    }\n\nExample 2:\nGherkin Step:\n\n\n\n    @Given("^The following feature$")\nGlue Code:\n\n\n    @Given("^The following feature$")\n    public void The_following_feature(String docstring) throws Throwable {\n        assertNotNull(docstring);\n    }\n\nExample 3:\nGherkin Step:\n\n\n    @Given("^The following junit rules$")\nGlue Code:\n\n    @Given("^The following junit rules$")\n    public void the_following_junit_rules(String docString) throws Throwable {\n\n    }\n\nExample 4:\nGherkin Step:\n\n    @When("^The following test is executed:$")\nGlue Code:\n    @When("^The following test is executed:$")\n    public void The_test_below_is_executed(String docstring) throws Throwable {\n        assertNotNull(docstring);\n    }\n\nExample 5:\nGherkin Step:\n\n\n    @Then("^Test must fail with following error:$")\nGlue Code:\n\n    @Then("^Test must fail with following error:$")\n    public void Test_must_fail_with_following_error(String docstring) throws Throwable {\n        assertNotNull(docstring);\n    }\n\nExample 6:\nGherkin Step:\n\n    @When("^The following cucumber steps are executed$")\nGlue Code:\n    @When("^The following cucumber steps are executed$")\n    public void The_following_cucumber_steps_are_executed(String docstring) throws Throwable {\n        assertNotNull(docstring);\n    }\n\nExample 7:\nGherkin Step:\n\n\n\n    @Given("^The following junit5 test is executed$")\nGlue Code:\n\n\n    @Given("^The following junit5 test is executed$")\n    public void the_following_junit_rules(String docString) throws Throwable {\n\n    }\n\nExample 8:\nGherkin Step:\n\n\n    @Given("^Groovy script engine is on test classpath$")\nGlue Code:\n\n    @Given("^Groovy script engine is on test classpath$")\n    public void Groovy_script_engine_is_on_test_classpath(String docstring) throws Throwable {\n        // Express the Regexp above with the code you wish you had\n        assertNotNull(docstring);\n    }\n\nExample 9:\nGherkin Step:\n\n    @Then("^Dataset script should be interpreted while seeding the database$")\nGlue Code:\n    @Then("^Dataset script should be interpreted while seeding the database$")\n    public void Dataset_script_should_be_interpreted_when_seeding_the_database() throws Throwable {\n        // Express the Regexp above with the code you wish you had\n    }\n\nExample 10:\nGherkin Step:\n\n    @Then("^Test must pass because database state is as in expected dataset.$")\nGlue Code:\n    @Then("^Test must pass because database state is as in expected dataset.$")\n    public void Test_must_pass_because_dataBase_state_is_as_expected_in_dataset() throws Throwable {\n        // Express the Regexp above with the code you wish you had\n    }\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n    @And("^The following dataset$")\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:19,608 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:19,609 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:19,609 - DEBUG - send_request_headers.complete
2025-09-23 02:45:19,609 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:19,610 - DEBUG - send_request_body.complete
2025-09-23 02:45:19,610 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:19,642 - DEBUG - receive_response_body.complete
2025-09-23 02:45:19,642 - DEBUG - response_closed.started
2025-09-23 02:45:19,642 - DEBUG - response_closed.complete
2025-09-23 02:45:19,643 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:18 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b4823ddc01d4-YYC'})
2025-09-23 02:45:19,643 - DEBUG - request_id: None
2025-09-23 02:45:19,644 - INFO - Generated glue code: 
```java
@Given("^I have a web application with javaconfig in package \"([^\"]*)\"$")
public void I_have_a_web_application_with_javaconfig_in_package(String basePackage) throws Throwable {

    this.wac = new AnnotationConfigWebApplicationContext();
    this.wac.scan(basePackage);
    this.wac.refresh();

    MockServletContext sc = new MockServletContext();
    this.wac.setServletContext(sc);

    this.hm = this.wac.getBean(RouterHandlerMapping.class);
    this.ha = this.wac.getBean(RequestMappingHandlerAdapter.class);
}
```
2025-09-23 02:45:19,651 - INFO - Step ID 2 CodeBLEU: {'codebleu': 0.35746641048230204, 'ngram_match_score': 0.46841369600241417, 'weighted_ngram_match_score': 0.48388053063677444, 'syntax_match_score': 0.46511627906976744, 'dataflow_match_score': 0.19047619047619047}
2025-09-23 02:45:19,652 - INFO - Generating glue code for step ID 3
2025-09-23 02:45:19,655 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-4bd0a2de-51e8-40ed-a7e1-18d3b9e2ec1d', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n    @Given("^the current request is processed within a context path \\"([^\\"]*)\\" and servlet path \\"([^\\"]*)\\"$")\nGlue Code:\n    @Given("^the current request is processed within a context path \\"([^\\"]*)\\" and servlet path \\"([^\\"]*)\\"$")\n    public void the_current_request_is_processed_within_a_context_path_and_servlet_path(String contextPath, String servletPath) throws Throwable {\n\n        MockHttpServletRequest request = new MockHttpServletRequest("GET", "/reverse-routing");\n        request.addHeader("host","example.org");\n        request.setContextPath(contextPath);\n        request.setServletPath(servletPath);\n\n\t    ServletRequestAttributes requestAttributes = new ServletRequestAttributes(request);\n\t    RequestContextHolder.setRequestAttributes(requestAttributes);\n\n        this.requestAdapter = HTTPRequestAdapter.parseRequest(request);\n    }\n\nExample 2:\nGherkin Step:\n\n    @Then("^I should get an action with path \\"([^\\"]*)\\" and host \\"([^\\"]*)\\"$")\nGlue Code:\n    @Then("^I should get an action with path \\"([^\\"]*)\\" and host \\"([^\\"]*)\\"$")\n    public void I_should_get_an_action_with_path_and_host(String path, String host) throws Throwable {\n        assertThat(path).isEqualTo(resolvedAction.url);\n        assertThat(host).isEqualTo(resolvedAction.host);\n    }\n\nExample 3:\nGherkin Step:\n\n    @Given("^I have a route with method \\"([^\\"]*)\\" path \\"([^\\"]*)\\" action \\"([^\\"]*)\\"$")\nGlue Code:\n    @Given("^I have a route with method \\"([^\\"]*)\\" path \\"([^\\"]*)\\" action \\"([^\\"]*)\\"$")\n    public void I_have_a_route_with_method_url_action(String method, String path, String action) throws Throwable {\n        Router.prependRoute(method, path, action);\n    }\n\nExample 4:\nGherkin Step:\n\n    @Then("^I should get an action with path \\"([^\\"]*)\\"$")\nGlue Code:\n    @Then("^I should get an action with path \\"([^\\"]*)\\"$")\n    public void I_should_get_an_action_with_URL(String path) throws Throwable {\n         assertThat(path).isEqualTo(resolvedAction.url);\n    }\n\nExample 5:\nGherkin Step:\n\n    @When("^I build a link for controller \\"([^\\"]*)\\" and action \\"([^\\"]*)\\"$")\nGlue Code:\n    @When("^I build a link for controller \\"([^\\"]*)\\" and action \\"([^\\"]*)\\"$")\n    public void I_build_a_link_for_controller_and_action(String controller, String action) throws Throwable {\n\n         linkBuilder = RouterLinkBuilder.linkTo(controller,action);\n    }\n\nExample 6:\nGherkin Step:\n\n\n\n    @When("^I send the HTTP request \\"([^\\"]*)\\" \\"([^\\"]*)\\"$")\nGlue Code:\n\n\n    @When("^I send the HTTP request \\"([^\\"]*)\\" \\"([^\\"]*)\\"$")\n    public void I_send_the_HTTP_request(String method, String url) throws Throwable {\n\n        int pathLength = 0;\n        if(this.contextPath.length() > 0) {\n            pathLength += this.contextPath.length();\n        }\n\n        if(this.servletPath.length() > 0) {\n            pathLength += this.servletPath.length();\n        }\n\n        request = new MockHttpServletRequest(this.wac.getServletContext(),method, url);\n        request.setContextPath(this.contextPath);\n        request.setServletPath(this.servletPath);\n        request.addHeader("host", host);\n\n\t    ServletRequestAttributes requestAttributes = new ServletRequestAttributes(request);\n\t    RequestContextHolder.setRequestAttributes(requestAttributes);\n\n        for (HTTPHeader header : headers) {\n            request.addHeader(header.name, header.value);\n        }\n\n        for (HTTPParam param : queryParams) {\n            request.addParameter(param.name, param.value);\n        }\n\n        request.setPathInfo(url.substring(pathLength));\n        chain = this.hm.getHandler(request);\n    }\n\nExample 7:\nGherkin Step:\n\n\n\n    @When("^I send the HTTP request \\"([^\\"]*)\\" \\"([^\\"]*)\\" to host \\"([^\\"]*)\\"$")\nGlue Code:\n\n\n    @When("^I send the HTTP request \\"([^\\"]*)\\" \\"([^\\"]*)\\" to host \\"([^\\"]*)\\"$")\n    public void I_send_the_HTTP_request_to_host(String method, String url, String host) throws Throwable {\n\n        this.host = host;\n        I_send_the_HTTP_request(method,url);\n    }\n\nExample 8:\nGherkin Step:\n\n    @Then("^the request should be handled by \\"([^\\"]*)\\"$")\nGlue Code:\n    @Then("^the request should be handled by \\"([^\\"]*)\\"$")\n    public void the_request_should_be_handled_by(String controllerAction) throws Throwable {\n\n        assertThat(chain).isNotNull();\n        RouterHandler handler = (RouterHandler) chain.getHandler();\n\n        assertThat(handler).isNotNull();\n        assertThat(handler.getRoute()).isNotNull();\n        assertThat(handler.getRoute().action).isNotNull().isEqualToIgnoringCase(controllerAction);\n    }\n\nExample 9:\nGherkin Step:\n\n    @When("^I send the HTTP request \\"([^\\"]*)\\" \\"([^\\"]*)\\" with headers:$")\nGlue Code:\n    @When("^I send the HTTP request \\"([^\\"]*)\\" \\"([^\\"]*)\\" with headers:$")\n    public void I_send_the_HTTP_request_with_headers(String method, String url, List<HTTPHeader> headers) throws Throwable {\n\n        this.headers = headers;\n        I_send_the_HTTP_request(method,url);\n    }\n\nExample 10:\nGherkin Step:\n\n    @When("^I send the HTTP request \\"([^\\"]*)\\" \\"([^\\"]*)\\" with query params:$")\nGlue Code:\n    @When("^I send the HTTP request \\"([^\\"]*)\\" \\"([^\\"]*)\\" with query params:$")\n    public void I_send_the_HTTP_request_with_query_params(String method, String url, List<HTTPParam> queryParams) throws Throwable {\n\n        this.queryParams = queryParams;\n        I_send_the_HTTP_request(method,url);\n    }\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n    @Given("^a current request \\"([^\\"]*)\\" \\"([^\\"]*)\\" with servlet path \\"([^\\"]*)\\" and context path \\"([^\\"]*)\\"$")\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:19,656 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:19,657 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:19,657 - DEBUG - send_request_headers.complete
2025-09-23 02:45:19,657 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:19,658 - DEBUG - send_request_body.complete
2025-09-23 02:45:19,658 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:19,702 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:19 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b48af982bed1-YYC')])
2025-09-23 02:45:19,703 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:19,703 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:20,010 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:20 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b48cbbc801dc-YYC')])
2025-09-23 02:45:20,011 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:20,011 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:20,076 - DEBUG - receive_response_body.complete
2025-09-23 02:45:20,077 - DEBUG - response_closed.started
2025-09-23 02:45:20,077 - DEBUG - response_closed.complete
2025-09-23 02:45:20,077 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:19 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b486bd1901e4-YYC'})
2025-09-23 02:45:20,077 - DEBUG - request_id: None
2025-09-23 02:45:20,079 - INFO - Generated glue code: 
```java
@When("I add {int} and {int}")
public void adding(int arg1, int arg2) {
  calc.push(arg1);
  calc.push(arg2);
  calc.push("+");
}
```
2025-09-23 02:45:20,083 - INFO - Step ID 1192 CodeBLEU: {'codebleu': 0.9332733438336168, 'ngram_match_score': 0.878187983790713, 'weighted_ngram_match_score': 1.0, 'syntax_match_score': 0.8636363636363636, 'dataflow_match_score': 1.0}
2025-09-23 02:45:20,083 - DEBUG - receive_response_body.complete
2025-09-23 02:45:20,083 - INFO - Generating glue code for step ID 1193
2025-09-23 02:45:20,083 - DEBUG - response_closed.started
2025-09-23 02:45:20,087 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-8a4e2168-d221-465b-8555-da3e78c28210', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n  @When("I slowly add {int} and {int}")\nGlue Code:\n  @When("I slowly add {int} and {int}")\n  public void addingSlow(int arg1, int arg2) throws InterruptedException {\n    Thread.sleep(1100);\n    calc.push(arg1);\n    calc.push(arg2);\n    calc.push("+");\n  }\n\nExample 2:\nGherkin Step:\n\n  @When("I add {int} and {int}")\nGlue Code:\n  @When("I add {int} and {int}")\n  public void adding(int arg1, int arg2) {\n    calc.push(arg1);\n    calc.push(arg2);\n    calc.push("+");\n  }\n\nExample 3:\nGherkin Step:\n\n  @When("I add {int} and {int}")\nGlue Code:\n  @When("I add {int} and {int}")\n  public void adding(int arg1, int arg2) {\n    calc.push(arg1);\n    calc.push(arg2);\n    calc.push("+");\n  }\n\nExample 4:\nGherkin Step:\n\n  @When("I add {int} and {int}")\nGlue Code:\n  @When("I add {int} and {int}")\n  public void adding(int arg1, int arg2) {\n    calc.push(arg1);\n    calc.push(arg2);\n    calc.push("+");\n  }\n\nExample 5:\nGherkin Step:\n\n  @When("I add {int} and {int}")\nGlue Code:\n  @When("I add {int} and {int}")\n  public void adding(int arg1, int arg2) {\n    calc.push(arg1);\n    calc.push(arg2);\n    calc.push("+");\n  }\n\nExample 6:\nGherkin Step:\n\n  @Then("the result is {int}")\nGlue Code:\n  @Then("the result is {int}")\n  public void the_result_is(double expected) {\n    assertEquals(expected, calc.value());\n  }\n\nExample 7:\nGherkin Step:\n\n  @Then("the result is {int}")\nGlue Code:\n  @Then("the result is {int}")\n  public void the_result_is(double expected) {\n    assertEquals(expected, calc.value());\n  }\n\nExample 8:\nGherkin Step:\n\n  @Then("the result is {int}")\nGlue Code:\n  @Then("the result is {int}")\n  public void the_result_is(double expected) {\n    assertEquals(expected, calc.value());\n  }\n\nExample 9:\nGherkin Step:\n  @Then("the result is {int}")\nGlue Code:\n  public void the_result_is(double expected) {\n    assertEquals(expected, calc.value());\n  }\n  static class Calculator {\n\nExample 10:\nGherkin Step:\n\n  @Given("a calculator I just turned on")\nGlue Code:\n  @Given("a calculator I just turned on")\n  public void a_calculator_I_just_turned_on() {\n    calc = new Calculator();\n  }\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n  @When("I slowly add {int} and {int}")\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:20,087 - DEBUG - response_closed.complete
2025-09-23 02:45:20,088 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:20,089 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:19 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b48af982bed1-YYC'})
2025-09-23 02:45:20,089 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:20,090 - DEBUG - request_id: None
2025-09-23 02:45:20,090 - DEBUG - send_request_headers.complete
2025-09-23 02:45:20,092 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:20,092 - INFO - Generated glue code: 
```java
@When("^automation focus window$")
public void automationFocusWindow() throws AutomationException {
    currentWindow.setFocus();
}
```
2025-09-23 02:45:20,093 - DEBUG - send_request_body.complete
2025-09-23 02:45:20,093 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:20,095 - WARNING - WARNING: There is no reference data-flows extracted from the whole corpus, and the data-flow match score degenerates to 0. Please consider ignoring this score.
2025-09-23 02:45:20,096 - INFO - Step ID 252 CodeBLEU: {'codebleu': 0.7958332268611705, 'ngram_match_score': 0.4089601472043678, 'weighted_ngram_match_score': 0.6402812123164273, 'syntax_match_score': 0.7272727272727273, 'dataflow_match_score': 0}
2025-09-23 02:45:20,096 - INFO - Generating glue code for step ID 253
2025-09-23 02:45:20,100 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-787286bd-1254-4309-8423-662d1613a499', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n    @When("^automation wait for idle$")\nGlue Code:\n    @When("^automation wait for idle$")\n    public void automationWaitForIdle() {\n        application.waitForInputIdle();\n    }\n\nExample 2:\nGherkin Step:\n\n    @When("^remote monitor wait for hit$")\nGlue Code:\n    @When("^remote monitor wait for hit$")\n    public void remote_monitor_wait_for_hit() throws Throwable {\n        sendMonitorCommand("x");\n        waitMonitorReply();\n        getMonitorReply();\n        // Then send a command to get a reply and sync the remote monitor\n        sendMonitorCommand("r");\n        waitMonitorReply();\n        getMonitorReply();\n    }\n\nExample 3:\nGherkin Step:\n\n    @When("^remote monitor wait for (.*) hits$")\nGlue Code:\n    @When("^remote monitor wait for (.*) hits$")\n    public void remote_monitor_wait_for_hit(Integer numHits) throws Throwable {\n        while (numHits-- > 0) {\n            remote_monitor_wait_for_hit();\n        }\n    }\n\nExample 4:\nGherkin Step:\n\n    @Given("^avoid CPU wait during VBlank for address \\"([^\\"]*)\\"$")\nGlue Code:\n    @Given("^avoid CPU wait during VBlank for address \\"([^\\"]*)\\"$")\n    public void avoid_CPU_wait_during_VBlank_for_address(String arg1) throws Throwable {\n        int potential = valueToInt(arg1);\n        if (potential >= 0) {\n            if (pauseUntilNewVBlank == null) {\n                pauseUntilNewVBlank = new HashSet<>();\n            }\n            pauseUntilNewVBlank.add(potential);\n        }\n    }\n\nExample 5:\nGherkin Step:\n\n    @When("^display until window closed$")\nGlue Code:\n    @When("^display until window closed$")\n    public void displayUntilWindowClosed() throws InterruptedException {\n        while (displayBombJack.isVisible()) {\n            displayBombJack.RepaintWindow();\n\n            if (audioExpansion != null) {\n                if (instructionsPerAudioRefresh > 0) {\n                    for (int i = 0; i < 100; i++) {\n                        audioExpansion.calculateSamples();\n                    }\n                }\n            }\n\n            Thread.sleep(1);\n        }\n    }\n\nExample 6:\nGherkin Step:\n\n    @When("^automation find window from pattern \\"([^\\"]*)\\"$")\nGlue Code:\n    @When("^automation find window from pattern \\"([^\\"]*)\\"$")\n    public void automationFindWindowFromPattern(String arg0) throws Throwable {\n        UIAutomation automation = UIAutomation.getInstance();\n        currentWindow = automation.getDesktopWindow(Pattern.compile(arg0));\n    }\n\nExample 7:\nGherkin Step:\n\n    @When("^rendering the video until window closed$")\nGlue Code:\n    @When("^rendering the video until window closed$")\n    public void renderingTheVideoUntilWindowClosed() throws InterruptedException {\n        displayBombJack.writeDebugBMPsToLeafFilename(null);\n        renderAVideoDisplayFrame();\n        displayUntilWindowClosed();\n    }\n\nExample 8:\nGherkin Step:\n\n    @Given("^audio refresh window every (.*) instructions$")\nGlue Code:\n    @Given("^audio refresh window every (.*) instructions$")\n    public void audioRefreshWindowEveryInstructions(String refreshEvery) throws ScriptException {\n        instructionsPerAudioRefresh = valueToInt(refreshEvery);\n    }\n\nExample 9:\nGherkin Step:\n\n    @Given("^video display refresh window every (.*) instructions$")\nGlue Code:\n    @Given("^video display refresh window every (.*) instructions$")\n    public void videoDisplayRefreshWindowEveryInstructions(String refreshEvery) throws ScriptException {\n        instructionsPerDisplayRefresh = valueToInt(refreshEvery);\n    }\n\nExample 10:\nGherkin Step:\n\n    @Given("^wait for (\\\\d+) milliseconds$")\nGlue Code:\n    @Given("^wait for (\\\\d+) milliseconds$")\n    public void waitForMilliseconds(int milliseconds) throws InterruptedException {\n        Thread.sleep(milliseconds);\n    }\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n    @Then("^automation wait for window close$")\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:20,101 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:20,101 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:20,102 - DEBUG - send_request_headers.complete
2025-09-23 02:45:20,102 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:20,102 - DEBUG - send_request_body.complete
2025-09-23 02:45:20,102 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:20,117 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:20 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b48d3c8f01e2-YYC')])
2025-09-23 02:45:20,118 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:20,118 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:20,125 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:20 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b48d683e01de-YYC')])
2025-09-23 02:45:20,126 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:20,126 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:20,160 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:20 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b48d98bebf01-YYC')])
2025-09-23 02:45:20,161 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:20,161 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:20,218 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:20 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b48dea4001d4-YYC')])
2025-09-23 02:45:20,219 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:20,219 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:20,590 - DEBUG - receive_response_body.complete
2025-09-23 02:45:20,590 - DEBUG - response_closed.started
2025-09-23 02:45:20,590 - DEBUG - response_closed.complete
2025-09-23 02:45:20,590 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:20 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b48d98bebf01-YYC'})
2025-09-23 02:45:20,590 - DEBUG - request_id: None
2025-09-23 02:45:20,592 - INFO - Generated glue code: 
```java
@And("^The following dataset$")
public void The_following_dataset(String docstring) throws Throwable {
    assertNotNull(docstring);
}
```
2025-09-23 02:45:20,595 - INFO - Step ID 29 CodeBLEU: {'codebleu': 0.8915499755830703, 'ngram_match_score': 0.8385766789076257, 'weighted_ngram_match_score': 1.0, 'syntax_match_score': 0.7692307692307693, 'dataflow_match_score': 1.0}
2025-09-23 02:45:20,596 - INFO - Generating glue code for step ID 30
2025-09-23 02:45:20,599 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-52883266-7681-415e-b614-4a070b9d1e5e', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n\n\n    @Given("^The following junit5 test is executed$")\nGlue Code:\n\n\n    @Given("^The following junit5 test is executed$")\n    public void the_following_junit_rules(String docString) throws Throwable {\n\n    }\n\nExample 2:\nGherkin Step:\n\n    @When("^The following cucumber steps are executed$")\nGlue Code:\n    @When("^The following cucumber steps are executed$")\n    public void The_following_cucumber_steps_are_executed(String docstring) throws Throwable {\n        assertNotNull(docstring);\n    }\n\nExample 3:\nGherkin Step:\n\n\n    @Given("^Groovy script engine is on test classpath$")\nGlue Code:\n\n    @Given("^Groovy script engine is on test classpath$")\n    public void Groovy_script_engine_is_on_test_classpath(String docstring) throws Throwable {\n        // Express the Regexp above with the code you wish you had\n        assertNotNull(docstring);\n    }\n\nExample 4:\nGherkin Step:\n\n\n    @Given("^DBUnit interceptor is enabled in your test beans.xml:$")\nGlue Code:\n\n    @Given("^DBUnit interceptor is enabled in your test beans.xml:$")\n    public void DBUnit_interceptor_is_enabled_in_your_test_beans_xml(String docstring) throws Throwable {\n        assertTrue(true);\n    }\n\nExample 5:\nGherkin Step:\n\n    @Then("^Test must pass because database state is as in expected dataset.$")\nGlue Code:\n    @Then("^Test must pass because database state is as in expected dataset.$")\n    public void Test_must_pass_because_dataBase_state_is_as_expected_in_dataset() throws Throwable {\n        // Express the Regexp above with the code you wish you had\n    }\n\nExample 6:\nGherkin Step:\n\n    @And("^The following dataset$")\nGlue Code:\n    @And("^The following dataset$")\n    public void The_following_dataset(String docstring) throws Throwable {\n        assertNotNull(docstring);\n    }\n\nExample 7:\nGherkin Step:\n\n\n\n    @Given("^The following feature$")\nGlue Code:\n\n\n    @Given("^The following feature$")\n    public void The_following_feature(String docstring) throws Throwable {\n        assertNotNull(docstring);\n    }\n\nExample 8:\nGherkin Step:\n\n\n    @Given("^The following junit rules$")\nGlue Code:\n\n    @Given("^The following junit rules$")\n    public void the_following_junit_rules(String docString) throws Throwable {\n\n    }\n\nExample 9:\nGherkin Step:\n\n    @And("^The following Cucumber test$")\nGlue Code:\n    @And("^The following Cucumber test$")\n    public void The_following_Cucumber_test(String docstring) throws Throwable {\n      assertNotNull(docstring);\n    }\n\nExample 10:\nGherkin Step:\n\n    @Then("^The database should be seeded with the dataset content before test execution$")\nGlue Code:\n    @Then("^The database should be seeded with the dataset content before test execution$")\n    public void The_database_should_be_seeded_with_the_dataset_content() throws Throwable {\n\n    }\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n    @When("^The following test is executed:$")\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:20,600 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:20,601 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:20,601 - DEBUG - send_request_headers.complete
2025-09-23 02:45:20,602 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:20,602 - DEBUG - send_request_body.complete
2025-09-23 02:45:20,602 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:20,756 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:20 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b4909f0b01e4-YYC')])
2025-09-23 02:45:20,757 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:20,757 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:20,786 - DEBUG - receive_response_body.complete
2025-09-23 02:45:20,786 - DEBUG - response_closed.started
2025-09-23 02:45:20,787 - DEBUG - response_closed.complete
2025-09-23 02:45:20,787 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:20 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b48d3c8f01e2-YYC'})
2025-09-23 02:45:20,787 - DEBUG - request_id: None
2025-09-23 02:45:20,789 - INFO - Generated glue code: 
```java
@When("^(?:I |)refresh webpage$")
public void refreshWebpage() {
    WebPage.refresh();
}
```
2025-09-23 02:45:20,792 - WARNING - WARNING: There is no reference data-flows extracted from the whole corpus, and the data-flow match score degenerates to 0. Please consider ignoring this score.
2025-09-23 02:45:20,792 - INFO - Step ID 438 CodeBLEU: {'codebleu': 0.6423137010107913, 'ngram_match_score': 0.3335844217369438, 'weighted_ngram_match_score': 0.3395525883709691, 'syntax_match_score': 0.4375, 'dataflow_match_score': 0}
2025-09-23 02:45:20,792 - INFO - Generating glue code for step ID 439
2025-09-23 02:45:20,796 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-dfc3f755-611c-4038-b154-f042c4eda66c', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n    @When("^(?:I |)click with JS on \\"([^\\"]*)\\"$")\nGlue Code:\n    @When("^(?:I |)click with JS on \\"([^\\"]*)\\"$")\n    public void jsClick(String name) {\n        getUI(name, HasClick.class).click(JS);\n    }\n\nExample 2:\nGherkin Step:\n\n    @When("^(?:I |)focus on \\"([^\\"]*)\\"$")\nGlue Code:\n    @When("^(?:I |)focus on \\"([^\\"]*)\\"$")\n    public void focusOn(String name) {\n        input(name).focus();\n    }\n\nExample 3:\nGherkin Step:\n\n    @When("^(?:I |)double click on \\"([^\\"]*)\\"$")\nGlue Code:\n    @When("^(?:I |)double click on \\"([^\\"]*)\\"$")\n    public void doubleClick(String name) {\n        getUI(name, HasClick.class).doubleClick();\n    }\n\nExample 4:\nGherkin Step:\n\n    @When("^(?:I |)right click on \\"([^\\"]*)\\"$")\nGlue Code:\n    @When("^(?:I |)right click on \\"([^\\"]*)\\"$")\n    public void rightClick(String name) {\n        getUI(name, HasClick.class).rightClick();\n    }\n\nExample 5:\nGherkin Step:\n    @When("^(?:I |)click the cell \\\\(([^\\\\)]*)\\\\) in the \\"([^\\"]*)\\"(?: table|)$")\nGlue Code:\n    public void selectCell(String cellPair, String name) {\n        cell(name, cellPair).click();\n    }\n    //endregion\n\n    //#region Then\n    @Then("^the \\"([^\\"]*)\\" (?:table |)has \\"([^\\"]*)\\" columns$")\n    public void assertColumnsCount(String name, int size) {\n\nExample 6:\nGherkin Step:\n\n    @Then("^the \\"(.*?)\\" text is on page$")\nGlue Code:\n    @Then("^the \\"(.*?)\\" text is on page$")\n    public void textOnPage(String text) {\n        $(byText(text)).is().displayed();\n    }\n\nExample 7:\nGherkin Step:\n\n    @When("^(?:I |)check \\"([^\\"]*)\\"$")\nGlue Code:\n    @When("^(?:I |)check \\"([^\\"]*)\\"$")\n    public void check(String name) {\n        getUI(name, HasCheck.class).check();\n    }\n\nExample 8:\nGherkin Step:\n\n    @When("^(?:I |)uncheck \\"([^\\"]*)\\"$")\nGlue Code:\n    @When("^(?:I |)uncheck \\"([^\\"]*)\\"$")\n    public void uncheck(String name) {\n        getUI(name, HasCheck.class).uncheck();\n    }\n\nExample 9:\nGherkin Step:\n\n    @When("^(?:I |)clear \\"([^\\"]*)\\"$")\nGlue Code:\n    @When("^(?:I |)clear \\"([^\\"]*)\\"$")\n    public void clear(String name) {\n        input(name).clear();\n    }\n\nExample 10:\nGherkin Step:\n\n    @When("^(?:I |)highlight \\"([^\\"]*)\\"$")\nGlue Code:\n    @When("^(?:I |)highlight \\"([^\\"]*)\\"$")\n    public void highlight(String name) {\n        getUI(name).highlight();\n    }\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n    @When("^(?:I |)click on \\"([^\\"]*)\\"$")\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:20,798 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:20,798 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:20,799 - DEBUG - send_request_headers.complete
2025-09-23 02:45:20,799 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:20,799 - DEBUG - send_request_body.complete
2025-09-23 02:45:20,799 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:20,858 - DEBUG - receive_response_body.complete
2025-09-23 02:45:20,858 - DEBUG - response_closed.started
2025-09-23 02:45:20,859 - DEBUG - response_closed.complete
2025-09-23 02:45:20,859 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:17 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b47f4a17420e-YYC'})
2025-09-23 02:45:20,859 - DEBUG - request_id: None
2025-09-23 02:45:20,861 - INFO - Generated glue code: 
```java
@When("doing get results operation on SAST scan with {int} {int} {int} {int} results and filter is {string}")
public void getSASTResultsWithFilter(int high, int medium, int low, int info, String filter) throws InterruptedException {
    try {
        scanResultsToInject = createFakeSASTScanResults();
        ScanRequest scanRequest = createScanRequest();
        setFindingsSummary(high, medium, low, info);

        // Apply filter based on the provided filter string
        applyFilterToResults(filter);

        addAdditionalInfoToResults();
        addFlowSummaryToResults(high, medium, low, info);

        CompletableFuture<ScanResults> task = resultsService.processScanResultsAsync(
                scanRequest, PROJECT_ID, SCAN_ID, null, null);
        task.get(1, TimeUnit.MINUTES);
    } catch (MachinaException | ExecutionException | TimeoutException e) {
        String message = "Error processing scan results.";
        log.error(message, e);
        Assert.fail(message);
    }
}

// Helper method to apply filter to results according to the filter string
private void applyFilterToResults(String filter) {
    // Implementation depends on filter semantics
    // Example: if filter relates to severity, add corresponding filters to scanResultsToInject
    // This method should mutate scanResultsToInject accordingly
}
```
2025-09-23 02:45:20,876 - INFO - Step ID 623 CodeBLEU: {'codebleu': 0.803205819284261, 'ngram_match_score': 0.5525856626452983, 'weighted_ngram_match_score': 0.9279573786821601, 'syntax_match_score': 0.85, 'dataflow_match_score': 0.7878787878787878}
2025-09-23 02:45:20,876 - INFO - Generating glue code for step ID 624
2025-09-23 02:45:20,882 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-71eb03d7-65d4-4d3a-9b2b-65913750179c', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n    @Then("we should see the expected number of tickets in analytics for SCA")\nGlue Code:\n    @Then("we should see the expected number of tickets in analytics for SCA")\n    public void verifyReportSCA() throws CheckmarxException {\n        ScanResultsReport report = getLatestReport();\n        assertScanSCASummary(report);\n        Assert.assertEquals("Scan ID does not match !", Integer.valueOf(SCAN_ID), Integer.valueOf(report.getScanId()));\n    }\n\nExample 2:\nGherkin Step:\n\n\n\n    @Then("we should see the expected number of results in comments")\nGlue Code:\n\n\n    @Then("we should see the expected number of results in comments")\n    public void verifyComments(){\n\n        int actaulHighCounter = StringUtils.countMatches(comment, "HIGH");\n        int actualMediumCounter = StringUtils.countMatches(comment, "MEDIUM");\n        int actaulLowCounter = StringUtils.countMatches(comment, "LOW");\n\n        \n        if (scannerType.equalsIgnoreCase(AST_SCA)) {\n            Assert.assertTrue(PullRequestCommentsHelper.isSastAndScaComment(comment) );\n\n            Assert.assertEquals(scanResultsToInject.getAstResults().getSummary().getHighVulnerabilityCount()+\n                    scanResultsToInject.getScaResults().getSummary().getFindingCounts().get(Filter.Severity.HIGH), actaulHighCounter);\n            Assert.assertEquals(scanResultsToInject.getAstResults().getSummary().getMediumVulnerabilityCount() +\n                    scanResultsToInject.getScaResults().getSummary().getFindingCounts().get(Filter.Severity.MEDIUM), actualMediumCounter);\n            \n            // add 1 to the results \n            Assert.assertEquals(scanResultsToInject.getAstResults().getSummary().getLowVulnerabilityCount()+ 1 +\n                    scanResultsToInject.getScaResults().getSummary().getFindingCounts().get(Filter.Severity.LOW), actaulLowCounter);\n\n        }\n        else if (scannerType.equalsIgnoreCase(AST)) {\n            \n            Assert.assertTrue(PullRequestCommentsHelper.isSastFindingsComment(comment));\n\n            int expectedHigh = getExpectedResults(scanResultsToInject.getAstResults().getSummary().getHighVulnerabilityCount());\n            int expectedMedium = getExpectedResults(scanResultsToInject.getAstResults().getSummary().getMediumVulnerabilityCount());\n            int expectedLow = getExpectedResults(scanResultsToInject.getAstResults().getSummary().getLowVulnerabilityCount());\n            \n            Assert.assertEquals(expectedHigh  , actaulHighCounter);\n            Assert.assertEquals(expectedMedium  , actualMediumCounter);\n            Assert.assertEquals(expectedLow , actaulLowCounter);\n    \n            if(!comment.contains(NO_POLICY_VIOLATION_MESSAGE)) {\n                Assert.assertTrue(comment.contains(AST_WEB_REPORT_LINK));\n            }\n        }\n\n        \n    }\n\nExample 3:\nGherkin Step:\n\n    @Then("the expected number of sanitized vulnerabilities are {int}")\nGlue Code:\n    @Then("the expected number of sanitized vulnerabilities are {int}")\n    public void validateFilteredResults(int expectedResults) {\n        Assert.assertEquals(expectedResults, scaResults.getFindings().size());\n    }\n\nExample 4:\nGherkin Step:\n\n    @And("all of {string}, {string}, {string}, {string} exist in SAST")\nGlue Code:\n    @And("all of {string}, {string}, {string}, {string} exist in SAST")\n    public void allOfExistInSAST(String initialPreset, String initialConfig, String globalPreset, String globalConfig) throws CheckmarxException {\n        Integer initialPresetId = cxClientSpy.getPresetId(initialPreset);\n        Integer globalPresetId = cxClientSpy.getPresetId(globalPreset);\n        Integer initialConfigId = cxClientSpy.getScanConfiguration(initialConfig);\n        Integer globalConfigId = cxClientSpy.getScanConfiguration(globalConfig);\n\n        List<Integer> ids = Arrays.asList(initialPresetId, globalPresetId, initialConfigId, globalConfigId);\n        boolean allEntitiesExist = ids.stream().allMatch(id -> id > 0);\n\n        assertTrue(allEntitiesExist, () -> String.format("Some of the entities don\'t exist in SAST: %s.", ids));\n\n        presetMapping.put(initialPreset, initialPresetId);\n        presetMapping.put(globalPreset, globalPresetId);\n\n        configMapping.put(initialConfig, initialConfigId);\n        configMapping.put(globalConfig, globalConfigId);\n    }\n\nExample 5:\nGherkin Step:\n\n    @Then("a matching ticket creation data should be recorded in the analytics json file")\nGlue Code:\n    @Then("a matching ticket creation data should be recorded in the analytics json file")\n    public void validateAnalyticsJsonFile() throws CheckmarxException {\n        List<String> currentNewIssuesList = jiraService.getCurrentNewIssuesList();\n        JiraTicketsReport jiraTicketsReport = (JiraTicketsReport) jsonLoggerTestUtils.getReportNode(JiraTicketsReport.OPERATION, JiraTicketsReport.class);\n        HashMap<String, List<String>> jiraTickets = jiraTicketsReport.getJiraTickets();\n\n        int totalNewTickets = jiraTickets.get(JIRA_NEW_STATE).size();\n        Assert.assertEquals("Expected to find 1 new JIRA opened ticket record on analytics logs , but found different count: " + totalNewTickets, 1, totalNewTickets);\n        Assert.assertEquals("Actual JIRA new ticket\'s project key on analytics logs is different from expected",\n                jiraService.getCurrentNewIssuesList(), jiraTickets.get(JIRA_NEW_STATE));\n    }\n\nExample 6:\nGherkin Step:\n\n    @Then("a matching ticket updating data should be recorded in the analytics json file")\nGlue Code:\n    @Then("a matching ticket updating data should be recorded in the analytics json file")\n    public void validateAnalyticsJsonFile() throws CheckmarxException {\n        JiraTicketsReport jiraTicketsReport = (JiraTicketsReport) jsonLoggerTestUtils.getReportNode(JiraTicketsReport.OPERATION, JiraTicketsReport.class);\n        HashMap<String, List<String>> jiraTickets = jiraTicketsReport.getJiraTickets();\n\n        int totalUpdatedTickets = jiraTickets.get(JIRA_UPDATED_STATE).size();\n        int totalClosedTickets = jiraTickets.get(JIRA_CLOSED_STATE).size();\n\n        Assert.assertEquals("Expected to find 1 new JIRA updated ticket record on analytics logs , but found different count: " + totalUpdatedTickets, 1, totalUpdatedTickets);\n        Assert.assertEquals("Actual JIRA updated ticket\'s project key on analytics logs is different from expected",\n                jiraService.getCurrentUpdatedIssuesList(), jiraTickets.get(JIRA_UPDATED_STATE));\n\n        Assert.assertEquals("Expected to find 1 new JIRA closed ticket record on analytics logs , but found different count: " + totalClosedTickets, 1, totalClosedTickets);\n        Assert.assertEquals("Actual JIRA closed ticket\'s project key on analytics logs is different from expected",\n                jiraService.getCurrentClosedIssuesList(), jiraTickets.get(JIRA_CLOSED_STATE));\n    }\n\nExample 7:\nGherkin Step:\n\n    @Given("{string} project exists in SAST")\nGlue Code:\n    @Given("{string} project exists in SAST")\n    public void projectExistsInSAST(String projectName) throws CheckmarxException {\n        this.projectId = ensureProjectExists(projectName);\n    }\n\nExample 8:\nGherkin Step:\n\n    @And("each issue contains {} results and the same number of details")\nGlue Code:\n    @And("each issue contains {} results and the same number of details")\n    public void eachIssueContainsNumberOfDetails(int expectedResultCount) throws IOException {\n        verifyCxFlowResultCount(expectedResultCount, true);\n    }\n\nExample 9:\nGherkin Step:\n\n    @Then("we should have open and closed statuses in jira properties bean")\nGlue Code:\n    @Then("we should have open and closed statuses in jira properties bean")\n    public void verifyJiraClosedAndOpenStatus() {\n        List<String> closedStatus = jiraProperties.getClosedStatus();\n        Assert.assertNotNull(closedStatus);\n        Assert.assertFalse(closedStatus.isEmpty());\n    }\n\nExample 10:\nGherkin Step:\n\n    @Then("new 8 tickets should be created")\nGlue Code:\n    @Then("new 8 tickets should be created")\n    public void ticketsCreationValidation() throws IOException {\n        Assert.assertEquals("Azure new SCA results tickets number is not as expected",\n                8, azureDevopsClient.getIssueCount());\n    }\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n    @Then("we should see the expected number of tickets in analytics for SAST")\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:20,882 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:20,883 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:20,883 - DEBUG - send_request_headers.complete
2025-09-23 02:45:20,883 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:20,884 - DEBUG - send_request_body.complete
2025-09-23 02:45:20,884 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:20,949 - DEBUG - receive_response_body.complete
2025-09-23 02:45:20,950 - DEBUG - response_closed.started
2025-09-23 02:45:20,950 - DEBUG - response_closed.complete
2025-09-23 02:45:20,950 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:20 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b48d683e01de-YYC'})
2025-09-23 02:45:20,950 - DEBUG - request_id: None
2025-09-23 02:45:20,952 - INFO - Generated glue code: 
```java
@When("^I am on the individual member info page$")
public void i_am_on_the_individual_member_info_page() {
    i_am_on_the_personal_info_page();
    applicationSteps.enterIndividualMember();
    applicationSteps.advanceFromPersonalInfoToIndividualMemberInfo();
}
```
2025-09-23 02:45:20,956 - INFO - Step ID 1047 CodeBLEU: {'codebleu': 0.6841300778619549, 'ngram_match_score': 0.5652080307919822, 'weighted_ngram_match_score': 0.561807033541852, 'syntax_match_score': 0.7619047619047619, 'dataflow_match_score': 0.6666666666666666}
2025-09-23 02:45:20,956 - INFO - Generating glue code for step ID 1048
2025-09-23 02:45:20,960 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-2ecc398a-e735-43ca-939e-4b54cae9cc4c', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n    @When("^I am on the individual member info page$")\nGlue Code:\n    @When("^I am on the individual member info page$")\n    public void i_am_on_the_individual_member_info_page() throws IOException {\n        i_am_on_the_facility_credentials_page();\n        applicationSteps.enterLicenseInfo();\n        applicationSteps.uploadLicense();\n        applicationSteps.advanceFromOrganizationLicenseInfoToIndividualMemberInfo();\n    }\n\nExample 2:\nGherkin Step:\n\n    @When("^I open the individual owner panel$")\nGlue Code:\n    @When("^I open the individual owner panel$")\n    public void i_open_the_individual_owner_panels() {\n        applicationSteps.addIndividualOwnership();\n    }\n\nExample 3:\nGherkin Step:\n\n    @When("^I open an add a license panel$")\nGlue Code:\n    @When("^I open an add a license panel$")\n    public void i_open_an_add_a_license_panel() {\n        applicationSteps.clickAddLicense();\n    }\n\nExample 4:\nGherkin Step:\n\n    @When("^I open the filter panel$")\nGlue Code:\n    @When("^I open the filter panel$")\n    public void i_open_the_filter_panel() {\n        generalSteps.openFilterPanel();\n    }\n\nExample 5:\nGherkin Step:\n\n    @When("^I enter my individual provider statement$")\nGlue Code:\n    @When("^I enter my individual provider statement$")\n    public void i_enter_my_provider_statement() {\n        applicationSteps.checkNoOnProviderDisclosureQuestions();\n        applicationSteps.signProviderStatement();\n    }\n\nExample 6:\nGherkin Step:\n\n    @When("^I open the business owner panel$")\nGlue Code:\n    @When("^I open the business owner panel$")\n    public void i_open_the_business_owner_panel() {\n        applicationSteps.addBusinessOwnership();\n    }\n\nExample 7:\nGherkin Step:\n\n    @When("^I open the practice lookup modal$")\nGlue Code:\n    @When("^I open the practice lookup modal$")\n    public void i_open_the_practice_lookup_modal() {\n        applicationSteps.openPracticeLookupModal();\n    }\n\nExample 8:\nGherkin Step:\n\n    @When("^I open the Write Note modal$")\nGlue Code:\n    @When("^I open the Write Note modal$")\n    public void i_open_the_write_note_modal() {\n        adminSteps.openWriteNoteModal();\n    }\n\nExample 9:\nGherkin Step:\n\n    @When("^I am on the individual summary page$")\nGlue Code:\n    @When("^I am on the individual summary page$")\n    public void i_am_on_the_individual_summary_page() throws IOException {\n        i_am_on_the_individual_provider_practice_info_page();\n        applicationSteps.enterIndividualPrivatePracticeInfo();\n        applicationSteps.advanceFromIndividualPracticeInfoToSummaryPage();\n    }\n\nExample 10:\nGherkin Step:\n\n    @When("^I enter an (\\\\d+) digit FEIN$")\nGlue Code:\n    @When("^I enter an (\\\\d+) digit FEIN$")\n    public void i_enter_an_digit_fein(int numDigits) {\n        String generatedFEIN = StringUtils.repeat("0", numDigits);\n        organizationInfoPage.setFEIN(generatedFEIN);\n    }\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n    @When("^I open an individual member panel")\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:20,961 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:20,962 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:20,962 - DEBUG - send_request_headers.complete
2025-09-23 02:45:20,963 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:20,963 - DEBUG - send_request_body.complete
2025-09-23 02:45:20,963 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:21,090 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:21 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b493cebebf01-YYC')])
2025-09-23 02:45:21,091 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:21,091 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:21,117 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:21 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b490a804bed1-YYC')])
2025-09-23 02:45:21,118 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:21,118 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:21,285 - DEBUG - receive_response_body.complete
2025-09-23 02:45:21,286 - DEBUG - response_closed.started
2025-09-23 02:45:21,286 - DEBUG - response_closed.complete
2025-09-23 02:45:21,286 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:20 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b4909f0b01e4-YYC'})
2025-09-23 02:45:21,286 - DEBUG - request_id: None
2025-09-23 02:45:21,288 - INFO - Generated glue code: 
```java
@When("I slowly add {int} and {int}")
public void addingSlow(int arg1, int arg2) throws InterruptedException {
  Thread.sleep(1100);
  calc.push(arg1);
  calc.push(arg2);
  calc.push("+");
}
```
2025-09-23 02:45:21,293 - INFO - Step ID 1193 CodeBLEU: {'codebleu': 0.9440593070147462, 'ngram_match_score': 0.9021315316859231, 'weighted_ngram_match_score': 1.0, 'syntax_match_score': 0.8846153846153846, 'dataflow_match_score': 1.0}
2025-09-23 02:45:21,293 - INFO - Generating glue code for step ID 1194
2025-09-23 02:45:21,297 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-70c02bbf-4290-46f5-b2fd-7193ddf883f5', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n  @Given("^I press (.+)$")\nGlue Code:\n  @Given("^I press (.+)$")\n  public void I_press(String what) {\n    calc.push(what);\n  }\n\nExample 2:\nGherkin Step:\n\n  @Given("a calculator I just turned on")\nGlue Code:\n  @Given("a calculator I just turned on")\n  public void a_calculator_I_just_turned_on() {\n    calc = new Calculator();\n  }\n\nExample 3:\nGherkin Step:\n\n  @When("I add {int} and {int}")\nGlue Code:\n  @When("I add {int} and {int}")\n  public void adding(int arg1, int arg2) {\n    calc.push(arg1);\n    calc.push(arg2);\n    calc.push("+");\n  }\n\nExample 4:\nGherkin Step:\n\n  @Then("the result is {int}")\nGlue Code:\n  @Then("the result is {int}")\n  public void the_result_is(double expected) {\n    assertEquals(expected, calc.value());\n  }\n\nExample 5:\nGherkin Step:\n\n  @Given("a calculator I just turned on")\nGlue Code:\n  @Given("a calculator I just turned on")\n  public void a_calculator_I_just_turned_on() {\n    calc = new Calculator();\n  }\n\nExample 6:\nGherkin Step:\n\n  @When("I add {int} and {int}")\nGlue Code:\n  @When("I add {int} and {int}")\n  public void adding(int arg1, int arg2) {\n    calc.push(arg1);\n    calc.push(arg2);\n    calc.push("+");\n  }\n\nExample 7:\nGherkin Step:\n\n  @When("I slowly add {int} and {int}")\nGlue Code:\n  @When("I slowly add {int} and {int}")\n  public void addingSlow(int arg1, int arg2) throws InterruptedException {\n    Thread.sleep(1100);\n    calc.push(arg1);\n    calc.push(arg2);\n    calc.push("+");\n  }\n\nExample 8:\nGherkin Step:\n\n  @Then("the result is {int}")\nGlue Code:\n  @Then("the result is {int}")\n  public void the_result_is(double expected) {\n    assertEquals(expected, calc.value());\n  }\n\nExample 9:\nGherkin Step:\n\n  @Given("the previous entries:")\nGlue Code:\n  @Given("the previous entries:")\n  public void thePreviousEntries(List<Entry> entries) {\n    for (Entry entry : entries) {\n      calc.push(entry.first);\n      calc.push(entry.second);\n      calc.push(entry.operation);\n    }\n  }\n\nExample 10:\nGherkin Step:\n\n  @Given("a calculator I just turned on")\nGlue Code:\n  @Given("a calculator I just turned on")\n  public void a_calculator_I_just_turned_on() {\n    calc = new Calculator();\n  }\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n  @Given("^I press (.+)$")\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:21,298 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:21,299 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:21,299 - DEBUG - receive_response_body.complete
2025-09-23 02:45:21,300 - DEBUG - send_request_headers.complete
2025-09-23 02:45:21,300 - DEBUG - response_closed.started
2025-09-23 02:45:21,300 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:21,300 - DEBUG - response_closed.complete
2025-09-23 02:45:21,301 - DEBUG - send_request_body.complete
2025-09-23 02:45:21,301 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:14 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b469be464214-YYC'})
2025-09-23 02:45:21,301 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:21,301 - DEBUG - request_id: None
2025-09-23 02:45:21,303 - INFO - Generated glue code: 
```java
@Given("a library, containing (only one )book(s) with isbn(s) {string}")
public void givenLibraryContainsBooksWithIsbns(String isbns) {
    // Clear existing books first to ensure the library contains only the specified books
    bookRepository.deleteAll();

    // The {string} parameter might be a comma-separated list of ISBNs
    String[] isbnArray = isbns.split(",");
    for (String isbn : isbnArray) {
        String trimmedIsbn = isbn.trim();
        if (!trimmedIsbn.isEmpty()) {
            // Assuming there's a method to insert a book by ISBN with default or dummy data
            insertBookByIsbn(trimmedIsbn);
        }
    }

    // If the phrase "only one " is matched, ensure only one book is inserted
    // This can be inferred by checking the number of ISBNs or via a parsing approach,
    // but since the step regex allows (only one ) optional, we just rely on the ISBN count.

    // Optional: Assert the library now contains the expected number of books
    assertThat(bookRepository.findAll().size(), is(isbnArray.length));
}

/**
 * Dummy helper method to insert a book given an ISBN.
 * Details omitted - should insert a book with that ISBN and default data.
 */
private void insertBookByIsbn(String isbn) {
    Book book = new Book();
    book.setIsbn(isbn);
    book.setTitle("Default Title for " + isbn);
    book.setAuthor("Default Author");
    book.setYearOfPublication(2000);
    book.setEdition(1);
    book.setDescription("");
    bookRepository.save(book);
}
```
2025-09-23 02:45:21,316 - INFO - Step ID 63 CodeBLEU: {'codebleu': 0.3859809527192502, 'ngram_match_score': 0.0675986307882516, 'weighted_ngram_match_score': 0.24382379963005668, 'syntax_match_score': 0.3870967741935484, 'dataflow_match_score': 0.5}
2025-09-23 02:45:21,316 - INFO - Generating glue code for step ID 64
2025-09-23 02:45:21,320 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-87e86f42-0678-437c-b865-7ac054d594ff', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n    @Given("{string} has borrowed books {string} on {date}")\nGlue Code:\n    @Given("{string} has borrowed books {string} on {date}")\n    public void has_borrowed_books_on(String borrower, String isbns, LocalDate borrowDate) {\n        List<Book> books = (List<Book>) storyContext.getObject("LAST_INSERTED_BOOKS");\n        Splitter.on(" ").omitEmptyStrings().splitToList(isbns).stream().forEach(isbn -> {\n            Book bookToBeBorrowed = books.stream()\n                                        .filter(book -> book.getIsbn().equals(isbn))\n                                        .findFirst().orElseThrow();\n\n            LocalDate date = borrowDate.atStartOfDay(ZoneId.systemDefault()).toLocalDate();\n\n            Borrowing newBorrowing = new Borrowing(bookToBeBorrowed, borrower, date);\n            borrowingRepository.save(newBorrowing);\n\n            bookToBeBorrowed.setBorrowing(newBorrowing);\n            bookRepository.save(bookToBeBorrowed);\n        });\n    }\n\nExample 2:\nGherkin Step:\n\n  @When("a librarian removes book(s) {string}")\nGlue Code:\n  @When("a librarian removes book(s) {string}")\n  public void a_librarian_removes_book(String isbn) {\n    seleniumAdapter.gotoPageWithParameter(Page.REMOVEBOOK, isbn);\n//    seleniumAdapter.clickOnPageElementById(PageElement.REMOVE_BOOK_BUTTON);\n  }\n\nExample 3:\nGherkin Step:\n\n    @Then("the library contains {int} book(s) with {string}")\nGlue Code:\n    @Then("the library contains {int} book(s) with {string}")\n    public void shouldContainNumberOfBooksWithISBN(int books, String isbn) {\n        if (isbn.isEmpty()) return;\n        assertThat(bookRepository.findByIsbn(isbn).size(), is(books));\n    }\n\nExample 4:\nGherkin Step:\n\n  @When("{string} requests list of borrowed books")\nGlue Code:\n  @When("{string} requests list of borrowed books")\n  public void requests_list_of_borrowed_books(String borrower) {\n    seleniumAdapter.gotoPage(Page.BORROWED_BOOK_LIST);\n    seleniumAdapter.typeIntoField("email", borrower);\n    seleniumAdapter.clickOnPageElementById(PageElement.SHOW_BORROWED_BOOKS_BUTTON);\n  }\n\nExample 5:\nGherkin Step:\n\n    @Then("the library still contains all borrowed books {string}")\nGlue Code:\n    @Then("the library still contains all borrowed books {string}")\n    public void shouldContainOneCopyOf(String isbn) {\n        if (isbn.isEmpty()) return;\n        assertThat(bookRepository.findByIsbn(isbn).size(), is(1));\n    }\n\nExample 6:\nGherkin Step:\n\n  @When("{string} borrows the book {string}")\nGlue Code:\n  @When("{string} borrows the book {string}")\n  public void whenUseruserBorrowsTheBookisbn(String user, String isbn) {\n    seleniumAdapter.gotoPage(Page.BORROWBOOK);\n    seleniumAdapter.typeIntoField("email", user);\n    seleniumAdapter.typeIntoField("isbn", isbn);\n    seleniumAdapter.clickOnPageElementById(PageElement.BORROW_BOOK_BUTTON);\n  }\n\nExample 7:\nGherkin Step:\n\n  @Then("book(s) {string} is/are {string} by {string}")\nGlue Code:\n  @Then("book(s) {string} is/are {string} by {string}")\n  public void booksAreNotBorrowedByBorrower1(String isbns, String borrowStatus, String borrower) {\n    seleniumAdapter.gotoPage(Page.BOOKLIST);\n    HtmlBookList htmlBookList = seleniumAdapter.getTableContent(PageElement.BOOK_LIST);\n\n    long booksInWrongBorrowingState =\n        Splitter.on(" ").omitEmptyStrings().splitToList(isbns).stream()\n            .filter(\n                isbn -> {\n                  String actualBorrower = htmlBookList.getBookByIsbn(isbn).getBorrower();\n                  return !borrowStatus.contains("not borrowed") != borrower.equals(actualBorrower);\n                })\n            .count();\n\n    assertThat(booksInWrongBorrowingState, is(0L));\n  }\n\nExample 8:\nGherkin Step:\n  @Then("the page contains error message for field {string}")\nGlue Code:\n  public void pageContainsErrorMessage(String field) {\n    String errorMessage = seleniumAdapter.getTextFromElement(PageElement.errorFor(field));\n    assertThat(errorMessage, notNullValue());\n  }\n\n  // *****************\n  // *** U T I L *****\n  // *****************\n\n  private void insertAndSubmitBook(\n      String isbn, String title, String author, Integer edition, String year, String description) {\n\nExample 9:\nGherkin Step:\n\n    @Given("a library, containing (only one )book(s) with isbn(s) {string}")\nGlue Code:\n    @Given("a library, containing (only one )book(s) with isbn(s) {string}")\n    public void createLibraryWithSingleBookWithGivenIsbn(String isbns) {\n        emptyLibrary();\n        List<Book> newBooks = createNewBooksByISBNS(isbns);\n        newBooks.stream().forEach(book -> storyContext.putObject("LAST_INSERTED_BOOK", book));\n        storyContext.putObject("LAST_INSERTED_BOOKS", newBooks);\n\n\n//    Book book = DemoBookFactory.createDemoBook().withISBN(isbn).build();\n//    Optional<Book> createdBook =\n//        bookService.createBook(\n//            new BookParameter(\n//                book.getTitle(),\n//                book.getAuthor(),\n//                book.getEdition(),\n//                book.getIsbn(),\n//                book.getYearOfPublication(),\n//                book.getDescription()));\n//    createdBook.ifPresent(b -> storyContext.putObject("LAST_INSERTED_BOOK", b));\n    }\n\nExample 10:\nGherkin Step:\n\n  @Then("the booklist contains a book with {string}, {string}, {string}, {int} and {string}")\nGlue Code:\n  @Then("the booklist contains a book with {string}, {string}, {string}, {int} and {string}")\n  public void bookListContainsRowWithValues(\n      final String title,\n      final String author,\n      final String year,\n      final Integer edition,\n      final String isbn) {\n    seleniumAdapter.gotoPage(Page.BOOKLIST);\n    HtmlBookList htmlBookList = seleniumAdapter.getTableContent(PageElement.BOOK_LIST);\n    HtmlBook htmlBook = htmlBookList.getBookByIsbn(isbn);\n    assertThat(title, is(htmlBook.getTitle()));\n    assertThat(author, is(htmlBook.getAuthor()));\n    assertThat(year, is(htmlBook.getYearOfPublication()));\n    assertThat(edition, is(htmlBook.getEdition()));\n    assertThat(isbn, is(htmlBook.getIsbn()));\n  }\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n\n    @Given("{string} has borrowed book(s) {string}")\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:21,321 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:21,321 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:21,322 - DEBUG - send_request_headers.complete
2025-09-23 02:45:21,322 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:21,322 - DEBUG - send_request_body.complete
2025-09-23 02:45:21,322 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:21,373 - DEBUG - receive_response_body.complete
2025-09-23 02:45:21,373 - DEBUG - response_closed.started
2025-09-23 02:45:21,373 - DEBUG - response_closed.complete
2025-09-23 02:45:21,374 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:20 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b48cbbc801dc-YYC'})
2025-09-23 02:45:21,374 - DEBUG - request_id: None
2025-09-23 02:45:21,375 - INFO - Generated glue code: 
```java
@And( "Freelancer adds a comment" )
public void freelancerAddsAComment() {
    webDriver.findElement( By.className( "show-comments-btn" ) ).click();

    WebDriverWait wait = new WebDriverWait( webDriver, 20 );
    wait.until( ExpectedConditions.visibilityOfElementLocated( By.id( "new-comment-text" ) ) );

    webDriver.findElement( By.id( "new-comment-text" ) ).sendKeys( "Diee" );
}
```
2025-09-23 02:45:21,381 - WARNING - WARNING: There is no reference data-flows extracted from the whole corpus, and the data-flow match score degenerates to 0. Please consider ignoring this score.
2025-09-23 02:45:21,381 - INFO - Step ID 88 CodeBLEU: {'codebleu': 0.8024644536755388, 'ngram_match_score': 0.28745606624744396, 'weighted_ngram_match_score': 0.6783649410961788, 'syntax_match_score': 0.7647058823529411, 'dataflow_match_score': 0}
2025-09-23 02:45:21,382 - INFO - Generating glue code for step ID 89
2025-09-23 02:45:21,385 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-40273fef-20b7-424d-aec2-f57df0d15d82', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n    @And( "token is deleted" )\nGlue Code:\n    @And( "token is deleted" )\n    public void tokenIsDeleted() {\n        User user = Utils.getOrCreateTestUser( userService );\n        assertNull( user.getPasswordResetToken() );\n        assertTrue( passwordResetTokenRepository.findByUser_Email( user.getEmail() ).isEmpty() );\n        webDriver.close();\n    }\n\nExample 2:\nGherkin Step:\n\n    @And( "User is deleted" )\nGlue Code:\n    @And( "User is deleted" )\n    public void userIsDeleted() {\n        assertThrows( UsernameNotFoundException.class, () -> userService.loadUserByUsername( "testuser@test.com" ) );\n        webDriver.close();\n    }\n\nExample 3:\nGherkin Step:\n\n    @And( "User is redirected to thank you page" )\nGlue Code:\n    @And( "User is redirected to thank you page" )\n    public void userIsRedirectedToThankYouPage() {\n        assertEquals( Utils.REGISTRATION_SUCCESSFUL_URL, webDriver.getCurrentUrl() );\n        webDriver.close();\n    }\n\nExample 4:\nGherkin Step:\n\n    @Then( "comment is saved" )\nGlue Code:\n    @Then( "comment is saved" )\n    public void commentIsSaved() {\n        assertTrue( bidCommentService.findByBid( bidRepository.findByBidderAndProject( (Freelancer) freelancer.getType(), project ).orElseThrow() ).stream().anyMatch( bidComment -> bidComment.getText().equals( "Diee" ) ) );\n    }\n\nExample 5:\nGherkin Step:\n\n    @Then( "User is activated" )\nGlue Code:\n    @Then( "User is activated" )\n    public void userIsActivated() {\n        User user = (User) userService.loadUserByUsername( "testuser@test.com" );\n        assertTrue( user.isEnabled() );\n    }\n\nExample 6:\nGherkin Step:\n\n    @Then( "Freelancer profile is updated" )\nGlue Code:\n    @Then( "Freelancer profile is updated" )\n    public void freelancerProfileIsUpdated() {\n        var user = (User) userService.loadUserByUsername( this.user.getEmail() );\n\n        Freelancer freelancer = (Freelancer) user.getType();\n        assertEquals( "Blah Blah", freelancer.getSummary() );\n        assertTrue( freelancer.isAvailable() );\n\n        Set<Skill> skills = Set.of( Skill.of( "python" ), Skill.of( "c++ sleeping" ) );\n        assertEquals( skills, freelancer.getSkills() );\n        webDriver.close();\n    }\n\nExample 7:\nGherkin Step:\n\n    @And( "Bidding Close Browser" )\nGlue Code:\n    @And( "Bidding Close Browser" )\n    public void biddingCloseBrowser() {\n        webDriver.close();\n    }\n\nExample 8:\nGherkin Step:\n\n    @Then( "Bid is added to project" )\nGlue Code:\n    @Then( "Bid is added to project" )\n    public void bidIsAddedToProject() {\n        WebDriverWait wait = new WebDriverWait( webDriver, 20 );\n        wait.until( ExpectedConditions.visibilityOfElementLocated( By.id( "toast-container" ) ) );\n\n        var bids = bidRepository.findAll();\n        assertEquals( 1, bids.size() );\n\n        var bid = bids.get( 0 );\n        assertEquals( 200, bid.getAmount() );\n        assertEquals( project, bid.getProject() );\n        assertEquals( freelancer, bid.getBidder().getUser() );\n    }\n\nExample 9:\nGherkin Step:\n\n    @Then( "a unique token is generated" )\nGlue Code:\n    @Then( "a unique token is generated" )\n    public void aUniqueTokenIsGenerated() {\n        User user = Utils.getOrCreateTestUser( userService );\n        var tokenOptional = passwordResetTokenRepository.findByUser_Email( user.getEmail() );\n        assertNotNull( user.getPasswordResetToken() );\n        assertTrue( tokenOptional.isPresent() );\n        assertEquals( user, tokenOptional.get().getUser() );\n    }\n\nExample 10:\nGherkin Step:\n\n    @And( "Freelancer adds his bid" )\nGlue Code:\n    @And( "Freelancer adds his bid" )\n    public void freelancerAddsHisBid() {\n        webDriver.findElement( By.id( "amount" ) ).clear();\n        webDriver.findElement( By.id( "amount" ) ).sendKeys( "200" );\n    }\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n    @And( "Comment is added" )\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:21,386 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:21,387 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:21,387 - DEBUG - send_request_headers.complete
2025-09-23 02:45:21,387 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:21,388 - DEBUG - send_request_body.complete
2025-09-23 02:45:21,388 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:21,463 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:21 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b4950d6701e2-YYC')])
2025-09-23 02:45:21,464 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:21,464 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:21,542 - DEBUG - receive_response_body.complete
2025-09-23 02:45:21,543 - DEBUG - response_closed.started
2025-09-23 02:45:21,543 - DEBUG - response_closed.complete
2025-09-23 02:45:21,543 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:21 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b493cebebf01-YYC'})
2025-09-23 02:45:21,543 - DEBUG - request_id: None
2025-09-23 02:45:21,545 - INFO - Generated glue code: 
```java
@When("^The following test is executed:$")
public void The_following_test_is_executed(String docstring) throws Throwable {
    assertNotNull(docstring);
}
```
2025-09-23 02:45:21,548 - INFO - Step ID 30 CodeBLEU: {'codebleu': 0.8540225112841666, 'ngram_match_score': 0.6739047062564734, 'weighted_ngram_match_score': 0.7893973296621156, 'syntax_match_score': 0.7692307692307693, 'dataflow_match_score': 1.0}
2025-09-23 02:45:21,548 - INFO - Generating glue code for step ID 31
2025-09-23 02:45:21,552 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-46d7bd00-ff77-4698-a7b4-576a5c6549d3', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n    @Then("^The database should be seeded with the dataset content before test execution$")\nGlue Code:\n    @Then("^The database should be seeded with the dataset content before test execution$")\n    @DataSet("yml/users.yml")\n    public void The_database_should_be_seeded_with_the_dataset_content() throws Throwable {\n        List<User> users = em.createQuery("select u from User u order by u.id asc").getResultList();\n        User user1 = new User(1);\n        User user2 = new User(2);\n        Tweet tweetUser1 = new Tweet();\n        tweetUser1.setId("abcdef12345");\n        Tweet tweetUser2 = new Tweet();\n        tweetUser2.setId("abcdef12233");\n        assertThat(users).isNotNull().hasSize(2).contains(user1, user2);\n        List<Tweet> tweetsUser1 = users.get(0).getTweets();\n        assertThat(tweetsUser1).isNotNull().hasSize(1).contains(tweetUser1);\n\n        List<Tweet> tweetsUser2 = users.get(1).getTweets();\n        assertThat(tweetsUser2).isNotNull().hasSize(2).contains(tweetUser2);\n\n    }\n\nExample 2:\nGherkin Step:\n\n    @Then("^The database should be seeded with the dataset content before step execution$")\nGlue Code:\n    @Then("^The database should be seeded with the dataset content before step execution$")\n    public void The_database_should_be_seeded_with_the_dataset_content_before_step_execution() throws Throwable {\n        // Express the Regexp above with the code you wish you had\n    }\n\nExample 3:\nGherkin Step:\n\n    @Then("^Dataset script should be interpreted while seeding the database$")\nGlue Code:\n    @Then("^Dataset script should be interpreted while seeding the database$")\n    public void Dataset_script_should_be_interpreted_when_seeding_the_database() throws Throwable {\n        // Express the Regexp above with the code you wish you had\n    }\n\nExample 4:\nGherkin Step:\n\n\n    @Then("^Test must fail with following error:$")\nGlue Code:\n\n    @Then("^Test must fail with following error:$")\n    public void Test_must_fail_with_following_error(String docstring) throws Throwable {\n        assertNotNull(docstring);\n    }\n\nExample 5:\nGherkin Step:\n\n    @Then("^Test must pass because inserted users are commited to database and database state matches expected dataset.$")\nGlue Code:\n    @Then("^Test must pass because inserted users are commited to database and database state matches expected dataset.$")\n    public void Test_must_pass_because_inserted_users_are_commited_to_database_and_database_state_matches_in_expected_dataset() throws Throwable {\n    }\n\nExample 6:\nGherkin Step:\n\n    @When("^The following test is executed:$")\nGlue Code:\n    @When("^The following test is executed:$")\n    public void The_test_below_is_executed(String docstring) throws Throwable {\n        assertNotNull(docstring);\n    }\n\nExample 7:\nGherkin Step:\n\n\n\n    @Given("^The following junit5 test is executed$")\nGlue Code:\n\n\n    @Given("^The following junit5 test is executed$")\n    public void the_following_junit_rules(String docString) throws Throwable {\n\n    }\n\nExample 8:\nGherkin Step:\n\n\n    @Given("^Groovy script engine is on test classpath$")\nGlue Code:\n\n    @Given("^Groovy script engine is on test classpath$")\n    public void Groovy_script_engine_is_on_test_classpath(String docstring) throws Throwable {\n        // Express the Regexp above with the code you wish you had\n        assertNotNull(docstring);\n    }\n\nExample 9:\nGherkin Step:\n\n    @Then("^Test must pass because database state is as in expected dataset.$")\nGlue Code:\n    @Then("^Test must pass because database state is as in expected dataset.$")\n    public void Test_must_pass_because_dataBase_state_is_as_expected_in_dataset() throws Throwable {\n        // Express the Regexp above with the code you wish you had\n    }\n\nExample 10:\nGherkin Step:\n\n\n    @Given("^DBUnit interceptor is enabled in your test beans.xml:$")\nGlue Code:\n\n    @Given("^DBUnit interceptor is enabled in your test beans.xml:$")\n    public void DBUnit_interceptor_is_enabled_in_your_test_beans_xml(String docstring) throws Throwable {\n        assertTrue(true);\n    }\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n    @Then("^The database should be seeded with the dataset content before test execution$")\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:21,553 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:21,554 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:21,554 - DEBUG - send_request_headers.complete
2025-09-23 02:45:21,554 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:21,554 - DEBUG - send_request_body.complete
2025-09-23 02:45:21,555 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:21,617 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:21 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b4958e54420e-YYC')])
2025-09-23 02:45:21,618 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:21,618 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:21,689 - DEBUG - receive_response_body.complete
2025-09-23 02:45:21,690 - DEBUG - response_closed.started
2025-09-23 02:45:21,690 - DEBUG - response_closed.complete
2025-09-23 02:45:21,690 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:21 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b490a804bed1-YYC'})
2025-09-23 02:45:21,690 - DEBUG - request_id: None
2025-09-23 02:45:21,692 - INFO - Generated glue code: 
```java
@Then("^automation wait for window close$")
public void automationWaitForWindowClose() throws InterruptedException {
    while (currentWindow.isVisible()) {
        Thread.sleep(10);
    }
}
```
2025-09-23 02:45:21,698 - INFO - Step ID 253 CodeBLEU: {'codebleu': 0.3369418308797303, 'ngram_match_score': 0.2933363856095415, 'weighted_ngram_match_score': 0.358378573905464, 'syntax_match_score': 0.3157894736842105, 'dataflow_match_score': 0.36363636363636365}
2025-09-23 02:45:21,698 - INFO - Generating glue code for step ID 254
2025-09-23 02:45:21,702 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-e1d120ac-c8b3-491b-b159-85e5e0a2bff8', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n    @When("^automation click current menu item \\"([^\\"]*)\\"$")\nGlue Code:\n    @When("^automation click current menu item \\"([^\\"]*)\\"$")\n    public void automationClickCurrentMenuItem(String pattern) throws Throwable {\n        List<MenuItem> items = currentMenuItem.getItems();\n        for (MenuItem item : items) {\n            System.out.println(item.getName());\n        }\n        currentMenuItem = currentMenuItem.getMenuItem(Pattern.compile(pattern));\n        currentMenuItem.click();\n    }\n\nExample 2:\nGherkin Step:\n\n    @When("^automation find window from pattern \\"([^\\"]*)\\"$")\nGlue Code:\n    @When("^automation find window from pattern \\"([^\\"]*)\\"$")\n    public void automationFindWindowFromPattern(String arg0) throws Throwable {\n        UIAutomation automation = UIAutomation.getInstance();\n        currentWindow = automation.getDesktopWindow(Pattern.compile(arg0));\n    }\n\nExample 3:\nGherkin Step:\n\n    @When("^automation focus window$")\nGlue Code:\n    @When("^automation focus window$")\n    public void automationFocusWindow() {\n        currentWindow.focus();\n    }\n\nExample 4:\nGherkin Step:\n\n    @When("^automation wait for idle$")\nGlue Code:\n    @When("^automation wait for idle$")\n    public void automationWaitForIdle() {\n        application.waitForInputIdle();\n    }\n\nExample 5:\nGherkin Step:\n\n    @When("^send remote monitor command \\"([^\\"]*)\\"$")\nGlue Code:\n    @When("^send remote monitor command \\"([^\\"]*)\\"$")\n    public void send_remote_monitor_command(String command) throws Throwable {\n        sendMonitorCommand(command);\n        waitMonitorReply();\n        getMonitorReply();\n    }\n\nExample 6:\nGherkin Step:\n\n    @When("^ignoring lines that contain \\"([^\\"]*)\\"$")\nGlue Code:\n    @When("^ignoring lines that contain \\"([^\\"]*)\\"$")\n    public void ignoringLinesThatContain(String text) throws Throwable {\n        fileReadingIgnoreLinesContains.add(text);\n    }\n\nExample 7:\nGherkin Step:\n\n    @Then("^property \\"([^\\"]*)\\" must contain string \\"([^\\"]*)\\"$")\nGlue Code:\n    @Then("^property \\"([^\\"]*)\\" must contain string \\"([^\\"]*)\\"$")\n    public void property_must_contain(String arg1, String arg2) throws Throwable {\n        arg1 = PropertiesResolution.resolveInput(scenario, arg1);\n        arg2 = PropertiesResolution.resolveInput(scenario, arg2);\n\n        assertThat(System.getProperty(arg1), containsString(arg2));\n    }\n\nExample 8:\nGherkin Step:\n\n    @When("^send remote monitor command \\"([^\\"]*)\\" \\"([^\\"]*)\\"$")\nGlue Code:\n    @When("^send remote monitor command \\"([^\\"]*)\\" \\"([^\\"]*)\\"$")\n    public void send_remote_monitor_command2(String command, String param) throws Throwable {\n        command += " $";\n        command += Integer.toHexString(valueToInt(param));\n        sendMonitorCommand(command);\n        waitMonitorReply();\n        getMonitorReply();\n    }\n\nExample 9:\nGherkin Step:\n\n    @Then("^expect the line to contain \\"([^\\"]*)\\"$")\nGlue Code:\n    @Then("^expect the line to contain \\"([^\\"]*)\\"$")\n    public void expectTheLineToContain(String subString) throws ParseException {\n        subString = PropertiesResolution.resolveInput(scenario, subString);\n        assertThat(currentLineRead, containsString(subString));\n    }\n\nExample 10:\nGherkin Step:\n\n    @Given("^a CHARGEN ROM from file \\"([^\\"]*)\\"$")\nGlue Code:\n    @Given("^a CHARGEN ROM from file \\"([^\\"]*)\\"$")\n    public void a_CHARGEN_ROM_from_file(String filename) throws Throwable {\n        File file = new File(filename);\n        int flen = (int) file.length();\n        Memory memory = Memory.makeROM(0 , flen - 1 , file);\n\n        if (displayC64 != null) {\n            displayC64.setTheCHARGEN(memory);\n        }\n        // Not going to add this to the device memory map\n    }\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n    @When("^automation expand main menu item \\"([^\\"]*)\\"$")\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:21,703 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:21,704 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:21,704 - DEBUG - send_request_headers.complete
2025-09-23 02:45:21,705 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:21,705 - DEBUG - send_request_body.complete
2025-09-23 02:45:21,705 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:21,905 - DEBUG - receive_response_body.complete
2025-09-23 02:45:21,905 - DEBUG - response_closed.started
2025-09-23 02:45:21,905 - DEBUG - response_closed.complete
2025-09-23 02:45:21,906 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:18 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b48669d6bee8-YYC'})
2025-09-23 02:45:21,906 - DEBUG - request_id: None
2025-09-23 02:45:21,908 - INFO - Generated glue code: 
```java
@Given("^having executed:$")
public void givenHavingExecuted(String queryString) {
    ctx.clearCounts();
    lastResultRows = null;
    lastResultColumnNames = null;
    lastCompileTimeException = null;
    lastRuntimeException = null;
    try {
        CypherCompilerContext compilerContext = new CypherCompilerContext(ctx.getFunctions());
        query = VertexiumCypherQuery.parse(compilerContext, queryString);
        try {
            VertexiumCypherResult results = query.execute(ctx);
            lastResultRows = results
                .peek(row -> {
                    try {
                        Map<String, Object> scope = row.popScope();
                        throw new VertexiumCypherException("Scope should be empty:\n"
                            + scope.entrySet().stream().map(e -> e.getKey() + ": " + e.getValue()).collect(Collectors.joining("\n"))
                        );
                    } catch (Exception ex) {
                        // OK
                    }
                })
                .collect(Collectors.toList());
            lastResultColumnNames = results.getColumnNames();
        } catch (Exception ex) {
            lastRuntimeException = ex;
        }
    } catch (Exception ex) {
        lastCompileTimeException = ex;
    }
}
```
2025-09-23 02:45:21,921 - INFO - Step ID 612 CodeBLEU: {'codebleu': 0.6071522687855591, 'ngram_match_score': 0.10076438682062323, 'weighted_ngram_match_score': 0.7434855737622396, 'syntax_match_score': 0.6818181818181818, 'dataflow_match_score': 0.625}
2025-09-23 02:45:21,922 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:21 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b498b8ba01dc-YYC')])
2025-09-23 02:45:21,923 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:21,923 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:21,923 - INFO - Generating glue code for step ID 613
2025-09-23 02:45:21,927 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-673d7c5f-cbc9-4428-997d-ed04bb076132', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n    @Then("^the result should be:$")\nGlue Code:\n    @Then("^the result should be:$")\n    public void thenTheResultShouldBe(DataTable expected) throws Throwable {\n        if (lastCompileTimeException != null) {\n            throw lastCompileTimeException;\n        }\n        if (lastRuntimeException != null) {\n            throw lastRuntimeException;\n        }\n        List<String> columnNames = expected.raw().get(0);\n        if (expected.raw().size() > 0) {\n            List<List<String>> expectedRows = expected.raw().stream()\n                .skip(1)\n                .collect(Collectors.toList());\n            List<List<String>> foundRows = lastResultRows.stream()\n                .map(row -> lastResultColumnNames.stream()\n                    .map(row::get)\n                    .map(obj -> ctx.getResultWriter().columnValueToString(ctx, obj))\n                    .collect(Collectors.toList())\n                )\n                .collect(Collectors.toList());\n\n            expectedRows.sort(new RowComparator());\n            foundRows.sort(new RowComparator());\n\n            if (expectedRows.size() > 0) {\n                System.out.println("Expected");\n                System.out.println(String.join(", ", expected.raw().get(0)));\n                for (List<String> expectedRow : expectedRows) {\n                    System.out.println(String.join(", ", expectedRow));\n                }\n            }\n\n            System.out.println("Found");\n            System.out.println(String.join(", ", lastResultColumnNames));\n            for (List<String> foundRow : foundRows) {\n                System.out.println(String.join(", ", foundRow));\n            }\n\n            if (expectedRows.size() > 0) {\n                assertEquals(\n                    String.format(\n                        "Header count, expected (%s), found (%s)",\n                        String.join(", ", expected.raw().get(0)),\n                        String.join(", ", lastResultColumnNames)\n                    ),\n                    expected.raw().get(0).size(),\n                    lastResultColumnNames.size()\n                );\n                for (int colIdx = 0; colIdx < expected.raw().get(0).size(); colIdx++) {\n                    String expectedColumnName = expected.raw().get(0).get(colIdx);\n                    assertTrue(\n                        String.format(\n                            "Header mismatch (expected: %s, columnNames: %s)",\n                            expectedColumnName,\n                            String.join(", ", lastResultColumnNames)\n                        ),\n                        lastResultColumnNames.contains(expectedColumnName)\n                    );\n                }\n            }\n\n            assertEquals("result count", expectedRows.size(), foundRows.size());\n\n            if (expectedRows.size() > 0) {\n                for (int row = 0; row < expectedRows.size(); row++) {\n                    List<String> expectedRow = expectedRows.get(row);\n                    List<String> foundRow = foundRows.get(row);\n                    for (int col = 0; col < expectedRow.size(); col++) {\n                        String expectedColumn = expectedRow.get(col);\n                        String foundColumn = foundRow.get(col);\n                        assertColumnValue(row, col, expectedColumn, foundColumn);\n                    }\n                }\n            }\n        }\n    }\n\nExample 2:\nGherkin Step:\n\n    @Then("^the result should be empty$")\nGlue Code:\n    @Then("^the result should be empty$")\n    public void thenTheResultsShouldBeEmpty() throws Throwable {\n        if (lastCompileTimeException != null) {\n            throw lastCompileTimeException;\n        }\n        if (lastRuntimeException != null) {\n            throw lastRuntimeException;\n        }\n        assertEquals("number of rows", 0, lastResultRows.size());\n    }\n\nExample 3:\nGherkin Step:\n\n    @Then("^the result should be \\\\(ignoring element order for lists\\\\):$")\nGlue Code:\n    @Then("^the result should be \\\\(ignoring element order for lists\\\\):$")\n    public void thenTheResultShouldBeIgnoringElementOrderForLists(DataTable expected) throws Throwable {\n        thenTheResultShouldBe(expected);\n    }\n\nExample 4:\nGherkin Step:\n\n    @Then("^the side effects should be:$")\nGlue Code:\n    @Then("^the side effects should be:$")\n    public void thenTheSideEffectsShouldBe(DataTable table) {\n        for (List<String> tableRow : table.raw()) {\n            if (tableRow.size() == 2 && tableRow.get(0).equals("+nodes")) {\n                int plusNodes = Integer.parseInt(tableRow.get(1));\n                assertEquals("+nodes", plusNodes, ctx.getPlusNodeCount());\n            } else if (tableRow.size() == 2 && tableRow.get(0).equals("+relationships")) {\n                int plusRelationships = Integer.parseInt(tableRow.get(1));\n                assertEquals("+relationships", plusRelationships, ctx.getPlusRelationshipCount());\n            } else if (tableRow.size() == 2 && tableRow.get(0).equals("+labels")) {\n                int plusLabels = Integer.parseInt(tableRow.get(1));\n                assertEquals("+labels", plusLabels, ctx.getPlusLabelCount());\n            } else if (tableRow.size() == 2 && tableRow.get(0).equals("+properties")) {\n                int plusProperties = Integer.parseInt(tableRow.get(1));\n                assertEquals("+properties", plusProperties, ctx.getPlusPropertyCount());\n            } else if (tableRow.size() == 2 && tableRow.get(0).equals("-nodes")) {\n                int minusNodes = Integer.parseInt(tableRow.get(1));\n                assertEquals("-nodes", minusNodes, ctx.getMinusNodeCount());\n            } else if (tableRow.size() == 2 && tableRow.get(0).equals("-relationships")) {\n                int minusRelationships = Integer.parseInt(tableRow.get(1));\n                assertEquals("-relationships", minusRelationships, ctx.getMinusRelationshipCount());\n            } else if (tableRow.size() == 2 && tableRow.get(0).equals("-labels")) {\n                int minusLabels = Integer.parseInt(tableRow.get(1));\n                assertEquals("-labels", minusLabels, ctx.getMinusLabelCount());\n            } else if (tableRow.size() == 2 && tableRow.get(0).equals("-properties")) {\n                int minusProperties = Integer.parseInt(tableRow.get(1));\n                assertEquals("-properties", minusProperties, ctx.getMinusPropertyCount());\n            } else {\n                fail("Unhandled side effect row: " + tableRow.stream().collect(Collectors.joining(",")));\n            }\n        }\n    }\n\nExample 5:\nGherkin Step:\n\n    @Given("^any graph$")\nGlue Code:\n    @Given("^any graph$")\n    public void givenAnyGraph() {\n        createGraph();\n    }\n\nExample 6:\nGherkin Step:\n\n    @Given("^an empty graph$")\nGlue Code:\n    @Given("^an empty graph$")\n    public void givenEmptyGraph() {\n        createGraph();\n    }\n\nExample 7:\nGherkin Step:\n\n    @Given("^the binary-tree-(\\\\d+) graph$")\nGlue Code:\n    @Given("^the binary-tree-(\\\\d+) graph$")\n    public void givenTheBinaryTreeGraph(int number) throws Throwable {\n        createGraph();\n        String resourceName = String.format("/org/vertexium/cypher/tck/graphs/binary-tree-%d/binary-tree-%d.cypher", number, number);\n        InputStream treeIn = this.getClass().getResourceAsStream(resourceName);\n        if (treeIn == null) {\n            throw new VertexiumException("Could not find \'" + resourceName + "\'");\n        }\n        String cyp = IOUtils.toString(treeIn);\n        CypherCompilerContext compilerContext = new CypherCompilerContext(ctx.getFunctions());\n        VertexiumCypherQuery.parse(compilerContext, cyp).execute(ctx);\n    }\n\nExample 8:\nGherkin Step:\n\n    @Given("^parameters are:$")\nGlue Code:\n    @Given("^parameters are:$")\n    public void givenParametersAre(DataTable parameters) {\n        for (List<String> parameterRow : parameters.raw()) {\n            String key = parameterRow.get(0);\n            String valueString = parameterRow.get(1);\n            Object value = parseParameterValue(valueString);\n            ctx.setParameter(key, value);\n        }\n    }\n\nExample 9:\nGherkin Step:\n\n    @When("^executing(.*)query:$")\nGlue Code:\n    @When("^executing(.*)query:$")\n    public void whenExecutingQuery(String queryName, String queryString) {\n        ctx.clearCounts();\n        lastResultRows = null;\n        lastResultColumnNames = null;\n        lastCompileTimeException = null;\n        lastRuntimeException = null;\n        try {\n            CypherCompilerContext compilerContext = new CypherCompilerContext(ctx.getFunctions());\n            query = VertexiumCypherQuery.parse(compilerContext, queryString);\n            try {\n                VertexiumCypherResult results = query.execute(ctx);\n                lastResultRows = results\n                    .peek(row -> {\n                        try {\n                            Map<String, Object> scope = row.popScope();\n                            throw new VertexiumCypherException("Scope should be empty:\\n"\n                                + scope.entrySet().stream().map(e -> e.getKey() + ": " + e.getValue()).collect(Collectors.joining("\\n"))\n                            );\n                        } catch (Exception ex) {\n                            // OK\n                        }\n                    })\n                    .collect(Collectors.toList());\n                lastResultColumnNames = results.getColumnNames();\n            } catch (Exception ex) {\n                lastRuntimeException = ex;\n            }\n        } catch (Exception ex) {\n            lastCompileTimeException = ex;\n        }\n    }\n\nExample 10:\nGherkin Step:\n\n    @Given("^having executed:$")\nGlue Code:\n    @Given("^having executed:$")\n    public void givenHavingExecuted(String queryString) {\n        CypherCompilerContext compilerContext = new CypherCompilerContext(ctx.getFunctions());\n        VertexiumCypherQuery.parse(compilerContext, queryString).execute(ctx).count();\n    }\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n    @Then("^the result should be, in order:$")\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:21,929 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:21,929 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:21,930 - DEBUG - send_request_headers.complete
2025-09-23 02:45:21,930 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:21,930 - DEBUG - send_request_body.complete
2025-09-23 02:45:21,930 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:21,989 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:21 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b4982e5301e4-YYC')])
2025-09-23 02:45:21,990 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:21,990 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:22,011 - DEBUG - receive_response_body.complete
2025-09-23 02:45:22,012 - DEBUG - response_closed.started
2025-09-23 02:45:22,012 - DEBUG - response_closed.complete
2025-09-23 02:45:22,012 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:21 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b4950d6701e2-YYC'})
2025-09-23 02:45:22,012 - DEBUG - request_id: None
2025-09-23 02:45:22,014 - INFO - Generated glue code: 
```java
@When("^(?:I |)click on \"([^\"]*)\"$")
public void clickOn(String name) {
    getUI(name, HasClick.class).click();
}
```
2025-09-23 02:45:22,017 - INFO - Step ID 439 CodeBLEU: {'codebleu': 0.6213070521293573, 'ngram_match_score': 0.45723134461864345, 'weighted_ngram_match_score': 0.5558391766749284, 'syntax_match_score': 0.8, 'dataflow_match_score': 0.5}
2025-09-23 02:45:22,018 - INFO - Generating glue code for step ID 440
2025-09-23 02:45:22,022 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-e0ed60fb-547d-4b1d-bc40-57de8e02211b', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n    @When("^(?:I |)set \\"([^\\"]*)\\" value to ([0-9]+)$")\nGlue Code:\n    @When("^(?:I |)set \\"([^\\"]*)\\" value to ([0-9]+)$")\n    public void installTo(String name, double value) {\n        range(name).setupValue(value);\n    }\n\nExample 2:\nGherkin Step:\n    @When("^I set \\"([^\\"]*)\\" to \\"([^\\"]*)\\" color$")\nGlue Code:\n    public void preSetColor(String name, String color) {\n        colorPicker(name).setColor(color);\n    }\n\n    @Then("^the \\"([^\\"]*)\\" has color \\"([^\\"]*)\\"$")\n    public void hasColor(String name, String color) {\n\nExample 3:\nGherkin Step:\n\n    @Then("^the \\"([^\\"]*)\\" attribute \\"([^\\"]*)\\" equals to \\"([^\\"]*)\\"$")\nGlue Code:\n    @Then("^the \\"([^\\"]*)\\" attribute \\"([^\\"]*)\\" equals to \\"([^\\"]*)\\"$")\n    public void attributeEquals(String name, String attrName, String attrValue) {\n        isAssert(name).attr(attrName, attrValue);\n    }\n\nExample 4:\nGherkin Step:\n\n    @Then("^the \\"([^\\"]*)\\" attribute \\"([^\\"]*)\\" matches to \\"([^\\"]*)\\"$")\nGlue Code:\n    @Then("^the \\"([^\\"]*)\\" attribute \\"([^\\"]*)\\" matches to \\"([^\\"]*)\\"$")\n    public void attributeMatchRegex(String name, String attrName, String regex) {\n        isAssert(name).attr(attrName, matchesPattern(regex));\n    }\n\nExample 5:\nGherkin Step:\n\n    @Then("^the \\"([^\\"]*)\\" css \\"([^\\"]*)\\" equals to \\"([^\\"]*)\\"$")\nGlue Code:\n    @Then("^the \\"([^\\"]*)\\" css \\"([^\\"]*)\\" equals to \\"([^\\"]*)\\"$")\n    public void cssEquals(String name, String attrName, String cssValue) {\n        isAssert(name).css(attrName, cssValue);\n    }\n\nExample 6:\nGherkin Step:\n\n    @Then("^the \\"([^\\"]*)\\" css \\"([^\\"]*)\\" matches to \\"([^\\"]*)\\"$")\nGlue Code:\n    @Then("^the \\"([^\\"]*)\\" css \\"([^\\"]*)\\" matches to \\"([^\\"]*)\\"$")\n    public void cssMatchRegex(String name, String css, String regex) {\n        isAssert(name).css(css, matchesPattern(regex));\n    }\n\nExample 7:\nGherkin Step:\n\n    @Given("^the \\"([^\\"]*)\\" was set to \\"([^\\"]*)\\" color$")\nGlue Code:\n    @Given("^the \\"([^\\"]*)\\" was set to \\"([^\\"]*)\\" color$")\n    @When("^I set \\"([^\\"]*)\\" to \\"([^\\"]*)\\" color$")\n    public void preSetColor(String name, String color) {\n        colorPicker(name).setColor(color);\n    }\n\nExample 8:\nGherkin Step:\n\n    @Then("^the \\"([^\\"]*)\\" placeholder equals to \\"([^\\"]*)\\"$")\nGlue Code:\n    @Then("^the \\"([^\\"]*)\\" placeholder equals to \\"([^\\"]*)\\"$")\n    public void placeholderEquals(String name, String placeholder) {\n        isAssert(name).attr("placeholder", placeholder);\n    }\n\nExample 9:\nGherkin Step:\n\n    @Then("^the \\"([^\\"]*)\\" placeholder matches to \\"([^\\"]*)\\"$")\nGlue Code:\n    @Then("^the \\"([^\\"]*)\\" placeholder matches to \\"([^\\"]*)\\"$")\n    public void placeholderMatchRegex(String name, String regex) {\n        isAssert(name).attr("placeholder", matchesPattern(regex));\n    }\n\nExample 10:\nGherkin Step:\n\n    @Then("^the \\"([^\\"]*)\\" text equals to \\"([^\\"]*)\\"$")\nGlue Code:\n    @Then("^the \\"([^\\"]*)\\" text equals to \\"([^\\"]*)\\"$")\n    public void textEquals(String name, String value) {\n        textAssert(name).text(value);\n    }\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n    @When("^(?:I |)send keys \\"([^\\"]*)\\" to \\"([^\\"]*)\\"$")\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:22,022 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:22 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b49608cf01de-YYC')])
2025-09-23 02:45:22,023 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:22,024 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:22,025 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:22,025 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:22,026 - DEBUG - send_request_headers.complete
2025-09-23 02:45:22,026 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:22,026 - DEBUG - send_request_body.complete
2025-09-23 02:45:22,026 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:22,043 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:22 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b4984e414214-YYC')])
2025-09-23 02:45:22,044 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:22 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b499bbb6bf01-YYC')])
2025-09-23 02:45:22,044 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:22,045 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:22,045 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:22,046 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:22,071 - DEBUG - receive_response_body.complete
2025-09-23 02:45:22,071 - DEBUG - response_closed.started
2025-09-23 02:45:22,071 - DEBUG - response_closed.complete
2025-09-23 02:45:22,072 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:20 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b48dea4001d4-YYC'})
2025-09-23 02:45:22,072 - DEBUG - request_id: None
2025-09-23 02:45:22,073 - INFO - Generated glue code: 
```java
@Given("^a current request \"([^\"]*)\" \"([^\"]*)\" with servlet path \"([^\"]*)\" and context path \"([^\"]*)\"$")
public void a_current_request_with_servlet_path_and_context_path(String method, String url, String servletPath, String contextPath) throws Throwable {

    MockHttpServletRequest request = new MockHttpServletRequest(this.wac.getServletContext(), method, url);
    request.setServletPath(servletPath);
    request.setContextPath(contextPath);
    request.addHeader("host", host);

    ServletRequestAttributes requestAttributes = new ServletRequestAttributes(request);
    RequestContextHolder.setRequestAttributes(requestAttributes);

    this.requestAdapter = HTTPRequestAdapter.parseRequest(request);
}
```
2025-09-23 02:45:22,086 - INFO - Step ID 3 CodeBLEU: {'codebleu': 0.4285291544116397, 'ngram_match_score': 0.4412252986107076, 'weighted_ngram_match_score': 0.47739957883902245, 'syntax_match_score': 0.5416666666666666, 'dataflow_match_score': 0.3}
2025-09-23 02:45:22,086 - INFO - Generating glue code for step ID 4
2025-09-23 02:45:22,090 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-b6294225-2b21-4312-8489-61ad3182197d', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n\n\n    @When("^I send the HTTP request \\"([^\\"]*)\\" \\"([^\\"]*)\\" to host \\"([^\\"]*)\\"$")\nGlue Code:\n\n\n    @When("^I send the HTTP request \\"([^\\"]*)\\" \\"([^\\"]*)\\" to host \\"([^\\"]*)\\"$")\n    public void I_send_the_HTTP_request_to_host(String method, String url, String host) throws Throwable {\n\n        this.host = host;\n        I_send_the_HTTP_request(method,url);\n    }\n\nExample 2:\nGherkin Step:\n\n    @When("^I send the HTTP request \\"([^\\"]*)\\" \\"([^\\"]*)\\" with headers:$")\nGlue Code:\n    @When("^I send the HTTP request \\"([^\\"]*)\\" \\"([^\\"]*)\\" with headers:$")\n    public void I_send_the_HTTP_request_with_headers(String method, String url, List<HTTPHeader> headers) throws Throwable {\n\n        this.headers = headers;\n        I_send_the_HTTP_request(method,url);\n    }\n\nExample 3:\nGherkin Step:\n\n    @When("^I send the HTTP request \\"([^\\"]*)\\" \\"([^\\"]*)\\" with query params:$")\nGlue Code:\n    @When("^I send the HTTP request \\"([^\\"]*)\\" \\"([^\\"]*)\\" with query params:$")\n    public void I_send_the_HTTP_request_with_query_params(String method, String url, List<HTTPParam> queryParams) throws Throwable {\n\n        this.queryParams = queryParams;\n        I_send_the_HTTP_request(method,url);\n    }\n\nExample 4:\nGherkin Step:\n\n    @When("^I send the HTTP request \\"([^\\"]*)\\" \\"([^\\"]*)\\" with a null pathInfo$")\nGlue Code:\n    @When("^I send the HTTP request \\"([^\\"]*)\\" \\"([^\\"]*)\\" with a null pathInfo$")\n    public void I_send_the_HTTP_request_with_a_null_pathInfo(String method, String url) throws Throwable {\n\n        request = new MockHttpServletRequest(this.wac.getServletContext());\n        request.setMethod(method);\n        request.setContextPath(this.contextPath);\n        request.setServletPath(url.replaceFirst(this.contextPath,""));\n        request.addHeader("host", host);\n\n        for (HTTPHeader header : headers) {\n            request.addHeader(header.name, header.value);\n        }\n\n        for (HTTPParam param : queryParams) {\n            request.addParameter(param.name, param.value);\n        }\n\n        request.setPathInfo(null);\n\n\t    ServletRequestAttributes requestAttributes = new ServletRequestAttributes(request);\n\t    RequestContextHolder.setRequestAttributes(requestAttributes);\n\n        chain = this.hm.getHandler(request);\n    }\n\nExample 5:\nGherkin Step:\n\n    @Then("^the server should send an HTTP response with status \\"([^\\"]*)\\"$")\nGlue Code:\n    @Then("^the server should send an HTTP response with status \\"([^\\"]*)\\"$")\n    public void the_server_should_send_an_HTTP_response_with_status(int status) throws Throwable {\n\n        RouterHandler handler = null;\n        MockHttpServletResponse response = new MockHttpServletResponse();\n\n        if(chain != null) {\n            handler = (RouterHandler) chain.getHandler();\n        }\n\n        HandlerInterceptor[] interceptors = chain.getInterceptors();\n\n        for(HandlerInterceptor interceptor : Arrays.asList(interceptors)) {\n            interceptor.preHandle(request,response, handler);\n        }\n\n        ha.handle(request, response, handler);\n        assertThat(response.getStatus()).isEqualTo(status);\n    }\n\nExample 6:\nGherkin Step:\n\n    @Given("^I have a web application with the config locations \\"([^\\"]*)\\"$")\nGlue Code:\n    @Given("^I have a web application with the config locations \\"([^\\"]*)\\"$")\n    public void I_have_a_web_applications_with_the_config_locations(String locations) throws Throwable {\n        I_have_a_web_application_configured_locations_servletPath_contextPath(locations,"","");\n    }\n\nExample 7:\nGherkin Step:\n\n    @Then("^the request should be handled by \\"([^\\"]*)\\"$")\nGlue Code:\n    @Then("^the request should be handled by \\"([^\\"]*)\\"$")\n    public void the_request_should_be_handled_by(String controllerAction) throws Throwable {\n\n        assertThat(chain).isNotNull();\n        RouterHandler handler = (RouterHandler) chain.getHandler();\n\n        assertThat(handler).isNotNull();\n        assertThat(handler.getRoute()).isNotNull();\n        assertThat(handler.getRoute().action).isNotNull().isEqualToIgnoringCase(controllerAction);\n    }\n\nExample 8:\nGherkin Step:\n\n    @When("^I add an argument \\"([^\\"]*)\\"$")\nGlue Code:\n    @When("^I add an argument \\"([^\\"]*)\\"$")\n    public void I_add_a_argument(String argument) throws Throwable {\n        linkBuilder = linkBuilder.slash(argument);\n    }\n\nExample 9:\nGherkin Step:\n\n    @Given("^a current request \\"([^\\"]*)\\" \\"([^\\"]*)\\" with servlet path \\"([^\\"]*)\\" and context path \\"([^\\"]*)\\"$")\nGlue Code:\n    @Given("^a current request \\"([^\\"]*)\\" \\"([^\\"]*)\\" with servlet path \\"([^\\"]*)\\" and context path \\"([^\\"]*)\\"$")\n    public void a_current_request_with_servlet_path_and_context_path(String method, String url, String servletPath, String contextPath) throws Throwable {\n\n        MockServletContext sc = new MockServletContext();\n        sc.setContextPath(contextPath);\n\n        int pathLength = 0;\n        if(contextPath.length() > 0) {\n            pathLength += contextPath.length();\n        }\n\n        if(servletPath.length() > 0) {\n            pathLength += servletPath.length();\n        }\n\n        request = new MockHttpServletRequest(sc, method, url);\n        request.setContextPath(contextPath);\n        request.setServletPath(servletPath);\n        request.addHeader("host", host);\n\n        request.setPathInfo(url.substring(pathLength));\n\n\t    ServletRequestAttributes requestAttributes = new ServletRequestAttributes(request);\n\t    RequestContextHolder.setRequestAttributes(requestAttributes);\n\n        HTTPRequestAdapter.parseRequest(request);\n    }\n\nExample 10:\nGherkin Step:\n\n    @When("^I try to reverse route \\"([^\\"]*)\\"$")\nGlue Code:\n    @When("^I try to reverse route \\"([^\\"]*)\\"$")\n    public void I_try_to_reverse_route(String action) throws Throwable {\n        resolvedAction = Router.reverse(action);\n    }\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n\n\n    @When("^I send the HTTP request \\"([^\\"]*)\\" \\"([^\\"]*)\\"$")\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:22,091 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:22,091 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:22,092 - DEBUG - send_request_headers.complete
2025-09-23 02:45:22,092 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:22,092 - DEBUG - send_request_body.complete
2025-09-23 02:45:22,092 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:22,132 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:22 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b49aab4fbed1-YYC')])
2025-09-23 02:45:22,132 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:22,133 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:22,254 - DEBUG - receive_response_body.complete
2025-09-23 02:45:22,255 - DEBUG - response_closed.started
2025-09-23 02:45:22,255 - DEBUG - response_closed.complete
2025-09-23 02:45:22,255 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:21 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b4958e54420e-YYC'})
2025-09-23 02:45:22,255 - DEBUG - request_id: None
2025-09-23 02:45:22,257 - INFO - Generated glue code: 
```java
@Then("we should see the expected number of tickets in analytics for SAST")
public void verifyReportSAST() throws CheckmarxException {
    ScanResultsReport report = getLatestReport();
    assertScanSASTSummary(report);
    Assert.assertEquals("Scan ID does not match !", Integer.valueOf(SCAN_ID), Integer.valueOf(report.getScanId()));
}
```
2025-09-23 02:45:22,263 - INFO - Step ID 624 CodeBLEU: {'codebleu': 0.8227966546351879, 'ngram_match_score': 0.6985984791213941, 'weighted_ngram_match_score': 0.6796948646161053, 'syntax_match_score': 0.8235294117647058, 'dataflow_match_score': 0.8888888888888888}
2025-09-23 02:45:22,263 - INFO - Generating glue code for step ID 625
2025-09-23 02:45:22,269 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-379b12b1-7c5f-4e5d-bbc1-50f8835500dc', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n    @Then("we should see the expected number of tickets in analytics for SAST")\nGlue Code:\n    public void verifyReportSAST() throws CheckmarxException {\n        ScanResultsReport report = getLatestReport();\n        assertScanSASTSummary(report);\n        assertScanSASTResults(report);\n        Assert.assertEquals("Scan ID does not match !", Integer.valueOf(SCAN_ID), Integer.valueOf(report.getScanId()));\n    }\n\n    @Then("we should see the expected number of tickets in analytics for SCA")\n    public void verifyReportSCA() throws CheckmarxException {\n\nExample 2:\nGherkin Step:\n\n\n\n    @Then("we should see the expected number of results in comments")\nGlue Code:\n\n\n    @Then("we should see the expected number of results in comments")\n    public void verifyComments(){\n\n        int actaulHighCounter = StringUtils.countMatches(comment, "HIGH");\n        int actualMediumCounter = StringUtils.countMatches(comment, "MEDIUM");\n        int actaulLowCounter = StringUtils.countMatches(comment, "LOW");\n\n        \n        if (scannerType.equalsIgnoreCase(AST_SCA)) {\n            Assert.assertTrue(PullRequestCommentsHelper.isSastAndScaComment(comment) );\n\n            Assert.assertEquals(scanResultsToInject.getAstResults().getSummary().getHighVulnerabilityCount()+\n                    scanResultsToInject.getScaResults().getSummary().getFindingCounts().get(Filter.Severity.HIGH), actaulHighCounter);\n            Assert.assertEquals(scanResultsToInject.getAstResults().getSummary().getMediumVulnerabilityCount() +\n                    scanResultsToInject.getScaResults().getSummary().getFindingCounts().get(Filter.Severity.MEDIUM), actualMediumCounter);\n            \n            // add 1 to the results \n            Assert.assertEquals(scanResultsToInject.getAstResults().getSummary().getLowVulnerabilityCount()+ 1 +\n                    scanResultsToInject.getScaResults().getSummary().getFindingCounts().get(Filter.Severity.LOW), actaulLowCounter);\n\n        }\n        else if (scannerType.equalsIgnoreCase(AST)) {\n            \n            Assert.assertTrue(PullRequestCommentsHelper.isSastFindingsComment(comment));\n\n            int expectedHigh = getExpectedResults(scanResultsToInject.getAstResults().getSummary().getHighVulnerabilityCount());\n            int expectedMedium = getExpectedResults(scanResultsToInject.getAstResults().getSummary().getMediumVulnerabilityCount());\n            int expectedLow = getExpectedResults(scanResultsToInject.getAstResults().getSummary().getLowVulnerabilityCount());\n            \n            Assert.assertEquals(expectedHigh  , actaulHighCounter);\n            Assert.assertEquals(expectedMedium  , actualMediumCounter);\n            Assert.assertEquals(expectedLow , actaulLowCounter);\n    \n            if(!comment.contains(NO_POLICY_VIOLATION_MESSAGE)) {\n                Assert.assertTrue(comment.contains(AST_WEB_REPORT_LINK));\n            }\n        }\n\n        \n    }\n\nExample 3:\nGherkin Step:\n\n    @Then("the expected number of sanitized vulnerabilities are {int}")\nGlue Code:\n    @Then("the expected number of sanitized vulnerabilities are {int}")\n    public void validateFilteredResults(int expectedResults) {\n        Assert.assertEquals(expectedResults, scaResults.getFindings().size());\n    }\n\nExample 4:\nGherkin Step:\n\n    @Then("a matching ticket creation data should be recorded in the analytics json file")\nGlue Code:\n    @Then("a matching ticket creation data should be recorded in the analytics json file")\n    public void validateAnalyticsJsonFile() throws CheckmarxException {\n        List<String> currentNewIssuesList = jiraService.getCurrentNewIssuesList();\n        JiraTicketsReport jiraTicketsReport = (JiraTicketsReport) jsonLoggerTestUtils.getReportNode(JiraTicketsReport.OPERATION, JiraTicketsReport.class);\n        HashMap<String, List<String>> jiraTickets = jiraTicketsReport.getJiraTickets();\n\n        int totalNewTickets = jiraTickets.get(JIRA_NEW_STATE).size();\n        Assert.assertEquals("Expected to find 1 new JIRA opened ticket record on analytics logs , but found different count: " + totalNewTickets, 1, totalNewTickets);\n        Assert.assertEquals("Actual JIRA new ticket\'s project key on analytics logs is different from expected",\n                jiraService.getCurrentNewIssuesList(), jiraTickets.get(JIRA_NEW_STATE));\n    }\n\nExample 5:\nGherkin Step:\n\n    @Then("a matching ticket updating data should be recorded in the analytics json file")\nGlue Code:\n    @Then("a matching ticket updating data should be recorded in the analytics json file")\n    public void validateAnalyticsJsonFile() throws CheckmarxException {\n        JiraTicketsReport jiraTicketsReport = (JiraTicketsReport) jsonLoggerTestUtils.getReportNode(JiraTicketsReport.OPERATION, JiraTicketsReport.class);\n        HashMap<String, List<String>> jiraTickets = jiraTicketsReport.getJiraTickets();\n\n        int totalUpdatedTickets = jiraTickets.get(JIRA_UPDATED_STATE).size();\n        int totalClosedTickets = jiraTickets.get(JIRA_CLOSED_STATE).size();\n\n        Assert.assertEquals("Expected to find 1 new JIRA updated ticket record on analytics logs , but found different count: " + totalUpdatedTickets, 1, totalUpdatedTickets);\n        Assert.assertEquals("Actual JIRA updated ticket\'s project key on analytics logs is different from expected",\n                jiraService.getCurrentUpdatedIssuesList(), jiraTickets.get(JIRA_UPDATED_STATE));\n\n        Assert.assertEquals("Expected to find 1 new JIRA closed ticket record on analytics logs , but found different count: " + totalClosedTickets, 1, totalClosedTickets);\n        Assert.assertEquals("Actual JIRA closed ticket\'s project key on analytics logs is different from expected",\n                jiraService.getCurrentClosedIssuesList(), jiraTickets.get(JIRA_CLOSED_STATE));\n    }\n\nExample 6:\nGherkin Step:\n\n    @And("each issue contains {} results and the same number of details")\nGlue Code:\n    @And("each issue contains {} results and the same number of details")\n    public void eachIssueContainsNumberOfDetails(int expectedResultCount) throws IOException {\n        verifyCxFlowResultCount(expectedResultCount, true);\n    }\n\nExample 7:\nGherkin Step:\n\n    @Then("we should have open and closed statuses in jira properties bean")\nGlue Code:\n    @Then("we should have open and closed statuses in jira properties bean")\n    public void verifyJiraClosedAndOpenStatus() {\n        List<String> closedStatus = jiraProperties.getClosedStatus();\n        Assert.assertNotNull(closedStatus);\n        Assert.assertFalse(closedStatus.isEmpty());\n    }\n\nExample 8:\nGherkin Step:\n\n    @Then("new 8 tickets should be created")\nGlue Code:\n    @Then("new 8 tickets should be created")\n    public void ticketsCreationValidation() throws IOException {\n        Assert.assertEquals("Azure new SCA results tickets number is not as expected",\n                8, azureDevopsClient.getIssueCount());\n    }\n\nExample 9:\nGherkin Step:\n\n    @Then("we should use te values from yml")\nGlue Code:\n    @Then("we should use te values from yml")\n    public void verifyOpenAndClosedStatuses() {\n        Assert.assertNotNull("Did not load closed statuses from YML (null)",jiraProperties.getClosedStatus());\n        Assert.assertNotNull("Did not load open statuses from YML",jiraProperties.getOpenStatus());\n        Assert.assertTrue("Did not load closed statuses from YML (empty list)",jiraProperties.getClosedStatus().size() > 0);\n        Assert.assertTrue("Did not load open statuses from YML (empty list)",jiraProperties.getOpenStatus().size() > 0);\n        for (String status: jiraProperties.getOpenStatus()) {\n            Assert.assertTrue(status.contains("TEST-OPEN"));\n        }\n        for (String status: jiraProperties.getClosedStatus()) {\n            Assert.assertTrue(status.contains("TEST-CLOSED"));\n        }\n    }\n\nExample 10:\nGherkin Step:\n\n    @Then("new JIRA tickets should be open respectively")\nGlue Code:\n    @Then("new JIRA tickets should be open respectively")\n    public void validateJiraTicketsAreGettingOpen() {\n        int actualNumberOfIssuesInProject = jiraUtils.getNumberOfIssuesInProject(PROJECT_KEY);\n\n        Assert.assertEquals("Actual new AST-SAST tickets in JIRA are not as expected",\n                EXPECTED_TICKETS_NUM, actualNumberOfIssuesInProject);\n    }\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n    @Then("we should see the expected number of tickets in analytics for SCA")\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:22,271 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:22,272 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:22,272 - DEBUG - send_request_headers.complete
2025-09-23 02:45:22,272 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:22,272 - DEBUG - send_request_body.complete
2025-09-23 02:45:22,273 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:22,389 - DEBUG - receive_response_body.complete
2025-09-23 02:45:22,389 - DEBUG - response_closed.started
2025-09-23 02:45:22,389 - DEBUG - response_closed.complete
2025-09-23 02:45:22,389 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:21 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b4982e5301e4-YYC'})
2025-09-23 02:45:22,389 - DEBUG - request_id: None
2025-09-23 02:45:22,391 - INFO - Generated glue code: 
```java
@Given("^I press (.+)$")
public void I_press(String what) {
  calc.push(what);
}
```
2025-09-23 02:45:22,394 - INFO - Step ID 1194 CodeBLEU: {'codebleu': 0.8807055727492799, 'ngram_match_score': 0.8070557274927982, 'weighted_ngram_match_score': 1.0, 'syntax_match_score': 0.75, 'dataflow_match_score': 1.0}
2025-09-23 02:45:22,394 - INFO - Generating glue code for step ID 1195
2025-09-23 02:45:22,398 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-377c48a4-1452-4780-9458-fd232ebf0229', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n  @Then("the result is {int}")\nGlue Code:\n  @Then("the result is {int}")\n  public void the_result_is(double expected) {\n    assertEquals(expected, calc.value());\n  }\n\nExample 2:\nGherkin Step:\n\n  @Then("the result is {int}")\nGlue Code:\n  @Then("the result is {int}")\n  public void the_result_is(double expected) {\n    assertEquals(expected, calc.value());\n  }\n\nExample 3:\nGherkin Step:\n  @Then("the result is {int}")\nGlue Code:\n  public void the_result_is(double expected) {\n    assertEquals(expected, calc.value());\n  }\n  static class Calculator {\n\nExample 4:\nGherkin Step:\n\n  @When("I add {int} and {int}")\nGlue Code:\n  @When("I add {int} and {int}")\n  public void adding(int arg1, int arg2) {\n    calc.push(arg1);\n    calc.push(arg2);\n    calc.push("+");\n  }\n\nExample 5:\nGherkin Step:\n\n  @When("I add {int} and {int}")\nGlue Code:\n  @When("I add {int} and {int}")\n  public void adding(int arg1, int arg2) {\n    calc.push(arg1);\n    calc.push(arg2);\n    calc.push("+");\n  }\n\nExample 6:\nGherkin Step:\n\n  @When("I add {int} and {int}")\nGlue Code:\n  @When("I add {int} and {int}")\n  public void adding(int arg1, int arg2) {\n    calc.push(arg1);\n    calc.push(arg2);\n    calc.push("+");\n  }\n\nExample 7:\nGherkin Step:\n\n  @When("I add {int} and {int}")\nGlue Code:\n  @When("I add {int} and {int}")\n  public void adding(int arg1, int arg2) {\n    calc.push(arg1);\n    calc.push(arg2);\n    calc.push("+");\n  }\n\nExample 8:\nGherkin Step:\n\n  @When("I slowly add {int} and {int}")\nGlue Code:\n  @When("I slowly add {int} and {int}")\n  public void addingSlow(int arg1, int arg2) throws InterruptedException {\n    Thread.sleep(1100);\n    calc.push(arg1);\n    calc.push(arg2);\n    calc.push("+");\n  }\n\nExample 9:\nGherkin Step:\n\n  @When("I slowly add {int} and {int}")\nGlue Code:\n  @When("I slowly add {int} and {int}")\n  public void addingSlow(int arg1, int arg2) throws InterruptedException {\n    Thread.sleep(1100);\n    calc.push(arg1);\n    calc.push(arg2);\n    calc.push("+");\n  }\n\nExample 10:\nGherkin Step:\n\n  @Given("a calculator I just turned on")\nGlue Code:\n  @Given("a calculator I just turned on")\n  public void a_calculator_I_just_turned_on() {\n    calc = new Calculator();\n  }\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n  @Then("the result is {int}")\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:22,399 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:22,400 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:22,400 - DEBUG - receive_response_body.complete
2025-09-23 02:45:22,401 - DEBUG - send_request_headers.complete
2025-09-23 02:45:22,401 - DEBUG - response_closed.started
2025-09-23 02:45:22,401 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:22,401 - DEBUG - response_closed.complete
2025-09-23 02:45:22,401 - DEBUG - send_request_body.complete
2025-09-23 02:45:22,402 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:22 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b49608cf01de-YYC'})
2025-09-23 02:45:22,402 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:22,402 - DEBUG - request_id: None
2025-09-23 02:45:22,404 - INFO - Generated glue code: 
```java
@When("^I open an individual member panel$")
public void i_open_an_individual_member_panel() {
    applicationSteps.addIndividualMember();
}
```
2025-09-23 02:45:22,407 - WARNING - WARNING: There is no reference data-flows extracted from the whole corpus, and the data-flow match score degenerates to 0. Please consider ignoring this score.
2025-09-23 02:45:22,407 - INFO - Step ID 1048 CodeBLEU: {'codebleu': 0.7922161430384482, 'ngram_match_score': 0.45723134461864345, 'weighted_ngram_match_score': 0.5558391766749284, 'syntax_match_score': 0.7272727272727273, 'dataflow_match_score': 0}
2025-09-23 02:45:22,407 - INFO - Generating glue code for step ID 1049
2025-09-23 02:45:22,411 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-75c2af44-be33-42c4-bd9c-4e808c42d4cd', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n    @When("^I am entering ownership information$")\nGlue Code:\n    @When("^I am entering ownership information$")\n    public void i_am_entering_ownership_information() throws IOException {\n        i_am_on_the_ownership_info_page();\n        applicationSteps.enterOrganizationOwnershipInfo();\n    }\n\nExample 2:\nGherkin Step:\n\n    @When("^I am on the personal info page$")\nGlue Code:\n    @When("^I am on the personal info page$")\n    public void i_am_on_the_personal_info_page() {\n        applicationSteps.prepareSpeechLanguagePathologistApplication();\n        applicationSteps.selectProviderType();\n    }\n\nExample 3:\nGherkin Step:\n\n    @When("^I am on the individual member info page$")\nGlue Code:\n    @When("^I am on the individual member info page$")\n    public void i_am_on_the_individual_member_info_page() throws IOException {\n        i_am_on_the_facility_credentials_page();\n        applicationSteps.enterLicenseInfo();\n        applicationSteps.uploadLicense();\n        applicationSteps.advanceFromOrganizationLicenseInfoToIndividualMemberInfo();\n    }\n\nExample 4:\nGherkin Step:\n\n    @When("^I am on the individual provider practice info page$")\nGlue Code:\n    @When("^I am on the individual provider practice info page$")\n    public void i_am_on_the_individual_provider_practice_info_page() throws IOException {\n        i_am_on_the_individual_provider_license_info_page();\n        i_indicate_i_am_not_a_provider_at_a_public_health_service_indian_hospital();\n        applicationSteps.enterLicenseInfo();\n        applicationSteps.uploadLicense();\n        applicationSteps.advanceFromIndividualLicenseInfoToPracticeInfo();\n    }\n\nExample 5:\nGherkin Step:\n\n    @When("^I enter an empty email address on the personal info page$")\nGlue Code:\n    @When("^I enter an empty email address on the personal info page$")\n    public void i_enter_an_empty_email_address_on_the_personal_info_page() {\n        applicationSteps.enterEmptyEmailAddress();\n    }\n\nExample 6:\nGherkin Step:\n\n    @When("I am on the individual provider license info page")\nGlue Code:\n    @When("I am on the individual provider license info page")\n    public void i_am_on_the_individual_provider_license_info_page() {\n        i_am_on_the_personal_info_page();\n        applicationSteps.enterIndividualPersonalInfo();\n        applicationSteps.advanceFromIndividualPersonalInfoToLicenseInfo();\n    }\n\nExample 7:\nGherkin Step:\n\n    @When("^I am on the organization page$")\nGlue Code:\n    @When("^I am on the organization page$")\n    public void i_am_on_the_organization_page() {\n        applicationSteps.prepareHeadStart();\n        applicationSteps.selectProviderType();\n    }\n\nExample 8:\nGherkin Step:\n\n    @When("^I am on the Screenings page$")\nGlue Code:\n    @When("^I am on the Screenings page$")\n    public void i_am_on_the_screenings_page() {\n        generalSteps.clickLinkAssertTitle(".screeningsLink", "Screenings");\n    }\n\nExample 9:\nGherkin Step:\n\n    @Then("^I can move on from the personal info page with no errors$")\nGlue Code:\n    @Then("^I can move on from the personal info page with no errors$")\n    public void i_will_move_on_from_the_personal_info_page_with_no_errors() {\n        applicationSteps.advanceFromIndividualPersonalInfoToLicenseInfo();\n    }\n\nExample 10:\nGherkin Step:\n\n    @When("^I am on the facility credentials page$")\nGlue Code:\n    @When("^I am on the facility credentials page$")\n    public void i_am_on_the_facility_credentials_page() {\n        i_am_on_the_organization_page();\n        applicationSteps.enterOrganizationInfo();\n        applicationSteps.enterContactInfo();\n        applicationSteps.advanceFromOrganizationInfoToLicenseInfo();\n    }\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n    @When("^I am on the ownership info page$")\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:22,412 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:22,412 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:22,413 - DEBUG - send_request_headers.complete
2025-09-23 02:45:22,413 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:22,413 - DEBUG - send_request_body.complete
2025-09-23 02:45:22,413 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:22,455 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:22 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b49c1e8bbee8-YYC')])
2025-09-23 02:45:22,456 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:22,456 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:22,481 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:22 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b49cad1b01e2-YYC')])
2025-09-23 02:45:22,481 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:22,482 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:22,597 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:22 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b49d181801d4-YYC')])
2025-09-23 02:45:22,597 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:22,598 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:22,648 - DEBUG - receive_response_body.complete
2025-09-23 02:45:22,649 - DEBUG - response_closed.started
2025-09-23 02:45:22,649 - DEBUG - response_closed.complete
2025-09-23 02:45:22,649 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:21 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b498b8ba01dc-YYC'})
2025-09-23 02:45:22,649 - DEBUG - request_id: None
2025-09-23 02:45:22,651 - INFO - Generated glue code: 
```java
@And( "Comment is added" )
public void commentIsAdded() {
    webDriver.findElement(By.id("comment")).clear();
    webDriver.findElement(By.id("comment")).sendKeys("Diee");
    webDriver.findElement(By.id("submitComment")).click();
}
```
2025-09-23 02:45:22,657 - INFO - Step ID 89 CodeBLEU: {'codebleu': 0.2987456635652768, 'ngram_match_score': 0.2378812955514449, 'weighted_ngram_match_score': 0.312793730905921, 'syntax_match_score': 0.27586206896551724, 'dataflow_match_score': 0.3333333333333333}
2025-09-23 02:45:22,657 - INFO - Generating glue code for step ID 90
2025-09-23 02:45:22,661 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-e8d0989c-9f2c-4602-9bd8-c0b206e905b9', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n    @Given( "Bidding Freelancer logins" )\nGlue Code:\n    @Given( "Bidding Freelancer logins" )\n    public void freelancerLogins() {\n        emailRepository.deleteAll();\n        bidRepository.deleteAll();\n\n        webDriver.get( Utils.LOGIN_PAGE );\n        webDriver.findElement( By.id( "email" ) ).sendKeys( freelancer.getEmail() );\n        webDriver.findElement( By.id( "password" ) ).sendKeys( "password" );\n        webDriver.findElement( By.id( "submit" ) ).click();\n    }\n\nExample 2:\nGherkin Step:\n\n    @Given( "Dashboard Stakeholder logins" )\nGlue Code:\n    @Given( "Dashboard Stakeholder logins" )\n    public void stakeholderLogins() {\n        webDriver.get( Utils.LOGIN_PAGE );\n        webDriver.findElement( By.id( "email" ) ).sendKeys( "stakeholder@test.com" );\n        webDriver.findElement( By.id( "password" ) ).sendKeys( "password" );\n        webDriver.findElement( By.id( "submit" ) ).click();\n    }\n\nExample 3:\nGherkin Step:\n\n    @Given( "Close Dashboard Stakeholder logins" )\nGlue Code:\n    @Given( "Close Dashboard Stakeholder logins" )\n    public void closeDashboardStakeholderLogins() {\n        webDriver.get( Utils.LOGIN_PAGE );\n        webDriver.manage().window().maximize();\n\n        webDriver.findElement( By.id( "email" ) ).sendKeys( stakeholder.getEmail() );\n        webDriver.findElement( By.id( "password" ) ).sendKeys( "password" );\n        webDriver.findElement( By.id( "submit" ) ).click();\n    }\n\nExample 4:\nGherkin Step:\n\n    @Given( "Freelancer logins" )\nGlue Code:\n    @Given( "Freelancer logins" )\n    public void freelancerLogins() {\n        webDriver.get( Utils.LOGIN_PAGE );\n        webDriver.findElement( By.id( "email" ) ).sendKeys( "freelancer@test.com" );\n        webDriver.findElement( By.id( "password" ) ).sendKeys( "password" );\n        webDriver.findElement( By.id( "submit" ) ).click();\n    }\n\nExample 5:\nGherkin Step:\n\n    @Given( "Stakeholder logins" )\nGlue Code:\n    @Given( "Stakeholder logins" )\n    public void stakeholderLogins() {\n        webDriver.get( Utils.LOGIN_PAGE );\n        webDriver.findElement( By.id( "email" ) ).sendKeys( "stakeholder@test.com" );\n        webDriver.findElement( By.id( "password" ) ).sendKeys( "password" );\n        webDriver.findElement( By.id( "submit" ) ).click();\n    }\n\nExample 6:\nGherkin Step:\n\n    @And( "Bidding Close Browser" )\nGlue Code:\n    @And( "Bidding Close Browser" )\n    public void biddingCloseBrowser() {\n        webDriver.close();\n    }\n\nExample 7:\nGherkin Step:\n\n    @And( "Dashboard Stakeholder visits my projects page" )\nGlue Code:\n    @And( "Dashboard Stakeholder visits my projects page" )\n    public void stakeholderVisitsMyProjectsPage() {\n        webDriver.get( Utils.MY_PROJECTS_PAGE );\n    }\n\nExample 8:\nGherkin Step:\n\n    @Given("Proposal Stakeholder logs in")\nGlue Code:\n    @Given("Proposal Stakeholder logs in")\n    public void proposalStakeholderLogsIn() {\n        setUp();\n        emailRepository.deleteAll();\n        webDriver.manage().window().maximize();\n        webDriver.get( Utils.LOGIN_PAGE );\n        webDriver.findElement( By.id( "email" ) ).sendKeys( stakeholder.getEmail() );\n        webDriver.findElement( By.id( "password" ) ).sendKeys( "password" );\n        webDriver.findElement( By.id( "submit" ) ).click();\n    }\n\nExample 9:\nGherkin Step:\n\n    @Given( "User visits login page" )\nGlue Code:\n    @Given( "User visits login page" )\n    public void userVisitsLoginPage() {\n        webDriver.manage().window().maximize();\n        webDriver.get( Utils.LOGIN_PAGE );\n    }\n\nExample 10:\nGherkin Step:\n\n    @Given( "Admin visits users admin page" )\nGlue Code:\n    @Given( "Admin visits users admin page" )\n    public void adminVisitsUsersAdminPage() {\n        User user = Utils.getOrCreateTestUser( userService );\n\n        // setup user for this test (user must be disabled and have no emails)\n        user.setEnabled( false );\n        userRepository.save( user );\n        emailRepository.deleteAll( emailRepository.findAllByTo( user.getEmail() ) );\n\n        loginAsAdmin();\n\n        webDriver.get( Utils.USER_ADMIN_PANEL );\n    }\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n    @Given( "Bidding Stakeholder logins" )\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:22,662 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:22,662 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:22,663 - DEBUG - send_request_headers.complete
2025-09-23 02:45:22,663 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:22,663 - DEBUG - send_request_body.complete
2025-09-23 02:45:22,663 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:22,866 - DEBUG - receive_response_body.complete
2025-09-23 02:45:22,866 - DEBUG - response_closed.started
2025-09-23 02:45:22,866 - DEBUG - response_closed.complete
2025-09-23 02:45:22,866 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:16 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b477accebec2-YYC'})
2025-09-23 02:45:22,866 - DEBUG - request_id: None
2025-09-23 02:45:22,868 - INFO - Generated glue code: 
```java
@When("^set custom columns for C_Order( expecting error:|:)$")
public void setCustomColumnsForC_Order(@NonNull final DataTable dataTable)
{
    final List<Map<String, String>> tableRows = dataTable.asMaps(String.class, String.class);

    if (dataTable.asMaps().isEmpty())
    {
        // no rows, nothing to do
        return;
    }

    final boolean expectingError = dataTable.getGherkinRows().get(0).getCells().stream()
                    .anyMatch(cell -> cell.getText().contains("expecting error"));

    if (expectingError)
    {
        for (final Map<String, String> row : tableRows)
        {
            boolean errorThrown = false;

            try
            {
                setC_Order_customColumnsValues(row);
                assertThat(1).as("An Exception should have been thrown !").isEqualTo(2);
            }
            catch (final AdempiereException e)
            {
                errorThrown = true;

                final String errorMessageIdentifier = DataTableUtil.extractStringOrNullForColumnName(row, "OPT." + COLUMNNAME_AD_Message_ID + "." + TABLECOLUMN_IDENTIFIER);
                if (Check.isNotBlank(errorMessageIdentifier))
                {
                    final I_AD_Message errorMessage = messageTable.get(errorMessageIdentifier);
                    assertThat(e.getMessage()).contains(msgBL.getMsg(Env.getCtx(), AdMessageKey.of(errorMessage.getValue())));
                }
            }

            assertThat(errorThrown).isTrue();
        }
    }
    else
    {
        for (final Map<String, String> row : tableRows)
        {
            setC_Order_customColumnsValues(row);
        }
    }
}
```
---

**Notes:**

- The pattern `( expecting error:|:)` means the step may be either with or without `expecting error:`.

- The glue code detects whether the error expectation is present or not based on the Gherkin step text or the first row content, adapting behavior accordingly:
  - When expecting an error, each row is processed in a try-catch block that asserts that an `AdempiereException` is thrown and verifies error message correctness.
  - Otherwise, it simply sets the custom columns.

- The method name `setCustomColumnsForC_Order` follows the camelCase conversion of the step text.

- Called method `setC_Order_customColumnsValues(row)` is assumed to exist that handles setting the C_Order custom column values for the map representing a row.

- Use of constants `COLUMNNAME_AD_Message_ID` and `TABLECOLUMN_IDENTIFIER` and utilities like `DataTableUtil` and `msgBL` are consistent with the pattern in the examples.
2025-09-23 02:45:22,879 - INFO - Step ID 1217 CodeBLEU: {'codebleu': 0.6670676418514887, 'ngram_match_score': 0.0647273300136719, 'weighted_ngram_match_score': 0.6059490885012141, 'syntax_match_score': 0.75, 'dataflow_match_score': 0.75}
2025-09-23 02:45:22,879 - INFO - Generating glue code for step ID 1218
2025-09-23 02:45:22,879 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:22 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b49e38b8420e-YYC')])
2025-09-23 02:45:22,880 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:22,881 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:22,884 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-41fd339d-ab46-4edc-9689-4a16bdd9a03c', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n\t@When("^set custom columns for C_Order( expecting error:|:)$")\nGlue Code:\n\t@When("^set custom columns for C_Order( expecting error:|:)$")\n\tpublic void setCustomColumn_C_Order(@NonNull final String semantics, @NonNull final DataTable dataTable)\n\t{\n\t\tfor (final Map<String, String> row : dataTable.asMaps())\n\t\t{\n\t\t\tsetC_Order_CustomColumnsValues(row);\n\t\t}\n\t}\n\nExample 2:\nGherkin Step:\n\n\t@And("metasfresh contains S_ResourceType:")\nGlue Code:\n\t@And("metasfresh contains S_ResourceType:")\n\tpublic void metasfresh_contains_S_ResourceType(@NonNull final DataTable dataTable)\n\t{\n\t\tfor (final Map<String, String> row : dataTable.asMaps())\n\t\t{\n\t\t\tfinal String name = DataTableUtil.extractStringForColumnName(row, I_S_ResourceType.COLUMNNAME_Name);\n\t\t\tfinal String value = DataTableUtil.extractStringForColumnName(row, I_S_ResourceType.COLUMNNAME_Value);\n\t\t\tfinal String productCategoryIdentifier = DataTableUtil.extractStringForColumnName(row, COLUMNNAME_M_Product_Category_ID + "." + TABLECOLUMN_IDENTIFIER);\n\t\t\tfinal String uomCode = DataTableUtil.extractStringForColumnName(row, "UomCode");\n\t\t\tfinal boolean isTimeSlot = DataTableUtil.extractBooleanForColumnName(row, I_S_ResourceType.COLUMNNAME_IsTimeSlot);\n\n\t\t\tfinal I_S_ResourceType resourceType = InterfaceWrapperHelper.newInstance(I_S_ResourceType.class);\n\n\t\t\tresourceType.setName(name);\n\t\t\tresourceType.setValue(value);\n\t\t\tresourceType.setIsTimeSlot(isTimeSlot);\n\t\t\tresourceType.setTimeSlotStart(Timestamp.valueOf("2022-08-08 13:11:00"));\n\t\t\tresourceType.setTimeSlotEnd(Timestamp.valueOf("2022-08-08 20:11:00"));\n\n\t\t\tfinal I_C_UOM uom = uomDao.getByX12DE355(X12DE355.ofCode(uomCode));\n\t\t\tresourceType.setC_UOM_ID(uom.getC_UOM_ID());\n\n\t\t\tfinal I_M_Product_Category productCategory = productCategoryTable.get(productCategoryIdentifier);\n\t\t\tassertThat(productCategory).isNotNull();\n\t\t\tresourceType.setM_Product_Category_ID(productCategory.getM_Product_Category_ID());\n\n\t\t\tsaveRecord(resourceType);\n\n\t\t\tfinal String resourceTypeIdentifier = DataTableUtil.extractStringForColumnName(row, I_S_ResourceType.COLUMNNAME_S_ResourceType_ID + "." + TABLECOLUMN_IDENTIFIER);\n\t\t\tresourceTypeTable.putOrReplace(resourceTypeIdentifier, resourceType);\n\t\t}\n\t}\n\nExample 3:\nGherkin Step:\n\n\t@And("^wait for (.*)s$")\nGlue Code:\n\t@And("^wait for (.*)s$")\n\tpublic void waitFor(final int waitingTimeSec) throws InterruptedException\n\t{\n\t\tfinal long waitingTimeMillis = waitingTimeSec * 1000L;\n\t\tThread.sleep(waitingTimeMillis);\n\t}\n\nExample 4:\nGherkin Step:\n\n\t@And("generate csv file for sscc labels for {string}")\nGlue Code:\n\t@And("generate csv file for sscc labels for {string}")\n\tpublic void generateCSV_FileForSSCC_Labels(\n\t\t\t@NonNull final String packIdentifiersParam,\n\t\t\t@NonNull final DataTable dataTable)\n\t{\n\t\tfinal List<String> reportDataContentActual = generateCSVFileForSSCCLabels(ediDesadvPackTable.getIds(packIdentifiersParam));\n\t\tfinal List<String> reportDataContentExpected = getReportDataLines(dataTable);\n\n\t\tassertThat(normalizeReportLinesForComparing(reportDataContentActual))\n\t\t\t\t.containsExactlyInAnyOrderElementsOf(normalizeReportLinesForComparing(reportDataContentExpected));\n\t}\n\nExample 5:\nGherkin Step:\n\n\t@And("verify BOM for M_Product:")\nGlue Code:\n\t@And("verify BOM for M_Product:")\n\tpublic void verify_BOM_for_M_Product(@NonNull final DataTable dataTable)\n\t{\n\t\tfinal List<Map<String, String>> tableRows = dataTable.asMaps();\n\t\tfor (final Map<String, String> row : tableRows)\n\t\t{\n\t\t\tfinal String productIdentifier = DataTableUtil.extractStringForColumnName(row, I_M_Product.COLUMNNAME_M_Product_ID + "." + TABLECOLUMN_IDENTIFIER);\n\n\t\t\tfinal I_M_Product product = productTable.get(productIdentifier);\n\t\t\tassertThat(product).isNotNull();\n\n\t\t\tcheckProductBOMCyclesAndMarkAsVerified(product);\n\n\t\t\tfinal I_PP_Product_BOM bom = productBOMDAO.getDefaultBOMByProductId(ProductId.ofRepoId(product.getM_Product_ID()))\n\t\t\t\t\t.orElse(null);\n\n\t\t\tassertThat(bom).isNotNull();\n\n\t\t\tfor (final I_PP_Product_BOMLine tbomline : productBOMDAO.retrieveLines(bom))\n\t\t\t{\n\t\t\t\tfinal ProductId productId = ProductId.ofRepoId(tbomline.getM_Product_ID());\n\t\t\t\tfinal I_M_Product bomLineProduct = productBL.getById(productId);\n\t\t\t\tcheckProductBOMCyclesAndMarkAsVerified(bomLineProduct);\n\t\t\t}\n\t\t}\n\t}\n\nExample 6:\nGherkin Step:\n\n\t@And("^validate C_CallOrderDetail for (.*):$")\nGlue Code:\n\t@And("^validate C_CallOrderDetail for (.*):$")\n\tpublic void validate_C_CallOrderDetail(final @NonNull String summaryIdentifier, @NonNull final DataTable dataTable)\n\t{\n\t\tfinal I_C_CallOrderSummary callOrderSummary = callOrderSummaryTable.get(summaryIdentifier);\n\t\tassertThat(callOrderSummary).isNotNull();\n\n\t\tfinal List<I_C_CallOrderDetail> callOrderDetails = queryBL.createQueryBuilder(I_C_CallOrderDetail.class)\n\t\t\t\t.addInArrayFilter(I_C_CallOrderDetail.COLUMNNAME_C_CallOrderSummary_ID, callOrderSummary.getC_CallOrderSummary_ID())\n\t\t\t\t.orderBy(I_C_CallOrderDetail.COLUMNNAME_Created)\n\t\t\t\t.create()\n\t\t\t\t.list();\n\n\t\tfinal List<Map<String, String>> tableRows = dataTable.asMaps(String.class, String.class);\n\t\tassertThat(callOrderDetails.size()).isEqualTo(tableRows.size());\n\n\t\tfor (int callOrderDetailsIndex = 0; callOrderDetailsIndex < callOrderDetails.size(); callOrderDetailsIndex++)\n\t\t{\n\t\t\tfinal I_C_CallOrderDetail actualCallOrderDetail = callOrderDetails.get(callOrderDetailsIndex);\n\t\t\tfinal Map<String, String> expectedCallOrderDetail = tableRows.get(callOrderDetailsIndex);\n\n\t\t\tfinal String x12de355UOMCode = DataTableUtil.extractStringForColumnName(expectedCallOrderDetail, I_C_CallOrderDetail.COLUMNNAME_C_UOM_ID + "." + X12DE355.class.getSimpleName());\n\t\t\tfinal UomId uomId = uomDAO.getUomIdByX12DE355(X12DE355.ofCode(x12de355UOMCode));\n\t\t\tassertThat(actualCallOrderDetail.getC_UOM_ID()).isEqualTo(uomId.getRepoId());\n\n\t\t\tfinal String orderIdentifier = DataTableUtil.extractStringOrNullForColumnName(expectedCallOrderDetail, "OPT." + I_C_CallOrderDetail.COLUMNNAME_C_Order_ID + "." + TABLECOLUMN_IDENTIFIER);\n\t\t\tif (Check.isNotBlank(orderIdentifier))\n\t\t\t{\n\t\t\t\tfinal I_C_Order order = orderTable.get(orderIdentifier);\n\t\t\t\tassertThat(actualCallOrderDetail.getC_Order_ID()).isEqualTo(order.getC_Order_ID());\n\t\t\t}\n\n\t\t\tfinal String orderLineIdentifier = DataTableUtil.extractStringOrNullForColumnName(expectedCallOrderDetail, "OPT." + I_C_CallOrderDetail.COLUMNNAME_C_OrderLine_ID + "." + TABLECOLUMN_IDENTIFIER);\n\t\t\tif (Check.isNotBlank(orderLineIdentifier))\n\t\t\t{\n\t\t\t\tfinal I_C_OrderLine orderLine = orderLineTable.get(orderLineIdentifier);\n\t\t\t\tassertThat(actualCallOrderDetail.getC_OrderLine_ID()).isEqualTo(orderLine.getC_OrderLine_ID());\n\t\t\t}\n\n\t\t\tfinal BigDecimal qtyEntered = DataTableUtil.extractBigDecimalOrNullForColumnName(expectedCallOrderDetail, "OPT." + I_C_CallOrderDetail.COLUMNNAME_QtyEntered);\n\t\t\tif (qtyEntered != null)\n\t\t\t{\n\t\t\t\tassertThat(actualCallOrderDetail.getQtyEntered()).isEqualTo(qtyEntered);\n\t\t\t}\n\n\t\t\tfinal String inOutIdentifier = DataTableUtil.extractStringOrNullForColumnName(expectedCallOrderDetail, "OPT." + I_C_CallOrderDetail.COLUMNNAME_M_InOut_ID + "." + TABLECOLUMN_IDENTIFIER);\n\t\t\tif (Check.isNotBlank(inOutIdentifier))\n\t\t\t{\n\t\t\t\tfinal I_M_InOut inOut = inOutTable.get(inOutIdentifier);\n\t\t\t\tassertThat(actualCallOrderDetail.getM_InOut_ID()).isEqualTo(inOut.getM_InOut_ID());\n\t\t\t}\n\n\t\t\tfinal String inOutLineIdentifier = DataTableUtil.extractStringOrNullForColumnName(expectedCallOrderDetail, "OPT." + I_C_CallOrderDetail.COLUMNNAME_M_InOutLine_ID + "." + TABLECOLUMN_IDENTIFIER);\n\t\t\tif (Check.isNotBlank(inOutLineIdentifier))\n\t\t\t{\n\t\t\t\tfinal I_M_InOutLine inOutLine = inOutLineTable.get(inOutLineIdentifier);\n\t\t\t\tassertThat(actualCallOrderDetail.getM_InOutLine_ID()).isEqualTo(inOutLine.getM_InOutLine_ID());\n\t\t\t}\n\n\t\t\tfinal BigDecimal qtyDeliveredInUOM = DataTableUtil.extractBigDecimalOrNullForColumnName(expectedCallOrderDetail, "OPT." + I_C_CallOrderDetail.COLUMNNAME_QtyDeliveredInUOM);\n\t\t\tif (qtyDeliveredInUOM != null)\n\t\t\t{\n\t\t\t\tassertThat(actualCallOrderDetail.getQtyDeliveredInUOM()).isEqualTo(qtyDeliveredInUOM);\n\t\t\t}\n\n\t\t\tfinal String invoiceIdentifier = DataTableUtil.extractStringOrNullForColumnName(expectedCallOrderDetail, "OPT." + I_C_CallOrderDetail.COLUMNNAME_C_Invoice_ID + "." + TABLECOLUMN_IDENTIFIER);\n\t\t\tif (Check.isNotBlank(invoiceIdentifier))\n\t\t\t{\n\t\t\t\tfinal I_C_Invoice invoice = invoiceTable.get(invoiceIdentifier);\n\t\t\t\tassertThat(actualCallOrderDetail.getC_Invoice_ID()).isEqualTo(invoice.getC_Invoice_ID());\n\t\t\t}\n\n\t\t\tfinal String invoiceLineIdentifier = DataTableUtil.extractStringOrNullForColumnName(expectedCallOrderDetail, "OPT." + I_C_CallOrderDetail.COLUMNNAME_C_InvoiceLine_ID + "." + TABLECOLUMN_IDENTIFIER);\n\t\t\tif (Check.isNotBlank(invoiceLineIdentifier))\n\t\t\t{\n\t\t\t\tfinal I_C_InvoiceLine invoiceLine = invoiceLineTable.get(invoiceLineIdentifier);\n\t\t\t\tassertThat(actualCallOrderDetail.getC_InvoiceLine_ID()).isEqualTo(invoiceLine.getC_InvoiceLine_ID());\n\t\t\t}\n\n\t\t\tfinal BigDecimal qtyInvoicedInUOM = DataTableUtil.extractBigDecimalOrNullForColumnName(expectedCallOrderDetail, "OPT." + I_C_CallOrderDetail.COLUMNNAME_QtyInvoicedInUOM);\n\t\t\tif (qtyInvoicedInUOM != null)\n\t\t\t{\n\t\t\t\tassertThat(actualCallOrderDetail.getQtyInvoicedInUOM()).isEqualTo(qtyInvoicedInUOM);\n\t\t\t}\n\n\t\t\tfinal String detailIdentifier = DataTableUtil.extractStringForColumnName(expectedCallOrderDetail, I_C_CallOrderDetail.COLUMNNAME_C_CallOrderDetail_ID + "." + TABLECOLUMN_IDENTIFIER);\n\t\t\tcallOrderDetailTable.putOrReplace(detailIdentifier, actualCallOrderDetail);\n\t\t}\n\t}\n\nExample 7:\nGherkin Step:\n\n\t@And("generate M_ShipperTransportation for M_Delivery_Planning:")\nGlue Code:\n\t@And("generate M_ShipperTransportation for M_Delivery_Planning:")\n\tpublic void generate_Delivery_Instructions(@NonNull final DataTable dataTable)\n\t{\n\t\tfor (final Map<String, String> row : dataTable.asMaps())\n\t\t{\n\t\t\tfinal String deliveryPlanningIdentifier = DataTableUtil.extractStringForColumnName(row, I_M_Delivery_Planning.COLUMNNAME_M_Delivery_Planning_ID + "." + TABLECOLUMN_IDENTIFIER);\n\t\t\tfinal I_M_Delivery_Planning deliveryPlanning = deliveryPlanningTable.get(deliveryPlanningIdentifier);\n\t\t\tassertThat(deliveryPlanning).isNotNull();\n\n\t\t\tdeliveryPlanningService.generateDeliveryInstructions(getQueryFilterFor(deliveryPlanning));\n\n\t\t\tInterfaceWrapperHelper.refresh(deliveryPlanning);\n\n\t\t\tassertThat(deliveryPlanning.getM_ShipperTransportation_ID()).isNotZero();\n\t\t\tfinal I_M_ShipperTransportation deliveryInstruction = load(deliveryPlanning.getM_ShipperTransportation_ID(), I_M_ShipperTransportation.class);\n\n\t\t\tfinal String deliveryInstructionIdentifier = DataTableUtil.extractStringForColumnName(row, I_M_Delivery_Planning.COLUMNNAME_M_ShipperTransportation_ID + "." + TABLECOLUMN_IDENTIFIER);\n\t\t\tdeliveryInstructionTable.putOrReplace(deliveryInstructionIdentifier, deliveryInstruction);\n\t\t}\n\t}\n\nExample 8:\nGherkin Step:\n\n\t@And("regenerate M_ShipperTransportation for M_Delivery_Planning:")\nGlue Code:\n\t@And("regenerate M_ShipperTransportation for M_Delivery_Planning:")\n\tpublic void regenerate_Delivery_Instructions(@NonNull final DataTable dataTable)\n\t{\n\t\tfor (final Map<String, String> row : dataTable.asMaps())\n\t\t{\n\t\t\tfinal String deliveryPlanningIdentifier = DataTableUtil.extractStringForColumnName(row, I_M_Delivery_Planning.COLUMNNAME_M_Delivery_Planning_ID + "." + TABLECOLUMN_IDENTIFIER);\n\t\t\tfinal I_M_Delivery_Planning deliveryPlanning = deliveryPlanningTable.get(deliveryPlanningIdentifier);\n\t\t\tassertThat(deliveryPlanning).isNotNull();\n\n\t\t\tdeliveryPlanningService.regenerateDeliveryInstructions(getQueryFilterFor(deliveryPlanning));\n\n\t\t\tInterfaceWrapperHelper.refresh(deliveryPlanning);\n\n\t\t\tassertThat(deliveryPlanning.getM_ShipperTransportation_ID()).isNotZero();\n\t\t\tfinal I_M_ShipperTransportation deliveryInstruction = load(deliveryPlanning.getM_ShipperTransportation_ID(), I_M_ShipperTransportation.class);\n\n\t\t\tfinal String deliveryInstructionIdentifier = DataTableUtil.extractStringForColumnName(row, I_M_Delivery_Planning.COLUMNNAME_M_ShipperTransportation_ID + "." + TABLECOLUMN_IDENTIFIER);\n\t\t\tdeliveryInstructionTable.putOrReplace(deliveryInstructionIdentifier, deliveryInstruction);\n\t\t}\n\t}\n\nExample 9:\nGherkin Step:\n\n\t@And("create M_HU_LUTU_Configuration for M_ReceiptSchedule:")\nGlue Code:\n\t@And("create M_HU_LUTU_Configuration for M_ReceiptSchedule:")\n\tpublic void createLUTUConfigurationForReceiptSchedule(@NonNull final DataTable dataTable)\n\t{\n\t\tfor (final Map<String, String> row : dataTable.asMaps())\n\t\t{\n\t\t\tfinal String receiptScheduleIdentifier = DataTableUtil.extractStringForColumnName(row, I_M_ReceiptSchedule.COLUMNNAME_M_ReceiptSchedule_ID + "." + TABLECOLUMN_IDENTIFIER);\n\t\t\tfinal I_M_ReceiptSchedule receiptSchedule = receiptScheduleTable.get(receiptScheduleIdentifier);\n\t\t\tassertThat(receiptSchedule).isNotNull();\n\n\t\t\tInterfaceWrapperHelper.refresh(receiptSchedule);\n\n\t\t\tfinal de.metas.handlingunits.model.I_M_ReceiptSchedule huReceiptSchedule = InterfaceWrapperHelper.create(receiptSchedule, de.metas.handlingunits.model.I_M_ReceiptSchedule.class);\n\n\t\t\tfinal I_M_HU_LUTU_Configuration lutuConfigDefault = huReceiptScheduleBL\n\t\t\t\t\t.createLUTUConfigurationManager(huReceiptSchedule)\n\t\t\t\t\t.getCreateLUTUConfiguration();\n\n\t\t\thuReceiptScheduleBL.adjustLUTUConfiguration(lutuConfigDefault, huReceiptSchedule);\n\n\t\t\tfinal String tuHUPIProductIdentifier = DataTableUtil.extractStringForColumnName(row, I_M_HU_PI_Item_Product.COLUMNNAME_M_HU_PI_Item_Product_ID + ".TU." + TABLECOLUMN_IDENTIFIER);\n\t\t\tfinal I_M_HU_PI_Item_Product tuHuPiProduct = huPiItemProductTable.get(tuHUPIProductIdentifier);\n\n\t\t\tfinal String luHUPIIdentifier = DataTableUtil.extractStringForColumnName(row, I_M_HU_PI.COLUMNNAME_M_HU_PI_ID + ".LU." + TABLECOLUMN_IDENTIFIER);\n\t\t\tfinal I_M_HU_PI luHuPi = huPiTable.get(luHUPIIdentifier);\n\n\t\t\tfinal ILUTUConfigurationFactory.CreateLUTUConfigRequest lutuConfigRequest = ILUTUConfigurationFactory.CreateLUTUConfigRequest.builder()\n\t\t\t\t\t.baseLUTUConfiguration(lutuConfigDefault)\n\t\t\t\t\t.qtyLU(lutuConfigDefault.getQtyLU())\n\t\t\t\t\t.qtyTU(lutuConfigDefault.getQtyTU())\n\t\t\t\t\t.qtyCUsPerTU(lutuConfigDefault.getQtyCUsPerTU())\n\t\t\t\t\t.tuHUPIItemProductID(tuHuPiProduct.getM_HU_PI_Item_Product_ID())\n\t\t\t\t\t.luHUPIID(luHuPi.getM_HU_PI_ID())\n\t\t\t\t\t.build();\n\n\t\t\tfinal I_M_HU_LUTU_Configuration lutuConfigurationWithParams = lutuConfigurationFactory.createNewLUTUConfigWithParams(lutuConfigRequest);\n\n\t\t\tInterfaceWrapperHelper.saveRecord(lutuConfigurationWithParams);\n\n\t\t\tfinal String lutuConfigIdentifier = DataTableUtil.extractStringForColumnName(row, I_M_HU_LUTU_Configuration.COLUMNNAME_M_HU_LUTU_Configuration_ID + "." + TABLECOLUMN_IDENTIFIER);\n\t\t\thuLutuConfigurationTable.putOrReplace(lutuConfigIdentifier, lutuConfigurationWithParams);\n\t\t}\n\t}\n\nExample 10:\nGherkin Step:\n\n\t@And("complete planning for PP_Order:")\nGlue Code:\n\t@And("complete planning for PP_Order:")\n\tpublic void process_pp_order(@NonNull final DataTable dataTable) throws Exception\n\t{\n\t\tfor (final Map<String, String> tableRow : dataTable.asMaps())\n\t\t{\n\t\t\tfinal String ppOrderIdentifier = DataTableUtil.extractStringForColumnName(tableRow, I_PP_Order.COLUMNNAME_PP_Order_ID + "." + TABLECOLUMN_IDENTIFIER);\n\t\t\tfinal I_PP_Order ppOrder = ppOrderTable.get(ppOrderIdentifier);\n\n\t\t\tfinal String errorMessage = DataTableUtil.extractStringOrNullForColumnName(tableRow, "OPT.ErrorMessage");\n\n\t\t\ttry\n\t\t\t{\n\t\t\t\ttrxManager.runInThreadInheritedTrx(() -> huPPOrderBL.processPlanning(PPOrderId.ofRepoId(ppOrder.getPP_Order_ID()), PPOrderPlanningStatus.COMPLETE));\n\n\t\t\t\tassertThat(errorMessage).as("ErrorMessage should be null if huPPOrderBL.processPlanning() finished with no error!").isNull();\n\t\t\t}\n\t\t\tcatch (final Exception e)\n\t\t\t{\n\t\t\t\tStepDefUtil.validateErrorMessage(e, errorMessage);\n\t\t\t}\n\t\t}\n\t}\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n\t@When("set custom columns for S_ResourceType:")\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:22,886 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:22,886 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:22,887 - DEBUG - send_request_headers.complete
2025-09-23 02:45:22,887 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:22,887 - DEBUG - send_request_body.complete
2025-09-23 02:45:22,887 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:23,058 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:23 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b49f1a0201de-YYC')])
2025-09-23 02:45:23,059 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:23,062 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:23,081 - DEBUG - receive_response_body.complete
2025-09-23 02:45:23,082 - DEBUG - response_closed.started
2025-09-23 02:45:23,082 - DEBUG - response_closed.complete
2025-09-23 02:45:23,082 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:22 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b49cad1b01e2-YYC'})
2025-09-23 02:45:23,082 - DEBUG - request_id: None
2025-09-23 02:45:23,084 - INFO - Generated glue code: 
```java
@When("^(?:I |)send keys \"([^\"]*)\" to \"([^\"]*)\"$")
public void sendKeysTo(String keys, String name) {
    inputField(name).sendKeys(keys);
}
```
2025-09-23 02:45:23,088 - INFO - Step ID 440 CodeBLEU: {'codebleu': 0.6968962855963897, 'ngram_match_score': 0.5071960939456881, 'weighted_ngram_match_score': 0.5951000953515418, 'syntax_match_score': 0.8, 'dataflow_match_score': 0.6666666666666666}
2025-09-23 02:45:23,088 - INFO - Generating glue code for step ID 441
2025-09-23 02:45:23,092 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-1c40d8f9-3058-4c36-8750-0658b75884f3', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n    @When("^(?:I |)check elements in \\"([^\\"]*)\\" checklist:$")\nGlue Code:\n    @When("^(?:I |)check elements in \\"([^\\"]*)\\" checklist:$")\n    public static void iCheckCheckboxes(String name, DataTable values) {\n        checklist(name).check(values.values().toArray(new String[0]));\n    }\n\nExample 2:\nGherkin Step:\n\n    @When("^(?:I |)check in the \\"([^\\"]*)\\" values:$")\nGlue Code:\n    @When("^(?:I |)check in the \\"([^\\"]*)\\" values:$")\n    public void iCheckInTheValues(String name, DataTable values) {\n        multiDropDown(name).check(values.values().toArray(new String[0]));\n    }\n\nExample 3:\nGherkin Step:\n\n    @When("^(?:I |)check value \\"([^\\"]*)\\" in the \\"([^\\"]*)\\"$")\nGlue Code:\n    @When("^(?:I |)check value \\"([^\\"]*)\\" in the \\"([^\\"]*)\\"$")\n    public void iCheckValueInThe(String value, String name) {\n        multiDropDown(name).check(value);\n    }\n\nExample 4:\nGherkin Step:\n\n    @When("^(?:I |)check element \\"([^\\"]*)\\" in \\"([^\\"]*)\\" checklist$")\nGlue Code:\n    @When("^(?:I |)check element \\"([^\\"]*)\\" in \\"([^\\"]*)\\" checklist$")\n    public static void iCheckCheckBox(String value, String name) {\n        checklist(name).check(value);\n    }\n\nExample 5:\nGherkin Step:\n\n    @When("^(?:I |)check all elements in \\"([^\\"]*)\\" checklist")\nGlue Code:\n    @When("^(?:I |)check all elements in \\"([^\\"]*)\\" checklist")\n    public static void iCheckAllCheckBoxes(String name) {\n        checklist(name).checkAll();\n    }\n\nExample 6:\nGherkin Step:\n\n    @When("^(?:I |)check in \\"([^\\"]*)\\" checklist elements by numbers:$")\nGlue Code:\n    @When("^(?:I |)check in \\"([^\\"]*)\\" checklist elements by numbers:$")\n    public static void iCheckElementsByNumbers(String name, DataTable values) {\n        List<Integer> intValues = values.values().stream().map(Integer::parseInt).collect(Collectors.toList());\n        checklist(name).check(toIntArray(intValues));\n    }\n\nExample 7:\nGherkin Step:\n\n    @When("^(?:I |)check in the \\"([^\\"]*)\\" values by number:$")\nGlue Code:\n    @When("^(?:I |)check in the \\"([^\\"]*)\\" values by number:$")\n    public void iCheckInTheValuesByNumber(String name, DataTable values) {\n        List<Integer> intValues = values.values().stream().map(Integer::parseInt).collect(Collectors.toList());\n        multiDropDown(name).check(toIntArray(intValues));\n    }\n\nExample 8:\nGherkin Step:\n\n    @When("^(?:I |)check in \\"([^\\"]*)\\" checklist element by numbers ([0-9]+)$")\nGlue Code:\n    @When("^(?:I |)check in \\"([^\\"]*)\\" checklist element by numbers ([0-9]+)$")\n    public static void iCheckElementByNumbers(String name, int value) {\n        checklist(name).check(value);\n    }\n\nExample 9:\nGherkin Step:\n\n    @When("^(?:I |)uncheck \\"([^\\"]*)\\"$")\nGlue Code:\n    @When("^(?:I |)uncheck \\"([^\\"]*)\\"$")\n    public void uncheck(String name) {\n        getUI(name, HasCheck.class).uncheck();\n    }\n\nExample 10:\nGherkin Step:\n\n    @When("^(?:I |)clear \\"([^\\"]*)\\"$")\nGlue Code:\n    @When("^(?:I |)clear \\"([^\\"]*)\\"$")\n    public void clear(String name) {\n        input(name).clear();\n    }\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n    @When("^(?:I |)check \\"([^\\"]*)\\"$")\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:23,093 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:23,094 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:23,094 - DEBUG - send_request_headers.complete
2025-09-23 02:45:23,094 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:23,095 - DEBUG - send_request_body.complete
2025-09-23 02:45:23,095 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:23,137 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:23 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b49f0d2401e4-YYC')])
2025-09-23 02:45:23,137 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:23,137 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:23,226 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:23 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b4a0a9ab01dc-YYC')])
2025-09-23 02:45:23,227 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:23,227 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:23,427 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:23 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b4a21b41bec2-YYC')])
2025-09-23 02:45:23,427 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:23,428 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:23,472 - DEBUG - receive_response_body.complete
2025-09-23 02:45:23,472 - DEBUG - response_closed.started
2025-09-23 02:45:23,472 - DEBUG - response_closed.complete
2025-09-23 02:45:23,472 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:23 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b49f0d2401e4-YYC'})
2025-09-23 02:45:23,472 - DEBUG - request_id: None
2025-09-23 02:45:23,474 - INFO - Generated glue code: 
```java
@Then("the result is {int}")
public void the_result_is(int expected) {
  assertEquals(expected, calc.value());
}
```
2025-09-23 02:45:23,478 - INFO - Step ID 1195 CodeBLEU: {'codebleu': 0.775774122192697, 'ngram_match_score': 0.6162607099729586, 'weighted_ngram_match_score': 0.7414805119540123, 'syntax_match_score': 0.6, 'dataflow_match_score': 1.0}
2025-09-23 02:45:23,478 - INFO - Generating glue code for step ID 1196
2025-09-23 02:45:23,481 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-3014c444-eb6d-4b89-b876-5299c9d233c9', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n  @Given("the previous entries:")\nGlue Code:\n  @Given("the previous entries:")\n  public void thePreviousEntries(List<Entry> entries) {\n    for (Entry entry : entries) {\n      calc.push(entry.first);\n      calc.push(entry.second);\n      calc.push(entry.operation);\n    }\n  }\n\nExample 2:\nGherkin Step:\n\n  @Given("a calculator I just turned on")\nGlue Code:\n  @Given("a calculator I just turned on")\n  public void a_calculator_I_just_turned_on() {\n    calc = new Calculator();\n  }\n\nExample 3:\nGherkin Step:\n\n  @When("I add {int} and {int}")\nGlue Code:\n  @When("I add {int} and {int}")\n  public void adding(int arg1, int arg2) {\n    calc.push(arg1);\n    calc.push(arg2);\n    calc.push("+");\n  }\n\nExample 4:\nGherkin Step:\n\n  @Then("the result is {int}")\nGlue Code:\n  @Then("the result is {int}")\n  public void the_result_is(double expected) {\n    assertEquals(expected, calc.value());\n  }\n\nExample 5:\nGherkin Step:\n\n  @Given("a calculator I just turned on")\nGlue Code:\n  @Given("a calculator I just turned on")\n  public void a_calculator_I_just_turned_on() {\n    calc = new Calculator();\n  }\n\nExample 6:\nGherkin Step:\n\n  @When("I add {int} and {int}")\nGlue Code:\n  @When("I add {int} and {int}")\n  public void adding(int arg1, int arg2) {\n    calc.push(arg1);\n    calc.push(arg2);\n    calc.push("+");\n  }\n\nExample 7:\nGherkin Step:\n\n  @When("I slowly add {int} and {int}")\nGlue Code:\n  @When("I slowly add {int} and {int}")\n  public void addingSlow(int arg1, int arg2) throws InterruptedException {\n    Thread.sleep(1100);\n    calc.push(arg1);\n    calc.push(arg2);\n    calc.push("+");\n  }\n\nExample 8:\nGherkin Step:\n\n  @Given("^I press (.+)$")\nGlue Code:\n  @Given("^I press (.+)$")\n  public void I_press(String what) {\n    calc.push(what);\n  }\n\nExample 9:\nGherkin Step:\n\n  @Then("the result is {int}")\nGlue Code:\n  @Then("the result is {int}")\n  public void the_result_is(double expected) {\n    assertEquals(expected, calc.value());\n  }\n\nExample 10:\nGherkin Step:\n\n  @Given("a calculator I just turned on")\nGlue Code:\n  @Given("a calculator I just turned on")\n  public void a_calculator_I_just_turned_on() {\n    calc = new Calculator();\n  }\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n  @Given("the previous entries:")\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:23,482 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:23,483 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:23,483 - DEBUG - send_request_headers.complete
2025-09-23 02:45:23,483 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:23,484 - DEBUG - send_request_body.complete
2025-09-23 02:45:23,484 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:23,703 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:23 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b4a35bb601e2-YYC')])
2025-09-23 02:45:23,704 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:23,704 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:23,761 - DEBUG - receive_response_body.complete
2025-09-23 02:45:23,761 - DEBUG - response_closed.started
2025-09-23 02:45:23,761 - DEBUG - response_closed.complete
2025-09-23 02:45:23,761 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:22 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b49aab4fbed1-YYC'})
2025-09-23 02:45:23,761 - DEBUG - request_id: None
2025-09-23 02:45:23,763 - INFO - Generated glue code: 
```java
@When("^automation expand main menu item \"([^\"]*)\"$")
public void automationExpandMainMenuItem(String pattern) throws Throwable {
    List<MenuItem> items = mainMenuItem.getItems();
    for (MenuItem item : items) {
        System.out.println(item.getName());
    }
    mainMenuItem = mainMenuItem.getMenuItem(Pattern.compile(pattern));
    mainMenuItem.expand();
}
```
2025-09-23 02:45:23,770 - INFO - Step ID 254 CodeBLEU: {'codebleu': 0.5799739057241642, 'ngram_match_score': 0.18804266085828325, 'weighted_ngram_match_score': 0.19455353924050048, 'syntax_match_score': 0.64, 'dataflow_match_score': 0.7142857142857143}
2025-09-23 02:45:23,770 - INFO - Generating glue code for step ID 255
2025-09-23 02:45:23,775 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-00a8159b-4644-4fea-936a-bbfb5edc1616', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n    @When("^automation expand main menu item \\"([^\\"]*)\\"$")\nGlue Code:\n    public void automationExpandMainMenuItem(String name) throws Throwable {\n        // Write code here that turns the phrase above into concrete actions\n        currentMenuItem = currentWindow.getMainMenu().getMenuItem(name);\n        currentMenuItem.expand();\n    }\n\n    @When("^automation click current menu item \\"([^\\"]*)\\"$")\n    public void automationClickCurrentMenuItem(String pattern) throws Throwable {\n\nExample 2:\nGherkin Step:\n\n    @Given("^close current file$")\nGlue Code:\n    @Given("^close current file$")\n    public void close_current_file() throws IOException {\n        fileReading.close();\n    }\n\nExample 3:\nGherkin Step:\n\n    @When("^automation find window from pattern \\"([^\\"]*)\\"$")\nGlue Code:\n    @When("^automation find window from pattern \\"([^\\"]*)\\"$")\n    public void automationFindWindowFromPattern(String arg0) throws Throwable {\n        UIAutomation automation = UIAutomation.getInstance();\n        currentWindow = automation.getDesktopWindow(Pattern.compile(arg0));\n    }\n\nExample 4:\nGherkin Step:\n\n    @When("^automation focus window$")\nGlue Code:\n    @When("^automation focus window$")\n    public void automationFocusWindow() {\n        currentWindow.focus();\n    }\n\nExample 5:\nGherkin Step:\n\n    @When("^automation wait for idle$")\nGlue Code:\n    @When("^automation wait for idle$")\n    public void automationWaitForIdle() {\n        application.waitForInputIdle();\n    }\n\nExample 6:\nGherkin Step:\n\n    @When("^send remote monitor command \\"([^\\"]*)\\"$")\nGlue Code:\n    @When("^send remote monitor command \\"([^\\"]*)\\"$")\n    public void send_remote_monitor_command(String command) throws Throwable {\n        sendMonitorCommand(command);\n        waitMonitorReply();\n        getMonitorReply();\n    }\n\nExample 7:\nGherkin Step:\n\n    @When("^ignoring lines that contain \\"([^\\"]*)\\"$")\nGlue Code:\n    @When("^ignoring lines that contain \\"([^\\"]*)\\"$")\n    public void ignoringLinesThatContain(String text) throws Throwable {\n        fileReadingIgnoreLinesContains.add(text);\n    }\n\nExample 8:\nGherkin Step:\n\n    @Then("^property \\"([^\\"]*)\\" must contain string \\"([^\\"]*)\\"$")\nGlue Code:\n    @Then("^property \\"([^\\"]*)\\" must contain string \\"([^\\"]*)\\"$")\n    public void property_must_contain(String arg1, String arg2) throws Throwable {\n        arg1 = PropertiesResolution.resolveInput(scenario, arg1);\n        arg2 = PropertiesResolution.resolveInput(scenario, arg2);\n\n        assertThat(System.getProperty(arg1), containsString(arg2));\n    }\n\nExample 9:\nGherkin Step:\n\n    @When("^send remote monitor command \\"([^\\"]*)\\" \\"([^\\"]*)\\"$")\nGlue Code:\n    @When("^send remote monitor command \\"([^\\"]*)\\" \\"([^\\"]*)\\"$")\n    public void send_remote_monitor_command2(String command, String param) throws Throwable {\n        command += " $";\n        command += Integer.toHexString(valueToInt(param));\n        sendMonitorCommand(command);\n        waitMonitorReply();\n        getMonitorReply();\n    }\n\nExample 10:\nGherkin Step:\n\n    @Then("^expect the line to contain \\"([^\\"]*)\\"$")\nGlue Code:\n    @Then("^expect the line to contain \\"([^\\"]*)\\"$")\n    public void expectTheLineToContain(String subString) throws ParseException {\n        subString = PropertiesResolution.resolveInput(scenario, subString);\n        assertThat(currentLineRead, containsString(subString));\n    }\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n    @When("^automation click current menu item \\"([^\\"]*)\\"$")\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:23,775 - DEBUG - receive_response_body.complete
2025-09-23 02:45:23,776 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:23,777 - DEBUG - response_closed.started
2025-09-23 02:45:23,777 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:23,778 - DEBUG - response_closed.complete
2025-09-23 02:45:23,778 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:23 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b49f1a0201de-YYC'})
2025-09-23 02:45:23,779 - DEBUG - send_request_headers.complete
2025-09-23 02:45:23,779 - DEBUG - request_id: None
2025-09-23 02:45:23,779 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:23,781 - DEBUG - send_request_body.complete
2025-09-23 02:45:23,781 - INFO - Generated glue code: 
```java
@When("^I am on the ownership info page$")
public void i_am_on_the_ownership_info_page() throws IOException {
    i_am_on_the_facility_credentials_page();
    applicationSteps.enterOrganizationOwnershipInfo();
}
```
2025-09-23 02:45:23,781 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:23,785 - INFO - Step ID 1049 CodeBLEU: {'codebleu': 0.8589746042460038, 'ngram_match_score': 0.7082593633017147, 'weighted_ngram_match_score': 0.7703755680472116, 'syntax_match_score': 0.7777777777777778, 'dataflow_match_score': 0.0}
2025-09-23 02:45:23,785 - INFO - Generating glue code for step ID 1050
2025-09-23 02:45:23,789 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-75f592f6-c001-4992-998a-1d00a3c96582', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n    @When("^I open the business owner panel$")\nGlue Code:\n    @When("^I open the business owner panel$")\n    public void i_open_the_business_owner_panel() {\n        applicationSteps.addBusinessOwnership();\n    }\n\nExample 2:\nGherkin Step:\n\n    @When("^I open the filter panel$")\nGlue Code:\n    @When("^I open the filter panel$")\n    public void i_open_the_filter_panel() {\n        generalSteps.openFilterPanel();\n    }\n\nExample 3:\nGherkin Step:\n\n    @When("^I open an add a license panel$")\nGlue Code:\n    @When("^I open an add a license panel$")\n    public void i_open_an_add_a_license_panel() {\n        applicationSteps.clickAddLicense();\n    }\n\nExample 4:\nGherkin Step:\n\n    @When("^I open an individual member panel")\nGlue Code:\n    @When("^I open an individual member panel")\n    public void i_open_an_individual_member_panel() {\n        applicationSteps.openIndividualMemberPanel();\n    }\n\nExample 5:\nGherkin Step:\n\n    @When("^I open the practice lookup modal$")\nGlue Code:\n    @When("^I open the practice lookup modal$")\n    public void i_open_the_practice_lookup_modal() {\n        applicationSteps.openPracticeLookupModal();\n    }\n\nExample 6:\nGherkin Step:\n\n    @When("^I open the Write Note modal$")\nGlue Code:\n    @When("^I open the Write Note modal$")\n    public void i_open_the_write_note_modal() {\n        adminSteps.openWriteNoteModal();\n    }\n\nExample 7:\nGherkin Step:\n\n    @When("^I am on the individual summary page$")\nGlue Code:\n    @When("^I am on the individual summary page$")\n    public void i_am_on_the_individual_summary_page() throws IOException {\n        i_am_on_the_individual_provider_practice_info_page();\n        applicationSteps.enterIndividualPrivatePracticeInfo();\n        applicationSteps.advanceFromIndividualPracticeInfoToSummaryPage();\n    }\n\nExample 8:\nGherkin Step:\n\n    @When("^I am on the individual member info page$")\nGlue Code:\n    @When("^I am on the individual member info page$")\n    public void i_am_on_the_individual_member_info_page() throws IOException {\n        i_am_on_the_facility_credentials_page();\n        applicationSteps.enterLicenseInfo();\n        applicationSteps.uploadLicense();\n        applicationSteps.advanceFromOrganizationLicenseInfoToIndividualMemberInfo();\n    }\n\nExample 9:\nGherkin Step:\n\n    @When("^I am on the individual provider statement page$")\nGlue Code:\n    @When("^I am on the individual provider statement page$")\n    public void i_am_on_the_individual_provider_statement_page() throws IOException {\n        i_am_on_the_individual_summary_page();\n        applicationSteps.advanceFromIndividualSummaryToProviderStatementPage();\n    }\n\nExample 10:\nGherkin Step:\n\n    @When("^I am on the individual provider practice info page$")\nGlue Code:\n    @When("^I am on the individual provider practice info page$")\n    public void i_am_on_the_individual_provider_practice_info_page() throws IOException {\n        i_am_on_the_individual_provider_license_info_page();\n        i_indicate_i_am_not_a_provider_at_a_public_health_service_indian_hospital();\n        applicationSteps.enterLicenseInfo();\n        applicationSteps.uploadLicense();\n        applicationSteps.advanceFromIndividualLicenseInfoToPracticeInfo();\n    }\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n    @When("^I open the individual owner panel$")\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:23,790 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:23,790 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:23,791 - DEBUG - send_request_headers.complete
2025-09-23 02:45:23,791 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:23,791 - DEBUG - send_request_body.complete
2025-09-23 02:45:23,791 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:23,845 - DEBUG - receive_response_body.complete
2025-09-23 02:45:23,845 - DEBUG - response_closed.started
2025-09-23 02:45:23,846 - DEBUG - response_closed.complete
2025-09-23 02:45:23,846 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:22 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b49e38b8420e-YYC'})
2025-09-23 02:45:23,846 - DEBUG - request_id: None
2025-09-23 02:45:23,848 - INFO - Generated glue code: 
```java
@Then("we should see the expected number of tickets in analytics for SCA")
public void verifyReportSCA() throws CheckmarxException {
    ScanResultsReport report = getLatestReport();
    assertScanSCAResults(report);
    Assert.assertEquals("Scan ID does not match !", Integer.valueOf(SCAN_ID), Integer.valueOf(report.getScanId()));
}
```
2025-09-23 02:45:23,853 - INFO - Step ID 625 CodeBLEU: {'codebleu': 0.931591358973938, 'ngram_match_score': 0.8592899528284996, 'weighted_ngram_match_score': 0.9181620984493407, 'syntax_match_score': 0.8846153846153846, 'dataflow_match_score': 1.0}
2025-09-23 02:45:23,853 - INFO - Generating glue code for step ID 636
2025-09-23 02:45:23,859 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-ea43d3c2-9019-4d6d-82f9-8bbf0cbce2d7', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n    @And("thresholds are HIGH: {int}, MEDIUM: {int}, LOW: {int}")\nGlue Code:\n    @And("thresholds are HIGH: {int}, MEDIUM: {int}, LOW: {int}")\n    public void thresholdsAre(int high, int medium, int low) {\n        Map<FindingSeverity, Integer> actualThresholds = state.lastAnalyticsReport.getThresholds();\n        Map<FindingSeverity, Integer> expectedThresholds = toSeverityMap(high, medium, low);\n        Assert.assertEquals("Incorrect thresholds", expectedThresholds, actualThresholds);\n    }\n\nExample 2:\nGherkin Step:\n\n    @And("findingsMap is HIGH: {int}, MEDIUM: {int}, LOW: {int}")\nGlue Code:\n    @And("findingsMap is HIGH: {int}, MEDIUM: {int}, LOW: {int}")\n    public void findingsPerSeverity(int high, int medium, int low) {\n        Map<FindingSeverity, Integer> expectedMap = toSeverityMap(high, medium, low);\n        Map<FindingSeverity, Integer> actualMap = state.lastAnalyticsReport.getFindingsPerSeverity();\n        actualMap.remove(FindingSeverity.INFO);\n        Assert.assertEquals("Incorrect finding map", expectedMap, actualMap);\n    }\n\nExample 3:\nGherkin Step:\n\n    @And("SAST returns scan ID: {int} and finding count per severity: HIGH: {int}, MEDIUM: {int}, LOW: {int}")\nGlue Code:\n    @And("SAST returns scan ID: {int} and finding count per severity: HIGH: {int}, MEDIUM: {int}, LOW: {int}")\n    public void sastReturnsScanID(int scanId, int high, int medium, int low) throws InterruptedException {\n        state.fakeScanId = scanId;\n        state.findingsPerSeverity = toSeverityMap(high, medium, low);\n        state.scanResultsToInject = createFakeSASTScanResults(state.findingsPerSeverity);\n        processScanResultsInCxFlow();\n    }\n\nExample 4:\nGherkin Step:\n\n    @And("SCA returns scan ID: {int} and finding count per severity: HIGH: {int}, MEDIUM: {int}, LOW: {int}")\nGlue Code:\n    @And("SCA returns scan ID: {int} and finding count per severity: HIGH: {int}, MEDIUM: {int}, LOW: {int}")\n    public void scaReturnsScanID(int scanId, int high, int medium, int low) throws InterruptedException {\n        state.fakeScanId = scanId;\n        state.findingsPerSeverity = toSeverityMap(high, medium, low);\n        state.scanResultsToInject = createFakeSCAScanResults(state.findingsPerSeverity, scanId);\n        processScanResultsInCxFlow();\n    }\n\nExample 5:\nGherkin Step:\n\n    @Then("verify results contains {int}, {int}, {int}, {int} for severities {}")\nGlue Code:\n    @Then("verify results contains {int}, {int}, {int}, {int} for severities {}")\n    public void verifyNumOfIssuesForSeverities(int high, int medium, int low, int info, String severities) {\n        List<Filter> filters = createFiltersFromString(severities, Filter.Type.SEVERITY);\n        Map<Filter.Severity, Integer> actualJira = jiraUtils.getIssuesPerSeverity(jiraProperties.getProject());\n        for (Filter filter: filters) {\n            Filter.Severity severity = Filter.Severity.valueOf(filter.getValue().toUpperCase());\n            switch (severity) {\n                case HIGH:\n                    Assert.assertEquals("HIGH issues does not match", (int) actualJira.get(Filter.Severity.HIGH), high);\n                    break;\n                case MEDIUM:\n                    Assert.assertEquals("Medium issues does not match", (int) actualJira.get(Filter.Severity.MEDIUM), medium);\n                    break;\n                case LOW:\n                    Assert.assertEquals("Medium issues does not match", (int) actualJira.get(Filter.Severity.LOW), low);\n                    break;\n                case INFO:\n                    Assert.assertEquals("Medium issues does not match", (int) actualJira.get(Filter.Severity.INFO), info);\n                    break;\n            }\n        }\n    }\n\nExample 6:\nGherkin Step:\n\n    @Then("the expected number of sanitized vulnerabilities are {int}")\nGlue Code:\n    @Then("the expected number of sanitized vulnerabilities are {int}")\n    public void validateFilteredResults(int expectedResults) {\n        Assert.assertEquals(expectedResults, scaResults.getFindings().size());\n    }\n\nExample 7:\nGherkin Step:\n\n    @And("scan is configured as a {string} GIT remote repository source")\nGlue Code:\n    @And("scan is configured as a {string} GIT remote repository source")\n    public void setScanSourceAsPublicRemoteRepo(String repoVisibilityType) {\n        if (repoVisibilityType.equals("public")) {\n            scanRequest = getBasicScanRequest(PUBLIC_PROJECT_NAME, PUBLIC_REPO);\n        } else if (repoVisibilityType.equals("private")){\n            String token = gitHubProperties.getToken();\n            String remoteRepoWithAuth = String.format(PRIVATE_REPO, token);\n            scanRequest = getBasicScanRequest(PRIVATE_PROJECT_NAME, remoteRepoWithAuth);\n        }\n    }\n\nExample 8:\nGherkin Step:\n\n    @Given("thresholds section {} in cxflow configuration")\nGlue Code:\n    @Given("thresholds section {} in cxflow configuration")\n    public void setThresholdsSectionExist(boolean thresholdsExist) {\n        thresholdsSectionExist = thresholdsExist;\n    }\n\nExample 9:\nGherkin Step:\n\n    @When("threshold-severity is configured to {word}")\nGlue Code:\n    @When("threshold-severity is configured to {word}")\n    public void threshold_severity_is_configured_to_normal(String selectedConfig) {\n        configureThreshold(selectedConfig);\n    }\n\nExample 10:\nGherkin Step:\n\n    @And("webhook is configured for pull-request")\nGlue Code:\n    @And("webhook is configured for pull-request")\n    public void generatePRWebHook() {\n        repository.setActiveBranch(BRANCH_DEVELOP);\n        repository.generateConfigAsCode(this);\n        pushChange();\n        repository.generateWebHook(HookType.PULL_REQUEST);\n    }\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n    @Given("thresholds are configured as HIGH: {int}, MEDIUM: {int}, LOW: {int}")\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:23,860 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:23,860 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:23,861 - DEBUG - send_request_headers.complete
2025-09-23 02:45:23,861 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:23,861 - DEBUG - send_request_body.complete
2025-09-23 02:45:23,861 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:23,978 - DEBUG - receive_response_body.complete
2025-09-23 02:45:23,978 - DEBUG - response_closed.started
2025-09-23 02:45:23,978 - DEBUG - response_closed.complete
2025-09-23 02:45:23,978 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:23 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b4a35bb601e2-YYC'})
2025-09-23 02:45:23,979 - DEBUG - request_id: None
2025-09-23 02:45:23,980 - INFO - Generated glue code: 
```java
@When("^(?:I |)check \"([^\"]*)\"$")
public void check(String name) {
    getUI(name, HasCheck.class).check();
}
```
2025-09-23 02:45:23,984 - INFO - Step ID 441 CodeBLEU: {'codebleu': 0.9024236750264606, 'ngram_match_score': 0.8242367502646054, 'weighted_ngram_match_score': 1.0, 'syntax_match_score': 0.8, 'dataflow_match_score': 1.0}
2025-09-23 02:45:24,060 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:24 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b4a5cb2001e4-YYC')])
2025-09-23 02:45:24,061 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:24,062 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:24,264 - DEBUG - receive_response_body.complete
2025-09-23 02:45:24,264 - DEBUG - response_closed.started
2025-09-23 02:45:24,264 - DEBUG - response_closed.complete
2025-09-23 02:45:24,264 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:23 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b4a21b41bec2-YYC'})
2025-09-23 02:45:24,264 - DEBUG - request_id: None
2025-09-23 02:45:24,266 - INFO - Generated glue code: 
```java
@When("set custom columns for S_ResourceType:")
public void setCustomColumn_S_ResourceType(@NonNull final DataTable dataTable)
{
	for (final Map<String, String> row : dataTable.asMaps())
	{
		setS_ResourceType_CustomColumnsValues(row);
	}
}
```
2025-09-23 02:45:24,271 - INFO - Step ID 1218 CodeBLEU: {'codebleu': 0.9141464108604599, 'ngram_match_score': 0.8160524705752857, 'weighted_ngram_match_score': 0.8968402094578838, 'syntax_match_score': 0.8571428571428571, 'dataflow_match_score': 1.0}
2025-09-23 02:45:24,271 - INFO - Generating glue code for step ID 1219
2025-09-23 02:45:24,273 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:24 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b4a7bb7001de-YYC')])
2025-09-23 02:45:24,273 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:24,274 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:24,278 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-be10b4a9-453f-497a-bc02-d2b5fc7a5548', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n\t@Then("validate M_HU_LUTU_Configuration:")\nGlue Code:\n\t@Then("validate M_HU_LUTU_Configuration:")\n\tpublic void validateLutuConfig(@NonNull final DataTable dataTable)\n\t{\n\t\tfor (final Map<String, String> row : dataTable.asMaps())\n\t\t{\n\t\t\tfinal String lutuConfigIdentifier = DataTableUtil.extractStringForColumnName(row, I_M_HU_LUTU_Configuration.COLUMNNAME_M_HU_LUTU_Configuration_ID + "." + TABLECOLUMN_IDENTIFIER);\n\t\t\tfinal I_M_HU_LUTU_Configuration lutuConfig = huLutuConfigurationTable.get(lutuConfigIdentifier);\n\n\t\t\tfinal BigDecimal qtyLU = DataTableUtil.extractBigDecimalForColumnName(row, I_M_HU_LUTU_Configuration.COLUMNNAME_QtyLU);\n\t\t\tfinal BigDecimal qtyTU = DataTableUtil.extractBigDecimalForColumnName(row, I_M_HU_LUTU_Configuration.COLUMNNAME_QtyTU);\n\t\t\tfinal BigDecimal qtyCUsPerTU = DataTableUtil.extractBigDecimalForColumnName(row, I_M_HU_LUTU_Configuration.COLUMNNAME_QtyCUsPerTU);\n\n\t\t\tassertThat(lutuConfig.getQtyLU()).isEqualTo(qtyLU);\n\t\t\tassertThat(lutuConfig.getQtyTU()).isEqualTo(qtyTU);\n\t\t\tassertThat(lutuConfig.getQtyCUsPerTU()).isEqualTo(qtyCUsPerTU);\n\t\t}\n\t}\n\nExample 2:\nGherkin Step:\n\n\t@Then("validate M_PickingSlot:")\nGlue Code:\n\t@Then("validate M_PickingSlot:")\n\tpublic void validatePickingSlotStep(@NonNull final DataTable dataTable)\n\t{\n\t\tcheckPickingSlot(dataTable).assertAll();\n\t}\n\nExample 3:\nGherkin Step:\n\n\t@Then("validate AD_PInstance_Log:")\nGlue Code:\n\t@Then("validate AD_PInstance_Log:")\n\tpublic void validate_created_pInstanceLog(final DataTable dataTable)\n\t{\n\t\tfor (final Map<String, String> row : dataTable.asMaps())\n\t\t{\n\t\t\tfinal int pInstanceId = DataTableUtil.extractIntForColumnName(row, I_AD_PInstance_Log.COLUMNNAME_AD_PInstance_ID);\n\t\t\tfinal int recordId = DataTableUtil.extractIntForColumnName(row, I_AD_PInstance_Log.COLUMNNAME_Record_ID);\n\t\t\tfinal String message = DataTableUtil.extractStringForColumnName(row, I_AD_PInstance_Log.COLUMNNAME_P_Msg);\n\n\t\t\tfinal String tableName = DataTableUtil.extractStringForColumnName(row, I_AD_PInstance_Log.COLUMNNAME_AD_Table_ID + ".TableName");\n\t\t\tfinal int tableId = tableDAO.retrieveTableId(tableName);\n\n\t\t\tfinal List<ProcessInfoLog> processInfoLogs = instanceDAO.retrieveProcessInfoLogs(PInstanceId.ofRepoId(pInstanceId));\n\n\t\t\tassertThat(processInfoLogs).isNotNull();\n\t\t\tassertThat(processInfoLogs.size()).isEqualTo(1);\n\t\t\tassertThat(processInfoLogs.get(0).getP_Msg()).isEqualTo(message);\n\n\t\t\tassertThat(processInfoLogs.get(0).getTableRecordReference()).isNotNull();\n\t\t\tassertThat(processInfoLogs.get(0).getTableRecordReference().getRecord_ID()).isEqualTo(recordId);\n\t\t\tassertThat(processInfoLogs.get(0).getTableRecordReference().getAD_Table_ID()).isEqualTo(tableId);\n\t\t}\n\t}\n\nExample 4:\nGherkin Step:\n\n\t@Then("validate cloned C_Flatrate_Conditions:")\nGlue Code:\n\t@Then("validate cloned C_Flatrate_Conditions:")\n\tpublic void validate_cloned_C_Flatrate_Conditions(@NonNull final DataTable dataTable)\n\t{\n\t\tfinal List<Map<String, String>> tableRows = dataTable.asMaps(String.class, String.class);\n\t\tfinal Map<String, String> tableRow = tableRows.get(0);\n\n\t\tfinal String clonedConditionsIdentifier = tableRow.get(COLUMNNAME_C_Flatrate_Conditions_ID + "." + TABLECOLUMN_IDENTIFIER);\n\t\tassertThat(clonedConditionsIdentifier).as(COLUMNNAME_C_Flatrate_Conditions_ID + " is mandatory").isNotBlank();\n\n\t\tfinal String name = tableRow.get(COLUMNNAME_Name);\n\t\tassertThat(name).as(COLUMNNAME_Name + " is mandatory").isNotBlank();\n\n\t\tfinal String type_Conditions = tableRow.get(COLUMNNAME_Type_Conditions);\n\t\tassertThat(type_Conditions).as(COLUMNNAME_Type_Conditions + " is mandatory").isNotBlank();\n\n\t\tfinal String onFlatrateTermExtend = tableRow.get("OPT." + COLUMNNAME_OnFlatrateTermExtend);\n\t\tassertThat(onFlatrateTermExtend).as(COLUMNNAME_OnFlatrateTermExtend + " is mandatory in this context").isNotBlank();\n\n\t\tfinal String docStatus = tableRow.get("OPT." + COLUMNNAME_DocStatus);\n\t\tassertThat(docStatus).as(COLUMNNAME_DocStatus + " is mandatory in this context").isNotBlank();\n\n\t\tfinal I_C_Flatrate_Conditions clonedConditions = conditionsTable.get(clonedConditionsIdentifier);\n\t\tassertThat(clonedConditions).isNotNull();\n\n\t\tfinal I_ModCntr_Settings clonedSettings = clonedConditions.getModCntr_Settings();\n\t\tassertThat(clonedSettings).isNotNull();\n\n\t\tfinal String clonedSettingsIDentifier = tableRow.get("CLONE." + COLUMNNAME_ModCntr_Settings_ID + "." + TABLECOLUMN_IDENTIFIER);\n\t\tassertThat(clonedSettingsIDentifier).as("CLONE." + COLUMNNAME_ModCntr_Settings_ID + "." + TABLECOLUMN_IDENTIFIER + " is mandatory in this context").isNotBlank();\n\n\t\tmodCntrSettingsTable.put(clonedSettingsIDentifier, clonedSettings);\n\n\t\tfinal I_C_Year harvestYear = clonedSettings.getC_Year();\n\t\tassertThat(harvestYear).isNotNull();\n\n\t\tassertThat(clonedConditions.getName()).endsWith("-" + harvestYear.getFiscalYear()); // UUID is added to the name to avoid unique name constraint\n\t\tassertThat(clonedConditions.getType_Conditions()).isEqualTo(type_Conditions);\n\t\tassertThat(clonedConditions.getOnFlatrateTermExtend()).isEqualTo(onFlatrateTermExtend);\n\t\tassertThat(clonedConditions.getDocStatus()).isEqualTo(docStatus);\n\n\t}\n\nExample 5:\nGherkin Step:\n\n\t@Then("validate invoice candidate")\nGlue Code:\n\t@Then("validate invoice candidate")\n\tpublic void validate_invoice_candidate(@NonNull final DataTable dataTable) throws Throwable\n\t{\n\t\tfinal List<Map<String, String>> tableRows = dataTable.asMaps(String.class, String.class);\n\t\tDataTableRows.of(dataTable).forEach((rowObj) -> {\n\t\t\tfinal Map<String, String> row = rowObj.asMap();\n\t\t\tfinal String invoiceCandidateIdentifier = DataTableUtil.extractStringForColumnName(row, COLUMNNAME_C_Invoice_Candidate_ID + "." + TABLECOLUMN_IDENTIFIER);\n\t\t\tfinal I_C_Invoice_Candidate invoiceCandidateRecord = invoiceCandTable.get(invoiceCandidateIdentifier);\n\n\t\t\tfinal int maxSecondsToWait = 120;\n\t\t\tI_C_Invoice_Candidate updatedInvoiceCandidate;\n\t\t\ttry\n\t\t\t{\n\t\t\t\tupdatedInvoiceCandidate = StepDefUtil.tryAndWaitForItem(maxSecondsToWait, 1000, () -> isInvoiceCandidateUpdated(row));\n\t\t\t}\n\t\t\tcatch (final Throwable e)\n\t\t\t{\n\t\t\t\tmanuallyRecomputeInvoiceCandidate(e, rowObj, maxSecondsToWait);\n\t\t\t\tupdatedInvoiceCandidate = null;\n\t\t\t}\n\n\t\t\ttry\n\t\t\t{\n\t\t\t\tif (updatedInvoiceCandidate == null)\n\t\t\t\t{\n\t\t\t\t\tupdatedInvoiceCandidate = StepDefUtil.tryAndWaitForItem(5, 1000, () -> isInvoiceCandidateUpdated(row));\n\t\t\t\t}\n\n\t\t\t\tInterfaceWrapperHelper.refresh(updatedInvoiceCandidate);\n\n\t\t\t\tfinal String billBPIdentifier = DataTableUtil.extractStringOrNullForColumnName(row, "OPT." + COLUMNNAME_Bill_BPartner_ID + "." + TABLECOLUMN_IDENTIFIER);\n\t\t\t\tif (Check.isNotBlank(billBPIdentifier))\n\t\t\t\t{\n\t\t\t\t\tfinal I_C_BPartner billBPartner = bPartnerTable.get(billBPIdentifier);\n\t\t\t\t\tassertThat(updatedInvoiceCandidate.getBill_BPartner_ID()).isEqualTo(billBPartner.getC_BPartner_ID());\n\t\t\t\t}\n\n\t\t\t\tfinal String productIdentifier = DataTableUtil.extractStringOrNullForColumnName(row, "OPT." + COLUMNNAME_M_Product_ID + "." + TABLECOLUMN_IDENTIFIER);\n\t\t\t\tif (Check.isNotBlank(productIdentifier))\n\t\t\t\t{\n\t\t\t\t\tfinal I_M_Product product = productTable.get(productIdentifier);\n\t\t\t\t\tassertThat(updatedInvoiceCandidate.getM_Product_ID()).isEqualTo(product.getM_Product_ID());\n\t\t\t\t}\n\n\t\t\t\tfinal String orderIdentifier = DataTableUtil.extractStringOrNullForColumnName(row, "OPT." + COLUMNNAME_C_Order_ID + "." + TABLECOLUMN_IDENTIFIER);\n\t\t\t\tif (Check.isNotBlank(orderIdentifier))\n\t\t\t\t{\n\t\t\t\t\tfinal I_C_Order order = orderTable.get(orderIdentifier);\n\t\t\t\t\tassertThat(updatedInvoiceCandidate.getC_Order_ID()).isEqualTo(order.getC_Order_ID());\n\t\t\t\t}\n\n\t\t\t\tfinal String orderLineIdentifier = DataTableUtil.extractStringOrNullForColumnName(row, "OPT." + COLUMNNAME_C_OrderLine_ID + "." + TABLECOLUMN_IDENTIFIER);\n\t\t\t\tif (Check.isNotBlank(orderLineIdentifier))\n\t\t\t\t{\n\t\t\t\t\tfinal I_C_OrderLine orderLine = orderLineTable.get(orderLineIdentifier);\n\t\t\t\t\tassertThat(updatedInvoiceCandidate.getC_OrderLine_ID()).isEqualTo(orderLine.getC_OrderLine_ID());\n\t\t\t\t}\n\n\t\t\t\tfinal BigDecimal qtyOrdered = DataTableUtil.extractBigDecimalOrNullForColumnName(row, "OPT." + COLUMNNAME_QtyOrdered);\n\t\t\t\tif (qtyOrdered != null)\n\t\t\t\t{\n\t\t\t\t\tassertThat(updatedInvoiceCandidate.getQtyOrdered()).isEqualTo(qtyOrdered);\n\t\t\t\t}\n\n\t\t\t\tfinal BigDecimal qtyDelivered = DataTableUtil.extractBigDecimalOrNullForColumnName(row, "OPT." + COLUMNNAME_QtyDelivered);\n\t\t\t\tif (qtyDelivered != null)\n\t\t\t\t{\n\t\t\t\t\tassertThat(updatedInvoiceCandidate.getQtyDelivered()).isEqualTo(qtyDelivered);\n\t\t\t\t}\n\n\t\t\t\tfinal BigDecimal qtyToInvoice = DataTableUtil.extractBigDecimalOrNullForColumnName(row, "OPT." + COLUMNNAME_QtyToInvoice);\n\t\t\t\tif (qtyToInvoice != null)\n\t\t\t\t{\n\t\t\t\t\tassertThat(updatedInvoiceCandidate.getQtyToInvoice()).isEqualTo(qtyToInvoice);\n\t\t\t\t}\n\n\t\t\t\tfinal BigDecimal qtyToInvoiceOverride = DataTableUtil.extractBigDecimalOrNullForColumnName(row, "OPT." + COLUMNNAME_QtyToInvoice_Override);\n\t\t\t\tif (qtyToInvoiceOverride != null)\n\t\t\t\t{\n\t\t\t\t\tassertThat(updatedInvoiceCandidate.getQtyToInvoice_Override()).isEqualTo(qtyToInvoiceOverride);\n\t\t\t\t}\n\n\t\t\t\tfinal BigDecimal netAmtToInvoice = DataTableUtil.extractBigDecimalOrNullForColumnName(row, "OPT." + COLUMNNAME_NetAmtToInvoice);\n\t\t\t\tif (netAmtToInvoice != null)\n\t\t\t\t{\n\t\t\t\t\tassertThat(updatedInvoiceCandidate.getNetAmtToInvoice()).isEqualTo(netAmtToInvoice);\n\t\t\t\t}\n\t\t\t\tfinal BigDecimal netAmountInvoiced = DataTableUtil.extractBigDecimalOrNullForColumnName(row, "OPT." + COLUMNNAME_NetAmtInvoiced);\n\t\t\t\tif (netAmountInvoiced != null)\n\t\t\t\t{\n\t\t\t\t\tassertThat(updatedInvoiceCandidate.getNetAmtInvoiced()).isEqualTo(netAmountInvoiced);\n\t\t\t\t}\n\n\t\t\t\tfinal Boolean isSoTrx = DataTableUtil.extractBooleanForColumnNameOr(row, "OPT." + COLUMNNAME_IsSOTrx, null);\n\t\t\t\tif (isSoTrx != null)\n\t\t\t\t{\n\t\t\t\t\tassertThat(updatedInvoiceCandidate.isSOTrx()).isEqualTo(isSoTrx);\n\t\t\t\t}\n\n\t\t\t\tfinal String internalName = DataTableUtil.extractStringOrNullForColumnName(row, "OPT." + I_C_Invoice_Candidate.COLUMNNAME_AD_InputDataSource_ID + "." + I_AD_InputDataSource.COLUMNNAME_InternalName);\n\t\t\t\tif (Check.isNotBlank(internalName))\n\t\t\t\t{\n\t\t\t\t\tfinal I_AD_InputDataSource dataSource = inputDataSourceDAO.retrieveInputDataSource(Env.getCtx(), internalName, true, Trx.TRXNAME_None);\n\t\t\t\t\tassertThat(updatedInvoiceCandidate.getAD_InputDataSource_ID()).isEqualTo(dataSource.getAD_InputDataSource_ID());\n\t\t\t\t}\n\n\t\t\t\tfinal BigDecimal qtyWithIssuesEffective = DataTableUtil.extractBigDecimalOrNullForColumnName(row, "OPT." + COLUMNNAME_QtyWithIssues_Effective);\n\t\t\t\tif (qtyWithIssuesEffective != null)\n\t\t\t\t{\n\t\t\t\t\tassertThat(updatedInvoiceCandidate.getQtyWithIssues_Effective()).isEqualTo(qtyWithIssuesEffective);\n\t\t\t\t}\n\t\t\t}\n\t\t\tcatch (final Throwable e)\n\t\t\t{\n\t\t\t\twrapInvoiceCandidateRelatedException(e, invoiceCandidateRecord, invoiceCandidateIdentifier);\n\t\t\t}\n\t\t});\n\t}\n\nExample 6:\nGherkin Step:\n\n\t@Then("validate workflow process")\nGlue Code:\n\t@Then("validate workflow process")\n\tpublic void validateDocStatusForProcess(@NonNull final DataTable dataTable)\n\t{\n\t\tfinal SoftAssertions softAssertions = new SoftAssertions();\n\t\tDataTableRows.of(dataTable).forEach((row) -> {\n\t\t\tfinal WFProcessId processId = row.getAsIdentifier("WorkflowProcess").lookupIn(workflowProcessTable);\n\n\t\t\tif (processId.getAsString().startsWith(PickingMobileApplication.APPLICATION_ID.getAsString()))\n\t\t\t{\n\t\t\t\tvalidatePickingJob(processId, row, softAssertions);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tsoftAssertions.fail("Unknown processId = " + processId.getAsString());\n\t\t\t}\n\t\t});\n\n\t\tsoftAssertions.assertAll();\n\t}\n\nExample 7:\nGherkin Step:\n\n\t@Then("validate created edi desadv")\nGlue Code:\n\t@Then("validate created edi desadv")\n\tpublic void validate_edi_desadv(@NonNull final DataTable dataTable)\n\t{\n\t\tfinal List<Map<String, String>> tableRows = dataTable.asMaps(String.class, String.class);\n\t\tfor (final Map<String, String> tableRow : tableRows)\n\t\t{\n\t\t\tvalidateEdiDesadv(tableRow);\n\t\t}\n\t}\n\nExample 8:\nGherkin Step:\n\n\t@Then("validate \\"retrieve hu\\" response:")\nGlue Code:\n\t@Then("validate \\"retrieve hu\\" response:")\n\tpublic void validate_retrieve_HU_response(@NonNull final DataTable dataTable) throws JsonProcessingException\n\t{\n\t\tfinal JsonGetSingleHUResponse getHUResponse = restTestContext.getApiResponseBodyAs(JsonGetSingleHUResponse.class);\n\t\tfinal JsonHU topLevelHU = getHUResponse.getResult();\n\t\tassertThat(topLevelHU).isNotNull();\n\n\t\tfinal List<Map<String, String>> rows = dataTable.asMaps();\n\n\t\tfinal Map<String, Map<String, String>> identifierToRow = rows.stream()\n\t\t\t\t.collect(Collectors.toMap(row -> DataTableUtil.extractStringForColumnName(row, COLUMNNAME_M_HU_ID + "." + TABLECOLUMN_IDENTIFIER),\n\t\t\t\t\t\tFunction.identity()));\n\n\t\tfinal Map<String, String> topRow = rows.get(0);\n\t\tfinal String huIdentifier = DataTableUtil.extractStringForColumnName(topRow, COLUMNNAME_M_HU_ID + "." + TABLECOLUMN_IDENTIFIER);\n\n\t\tvalidateHU(ImmutableList.of(topLevelHU), ImmutableList.of(huIdentifier), identifierToRow);\n\t}\n\nExample 9:\nGherkin Step:\n\n\t@Then("validate get products response")\nGlue Code:\n\t@Then("validate get products response")\n\tpublic void verify_getProducts_response_v2(@NonNull final DataTable dataTable) throws JsonProcessingException\n\t{\n\t\tDataTableRows.of(dataTable).forEach(this::verifyGetProductsResponseV2);\n\t}\n\nExample 10:\nGherkin Step:\n\n\t@Then("validate retrieve product response")\nGlue Code:\n\t@Then("validate retrieve product response")\n\tpublic void validate_retrieve_product_response(@NonNull final DataTable dataTable) throws JsonProcessingException\n\t{\n\t\tfinal ObjectMapper mapper = JsonObjectMapperHolder.newJsonObjectMapper();\n\n\t\tfinal JsonProduct jsonProduct = mapper.readValue(testContext.getApiResponse().getContent(), JsonProduct.class);\n\t\tassertThat(jsonProduct).isNotNull();\n\n\t\tDataTableRows.of(dataTable).forEach(row -> validateJsonProduct(row, jsonProduct));\n\t}\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n\t@Then("validate customColumns:")\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:24,279 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:24,280 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:24,280 - DEBUG - send_request_headers.complete
2025-09-23 02:45:24,280 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:24,280 - DEBUG - send_request_body.complete
2025-09-23 02:45:24,280 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:24,465 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:24 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b4a7aa72bed1-YYC')])
2025-09-23 02:45:24,465 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:24,465 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:24,522 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:24 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b4a82a96420e-YYC')])
2025-09-23 02:45:24,523 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:24,523 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:24,562 - DEBUG - receive_response_body.complete
2025-09-23 02:45:24,562 - DEBUG - response_closed.started
2025-09-23 02:45:24,563 - DEBUG - response_closed.complete
2025-09-23 02:45:24,563 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:24 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b4a5cb2001e4-YYC'})
2025-09-23 02:45:24,563 - DEBUG - request_id: None
2025-09-23 02:45:24,565 - INFO - Generated glue code: 
```java
@Given("the previous entries:")
public void thePreviousEntries(List<Entry> entries) {
  for (Entry entry : entries) {
    calc.push(entry.first);
    calc.push(entry.second);
    calc.push(entry.operation);
  }
}
```
2025-09-23 02:45:24,571 - INFO - Step ID 1196 CodeBLEU: {'codebleu': 0.941707737468011, 'ngram_match_score': 0.897077374680109, 'weighted_ngram_match_score': 1.0, 'syntax_match_score': 0.88, 'dataflow_match_score': 1.0}
2025-09-23 02:45:24,571 - INFO - Generating glue code for step ID 1197
2025-09-23 02:45:24,574 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-b8e79894-eb07-4c43-9e8e-92b671279d6d', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n  @Given("a calculator I just turned on")\nGlue Code:\n  @Given("a calculator I just turned on")\n  public void a_calculator_I_just_turned_on() {\n    calc = new Calculator();\n  }\n\nExample 2:\nGherkin Step:\n\n  @Given("a calculator I just turned on")\nGlue Code:\n  @Given("a calculator I just turned on")\n  public void a_calculator_I_just_turned_on() {\n    calc = new Calculator();\n  }\n\nExample 3:\nGherkin Step:\n\n  @Given("a calculator I just turned on")\nGlue Code:\n  @Given("a calculator I just turned on")\n  public void a_calculator_I_just_turned_on() {\n    calc = new Calculator();\n  }\n\nExample 4:\nGherkin Step:\n\n  @Given("a flaky calculator I just turned on")\nGlue Code:\n  @Given("a flaky calculator I just turned on")\n  public void a_flaky_calculator_I_just_turned_on() {\n    calc = new Calculator(++flakyCounter < 3);\n  }\n\nExample 5:\nGherkin Step:\n\n  @When("I add {int} and {int}")\nGlue Code:\n  @When("I add {int} and {int}")\n  public void adding(int arg1, int arg2) {\n    calc.push(arg1);\n    calc.push(arg2);\n    calc.push("+");\n  }\n\nExample 6:\nGherkin Step:\n\n  @Then("the result is {int}")\nGlue Code:\n  @Then("the result is {int}")\n  public void the_result_is(double expected) {\n    assertEquals(expected, calc.value());\n  }\n\nExample 7:\nGherkin Step:\n\n  @When("I add {int} and {int}")\nGlue Code:\n  @When("I add {int} and {int}")\n  public void adding(int arg1, int arg2) {\n    calc.push(arg1);\n    calc.push(arg2);\n    calc.push("+");\n  }\n\nExample 8:\nGherkin Step:\n\n  @When("I slowly add {int} and {int}")\nGlue Code:\n  @When("I slowly add {int} and {int}")\n  public void addingSlow(int arg1, int arg2) throws InterruptedException {\n    Thread.sleep(1100);\n    calc.push(arg1);\n    calc.push(arg2);\n    calc.push("+");\n  }\n\nExample 9:\nGherkin Step:\n\n  @Given("^I press (.+)$")\nGlue Code:\n  @Given("^I press (.+)$")\n  public void I_press(String what) {\n    calc.push(what);\n  }\n\nExample 10:\nGherkin Step:\n\n  @Then("the result is {int}")\nGlue Code:\n  @Then("the result is {int}")\n  public void the_result_is(double expected) {\n    assertEquals(expected, calc.value());\n  }\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n  @Given("a calculator I just turned on")\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:24,575 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:24,576 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:24,576 - DEBUG - send_request_headers.complete
2025-09-23 02:45:24,576 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:24,577 - DEBUG - send_request_body.complete
2025-09-23 02:45:24,577 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:24,582 - DEBUG - receive_response_body.complete
2025-09-23 02:45:24,582 - DEBUG - response_closed.started
2025-09-23 02:45:24,582 - DEBUG - response_closed.complete
2025-09-23 02:45:24,582 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:23 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b4a0a9ab01dc-YYC'})
2025-09-23 02:45:24,582 - DEBUG - request_id: None
2025-09-23 02:45:24,584 - INFO - Generated glue code: 
```java
@Given( "Bidding Stakeholder logins" )
public void biddingStakeholderLogins() {
    emailRepository.deleteAll();
    bidRepository.deleteAll();

    webDriver.get( Utils.LOGIN_PAGE );
    webDriver.findElement( By.id( "email" ) ).sendKeys( stakeholder.getEmail() );
    webDriver.findElement( By.id( "password" ) ).sendKeys( "password" );
    webDriver.findElement( By.id( "submit" ) ).click();
}
```
2025-09-23 02:45:24,594 - INFO - Step ID 90 CodeBLEU: {'codebleu': 0.5135958938605942, 'ngram_match_score': 0.5637290311913866, 'weighted_ngram_match_score': 0.5946860477654321, 'syntax_match_score': 0.7543859649122807, 'dataflow_match_score': 0.24}
2025-09-23 02:45:24,594 - INFO - Generating glue code for step ID 91
2025-09-23 02:45:24,598 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-0bcba301-350d-4583-a86f-7f02ed8e0626', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n    @When( "stakeholder clicks add comment button" )\nGlue Code:\n    @When( "stakeholder clicks add comment button" )\n    public void stakeholderClicksAddCommentButton() {\n        webDriver.findElement( By.id( "add-comment-btn" ) ).click();\n        WebDriverWait wait = new WebDriverWait( webDriver, 20 );\n        wait.until( ExpectedConditions.visibilityOfElementLocated( By.id( "toast-container" ) ) );\n    }\n\nExample 2:\nGherkin Step:\n\n    @When( "user clicks on a project" )\nGlue Code:\n    @When( "user clicks on a project" )\n    public void userClicksOnAProject() {\n        webDriver.findElement( By.className( "btn" ) ).click();\n    }\n\nExample 3:\nGherkin Step:\n\n    @When( "Admin clicks the activate button on a deactivated user" )\nGlue Code:\n    @When( "Admin clicks the activate button on a deactivated user" )\n    public void adminClicksTheActivateButtonOnADeactivatedUser() {\n        webDriver.findElement( By.className( "enable-user-btn" ) ).click();\n    }\n\nExample 4:\nGherkin Step:\n\n    @When( "Admin clicks the reject button on a deactivated user" )\nGlue Code:\n    @When( "Admin clicks the reject button on a deactivated user" )\n    public void adminClicksTheRejectButtonOnADeactivatedUser() {\n        User user = Utils.getOrCreateTestUser( userService );\n        webDriver.findElement( By.id( "delete-" + user.getNickname() ) ).click();\n    }\n\nExample 5:\nGherkin Step:\n\n    @And( "Freelancer adds a comment" )\nGlue Code:\n    @And( "Freelancer adds a comment" )\n    public void freelancerAddsAComment() {\n        webDriver.findElement( By.id( "comment" ) ).sendKeys( "Hehe" );\n    }\n\nExample 6:\nGherkin Step:\n\n    @And( "user visits a public project page" )\nGlue Code:\n    @And( "user visits a public project page" )\n    public void freelancerVisitsAPublicProjectPage() {\n        webDriver.get( Utils.getProjectDetailsPage( project.getId() ) );\n    }\n\nExample 7:\nGherkin Step:\n\n    @When( "Stakeholder clicks dashboard button for a project" )\nGlue Code:\n    @When( "Stakeholder clicks dashboard button for a project" )\n    public void stakeholderClicksDashboardButtonForAProject() {\n        webDriver.findElement( By.id( "project-dashboard-btn-" + project.getId() ) ).click();\n    }\n\nExample 8:\nGherkin Step:\n\n    @And("stakeholder goes to a project dashboard")\nGlue Code:\n    @And("stakeholder goes to a project dashboard")\n    public void stakeholderGoesToAProjectDashboard() {\n        webDriver.get( Utils.getProjectDashboardPage( project.getId() ) );\n    }\n\nExample 9:\nGherkin Step:\n\n    @Then( "Project is added with {string} for bidding" )\nGlue Code:\n    @Then( "Project is added with {string} for bidding" )\n    public void projectIsAddedWithForBidding( String bidding ) {\n        var projects = projectRepository.findAll();\n\n        assertFalse( projects.isEmpty() );\n\n        var project = projects.get( 0 );\n        assertNotNull( project );\n        assertEquals( "new world order", project.getName() );\n        assertEquals( "Make all people slaves", project.getDescription() );\n        assertEquals( 200.0, project.getPreferredBid() );\n        assertEquals( 31, project.getDuration().toDays() );\n        assertEquals( 100, project.getMinimumQualification() );\n        assertEquals( bidding, String.valueOf( project.isAllowBidding() ) );\n        assertNotNull( project.getOwner() );\n        assertEquals( this.user.getEmail(), project.getOwner().getUser().getEmail() );\n\n        projectRepository.deleteAll(); // For other tests\n        webDriver.close();\n    }\n\nExample 10:\nGherkin Step:\n\n    @Given( "a user with a token visits the password reset page" )\nGlue Code:\n    @Given( "a user with a token visits the password reset page" )\n    public void aUserWithATokenVisitsThePasswordResetPage() {\n        User user = Utils.getOrCreateTestUser( userService );\n        var token = userService.createForgotPasswordToken( user.getEmail() );\n\n        webDriver.get( Utils.getPasswordResetTokenUrl( token.getToken() ) );\n    }\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n    @And( "stakeholder types a comment on a bidding" )\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:24,599 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:24,600 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:24,600 - DEBUG - receive_response_body.complete
2025-09-23 02:45:24,600 - DEBUG - send_request_headers.complete
2025-09-23 02:45:24,601 - DEBUG - response_closed.started
2025-09-23 02:45:24,601 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:24,601 - DEBUG - response_closed.complete
2025-09-23 02:45:24,601 - DEBUG - send_request_body.complete
2025-09-23 02:45:24,602 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:22 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b4984e414214-YYC'})
2025-09-23 02:45:24,602 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:24,602 - DEBUG - request_id: None
2025-09-23 02:45:24,604 - INFO - Generated glue code: 
```java
@Given("{string} has borrowed book(s) {string}")
public void has_borrowed_books(String borrower, String isbns) {
    List<Book> books = (List<Book>) storyContext.getObject("LAST_INSERTED_BOOKS");
    Splitter.on(" ").omitEmptyStrings().splitToList(isbns).forEach(isbn -> {
        Book bookToBeBorrowed = books.stream()
                                    .filter(book -> book.getIsbn().equals(isbn))
                                    .findFirst()
                                    .orElseThrow();

        Borrowing newBorrowing = new Borrowing(bookToBeBorrowed, borrower, LocalDate.now());
        borrowingRepository.save(newBorrowing);

        bookToBeBorrowed.setBorrowing(newBorrowing);
        bookRepository.save(bookToBeBorrowed);
    });
}
```
2025-09-23 02:45:24,611 - WARNING - WARNING: There is no reference data-flows extracted from the whole corpus, and the data-flow match score degenerates to 0. Please consider ignoring this score.
2025-09-23 02:45:24,612 - INFO - Step ID 64 CodeBLEU: {'codebleu': 0.7477903459082265, 'ngram_match_score': 0.07790345908226491, 'weighted_ngram_match_score': 1.0, 'syntax_match_score': 0.6, 'dataflow_match_score': 0}
2025-09-23 02:45:24,612 - INFO - Generating glue code for step ID 65
2025-09-23 02:45:24,615 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-611b2d5b-8f49-42c5-81da-e91a1d2762fe', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n\n    @Given("{string} has borrowed book(s) {string}")\nGlue Code:\n\n    @Given("{string} has borrowed book(s) {string}")\n\nExample 2:\nGherkin Step:\n\n  @Then("the list shows the books {string} with due date {date}")\nGlue Code:\n  @Then("the list shows the books {string} with due date {date}")\n  public void the_list_shows_the_books(String isbns, LocalDate dueDate) {\n    HtmlBookList tableContent = seleniumAdapter.getTableContent(PageElement.BORROWED_BOOK_LIST);\n    HtmlBook bookByIsbn = tableContent.getBookByIsbn(isbns);\n\n    assertThat(bookByIsbn).isNotNull();\n    assertThat(bookByIsbn)\n        .hasFieldOrPropertyWithValue("dueDate", dueDate)\n        .hasFieldOrPropertyWithValue("isbn", isbns);\n  }\n\nExample 3:\nGherkin Step:\n\n    @Then("the library still contains all borrowed books {string}")\nGlue Code:\n    @Then("the library still contains all borrowed books {string}")\n    public void shouldContainOneCopyOf(String isbn) {\n        if (isbn.isEmpty()) return;\n        assertThat(bookRepository.findByIsbn(isbn).size(), is(1));\n    }\n\nExample 4:\nGherkin Step:\n\n  @Then("book(s) {string} is/are {string} by {string}")\nGlue Code:\n  @Then("book(s) {string} is/are {string} by {string}")\n  public void booksAreNotBorrowedByBorrower1(String isbns, String borrowStatus, String borrower) {\n    seleniumAdapter.gotoPage(Page.BOOKLIST);\n    HtmlBookList htmlBookList = seleniumAdapter.getTableContent(PageElement.BOOK_LIST);\n\n    long booksInWrongBorrowingState =\n        Splitter.on(" ").omitEmptyStrings().splitToList(isbns).stream()\n            .filter(\n                isbn -> {\n                  String actualBorrower = htmlBookList.getBookByIsbn(isbn).getBorrower();\n                  return !borrowStatus.contains("not borrowed") != borrower.equals(actualBorrower);\n                })\n            .count();\n\n    assertThat(booksInWrongBorrowingState, is(0L));\n  }\n\nExample 5:\nGherkin Step:\n\n  @When("{string} requests list of borrowed books")\nGlue Code:\n  @When("{string} requests list of borrowed books")\n  public void requests_list_of_borrowed_books(String borrower) {\n    seleniumAdapter.gotoPage(Page.BORROWED_BOOK_LIST);\n    seleniumAdapter.typeIntoField("email", borrower);\n    seleniumAdapter.clickOnPageElementById(PageElement.SHOW_BORROWED_BOOKS_BUTTON);\n  }\n\nExample 6:\nGherkin Step:\n\n    @Then("the new book {string} be added")\nGlue Code:\n    @Then("the new book {string} be added")\n    public void shouldNotHaveCreatedANewCopy(String can) {\n        Book lastInsertedBook = (Book) storyContext.getObject("LAST_INSERTED_BOOK");\n        int numberOfCopies = "CAN".equals(can) ? 2 : 1;\n        assertNumberOfCopies(lastInsertedBook.getIsbn(), numberOfCopies);\n    }\n\nExample 7:\nGherkin Step:\n\n  @Then("the booklist lists {string} as borrower for the book with isbn {string}")\nGlue Code:\n  @Then("the booklist lists {string} as borrower for the book with isbn {string}")\n  public void bookListHasBorrowerForBookWithIsbn(final String borrower, final String isbn) {\n    seleniumAdapter.gotoPage(Page.BOOKLIST);\n    HtmlBookList htmlBookList = seleniumAdapter.getTableContent(PageElement.BOOK_LIST);\n    HtmlBook htmlBook = htmlBookList.getBookByIsbn(isbn);\n    assertThat(htmlBook.getBorrower(), is(borrower));\n  }\n\nExample 8:\nGherkin Step:\n\n  @When("a librarian tries to add a similar book with different {string}, {string} and {int}")\nGlue Code:\n  @When("a librarian tries to add a similar book with different {string}, {string} and {int}")\n  public void whenASimilarBookIsAdded(String title, String author, Integer edition) {\n    Book lastInsertedBook = (Book) storyContext.getObject("LAST_INSERTED_BOOK");\n    insertAndSubmitBook(\n        lastInsertedBook.getIsbn(),\n        title,\n        author,\n        edition,\n        String.valueOf(lastInsertedBook.getYearOfPublication()),\n        lastInsertedBook.getDescription());\n  }\n\nExample 9:\nGherkin Step:\n\n    @Given("an empty library")\nGlue Code:\n    @Given("an empty library")\n    public void emptyLibrary() {\n        bookService.deleteAllBooks();\n    }\n\nExample 10:\nGherkin Step:\n\n    @Given("a library, containing (only one )book(s) with isbn(s) {string}")\nGlue Code:\n    @Given("a library, containing (only one )book(s) with isbn(s) {string}")\n    public void createLibraryWithSingleBookWithGivenIsbn(String isbns) {\n        emptyLibrary();\n        List<Book> newBooks = createNewBooksByISBNS(isbns);\n        newBooks.stream().forEach(book -> storyContext.putObject("LAST_INSERTED_BOOK", book));\n        storyContext.putObject("LAST_INSERTED_BOOKS", newBooks);\n\n\n//    Book book = DemoBookFactory.createDemoBook().withISBN(isbn).build();\n//    Optional<Book> createdBook =\n//        bookService.createBook(\n//            new BookParameter(\n//                book.getTitle(),\n//                book.getAuthor(),\n//                book.getEdition(),\n//                book.getIsbn(),\n//                book.getYearOfPublication(),\n//                book.getDescription()));\n//    createdBook.ifPresent(b -> storyContext.putObject("LAST_INSERTED_BOOK", b));\n    }\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n    @Given("{string} has borrowed books {string} on {date}")\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:24,617 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:24,617 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:24,618 - DEBUG - send_request_headers.complete
2025-09-23 02:45:24,618 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:24,618 - DEBUG - send_request_body.complete
2025-09-23 02:45:24,618 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:24,720 - DEBUG - receive_response_body.complete
2025-09-23 02:45:24,720 - DEBUG - response_closed.started
2025-09-23 02:45:24,721 - DEBUG - response_closed.complete
2025-09-23 02:45:24,721 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:24 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b4a7bb7001de-YYC'})
2025-09-23 02:45:24,721 - DEBUG - request_id: None
2025-09-23 02:45:24,722 - INFO - Generated glue code: 
```java
@When("^I open the individual owner panel$")
public void i_open_the_individual_owner_panel() {
    applicationSteps.openIndividualOwnerPanel();
}
```
2025-09-23 02:45:24,725 - WARNING - WARNING: There is no reference data-flows extracted from the whole corpus, and the data-flow match score degenerates to 0. Please consider ignoring this score.
2025-09-23 02:45:24,726 - INFO - Step ID 1050 CodeBLEU: {'codebleu': 0.8113841581012742, 'ngram_match_score': 0.5437427682227519, 'weighted_ngram_match_score': 0.6610079036990795, 'syntax_match_score': 0.7272727272727273, 'dataflow_match_score': 0}
2025-09-23 02:45:24,777 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:24 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b4aacae2bec2-YYC')])
2025-09-23 02:45:24,778 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:24,778 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:24,954 - DEBUG - receive_response_body.complete
2025-09-23 02:45:24,954 - DEBUG - response_closed.started
2025-09-23 02:45:24,954 - DEBUG - response_closed.complete
2025-09-23 02:45:24,955 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:22 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b499bbb6bf01-YYC'})
2025-09-23 02:45:24,955 - DEBUG - request_id: None
2025-09-23 02:45:24,957 - INFO - Generated glue code: 
```java
@Then("^The database should be seeded with the dataset content before test execution$")
@DataSet("yml/users.yml")
public void The_database_should_be_seeded_with_the_dataset_content_before_test_execution() throws Throwable {
    List<User> users = em.createQuery("select u from User u order by u.id asc").getResultList();
    User user1 = new User(1);
    User user2 = new User(2);
    Tweet tweetUser1 = new Tweet();
    tweetUser1.setId("abcdef12345");
    Tweet tweetUser2 = new Tweet();
    tweetUser2.setId("abcdef12233");
    assertThat(users).isNotNull().hasSize(2).contains(user1, user2);
    List<Tweet> tweetsUser1 = users.get(0).getTweets();
    assertThat(tweetsUser1).isNotNull().hasSize(1).contains(tweetUser1);

    List<Tweet> tweetsUser2 = users.get(1).getTweets();
    assertThat(tweetsUser2).isNotNull().hasSize(2).contains(tweetUser2);
}
```
2025-09-23 02:45:24,966 - WARNING - WARNING: There is no reference data-flows extracted from the whole corpus, and the data-flow match score degenerates to 0. Please consider ignoring this score.
2025-09-23 02:45:24,966 - INFO - Step ID 31 CodeBLEU: {'codebleu': 0.7134707969318442, 'ngram_match_score': 0.18901604946741826, 'weighted_ngram_match_score': 0.7234696976288014, 'syntax_match_score': 0.5555555555555556, 'dataflow_match_score': 0}
2025-09-23 02:45:24,966 - INFO - Generating glue code for step ID 32
2025-09-23 02:45:24,967 - DEBUG - receive_response_body.complete
2025-09-23 02:45:24,971 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-31b45ced-5623-454a-8c45-a395595023b3', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n    @Then("^The database should be seeded with the dataset content before test execution$")\nGlue Code:\n    @Then("^The database should be seeded with the dataset content before test execution$")\n    public void The_database_should_be_seeded_with_the_dataset_content() throws Throwable {\n\n    }\n\nExample 2:\nGherkin Step:\n\n    @Then("^The database should be seeded with the dataset content before step execution$")\nGlue Code:\n    @Then("^The database should be seeded with the dataset content before step execution$")\n    public void The_database_should_be_seeded_with_the_dataset_content_before_step_execution() throws Throwable {\n        // Express the Regexp above with the code you wish you had\n    }\n\nExample 3:\nGherkin Step:\n\n    @Then("^Dataset script should be interpreted while seeding the database$")\nGlue Code:\n    @Then("^Dataset script should be interpreted while seeding the database$")\n    public void Dataset_script_should_be_interpreted_when_seeding_the_database() throws Throwable {\n        // Express the Regexp above with the code you wish you had\n    }\n\nExample 4:\nGherkin Step:\n\n\n    @Then("^Test must fail with following error:$")\nGlue Code:\n\n    @Then("^Test must fail with following error:$")\n    public void Test_must_fail_with_following_error(String docstring) throws Throwable {\n        assertNotNull(docstring);\n    }\n\nExample 5:\nGherkin Step:\n\n    @Then("^Test must pass because inserted users are commited to database and database state matches expected dataset.$")\nGlue Code:\n    @Then("^Test must pass because inserted users are commited to database and database state matches expected dataset.$")\n    public void Test_must_pass_because_inserted_users_are_commited_to_database_and_database_state_matches_in_expected_dataset() throws Throwable {\n    }\n\nExample 6:\nGherkin Step:\n\n    @When("^The following test is executed:$")\nGlue Code:\n    @When("^The following test is executed:$")\n    public void The_test_below_is_executed(String docstring) throws Throwable {\n        assertNotNull(docstring);\n    }\n\nExample 7:\nGherkin Step:\n\n\n\n    @Given("^The following junit5 test is executed$")\nGlue Code:\n\n\n    @Given("^The following junit5 test is executed$")\n    public void the_following_junit_rules(String docString) throws Throwable {\n\n    }\n\nExample 8:\nGherkin Step:\n\n\n    @Given("^Groovy script engine is on test classpath$")\nGlue Code:\n\n    @Given("^Groovy script engine is on test classpath$")\n    public void Groovy_script_engine_is_on_test_classpath(String docstring) throws Throwable {\n        // Express the Regexp above with the code you wish you had\n        assertNotNull(docstring);\n    }\n\nExample 9:\nGherkin Step:\n\n    @Then("^Test must pass because database state is as in expected dataset.$")\nGlue Code:\n    @Then("^Test must pass because database state is as in expected dataset.$")\n    public void Test_must_pass_because_dataBase_state_is_as_expected_in_dataset() throws Throwable {\n        // Express the Regexp above with the code you wish you had\n    }\n\nExample 10:\nGherkin Step:\n\n\n    @Given("^DBUnit interceptor is enabled in your test beans.xml:$")\nGlue Code:\n\n    @Given("^DBUnit interceptor is enabled in your test beans.xml:$")\n    public void DBUnit_interceptor_is_enabled_in_your_test_beans_xml(String docstring) throws Throwable {\n        assertTrue(true);\n    }\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n    @Then("^The database should be seeded with the dataset content before test execution$")\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:24,971 - DEBUG - response_closed.started
2025-09-23 02:45:24,972 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:24,972 - DEBUG - response_closed.complete
2025-09-23 02:45:24,973 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:24,974 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:24 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b4a82a96420e-YYC'})
2025-09-23 02:45:24,974 - DEBUG - send_request_headers.complete
2025-09-23 02:45:24,974 - DEBUG - request_id: None
2025-09-23 02:45:24,975 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:24,976 - INFO - Generated glue code: 
```java
@Given("thresholds are configured as HIGH: {int}, MEDIUM: {int}, LOW: {int}")
public void thresholdsAreConfigured(int high, int medium, int low) {
    state.configuredThresholds = toSeverityMap(high, medium, low);
}
```
2025-09-23 02:45:24,977 - DEBUG - send_request_body.complete
2025-09-23 02:45:24,977 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:24,981 - INFO - Step ID 636 CodeBLEU: {'codebleu': 0.652326385057318, 'ngram_match_score': 0.6567939165466561, 'weighted_ngram_match_score': 0.6684023011762813, 'syntax_match_score': 0.5217391304347826, 'dataflow_match_score': 0.7777777777777778}
2025-09-23 02:45:24,981 - INFO - Generating glue code for step ID 637
2025-09-23 02:45:24,985 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-58789d79-a8b6-4037-882e-58118c00c27c', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n    @Given("SCA thresholds section {} in cxflow configuration")\nGlue Code:\n    @Given("SCA thresholds section {} in cxflow configuration")\n    public void setThresholdsSectionExist(boolean thresholdsExist) {\n        thresholdsSectionExist = thresholdsExist;\n    }\n\nExample 2:\nGherkin Step:\n\n\n    @Then("CxFlow {string} the pull request and cx.config truncates the data in application.yml")\nGlue Code:\n\n    @Then("CxFlow {string} the pull request and cx.config truncates the data in application.yml")\n\nExample 3:\nGherkin Step:\n    \n    @Then("CxFlow will create appropriate tickets in project {string} in namespace {string} in Azure")\nGlue Code:\n    @Then("CxFlow will create appropriate tickets in project {string} in namespace {string} in Azure")\n    public void validateIssues(String project, String namespace){\n        try {\n            azureDevopsClient.init(namespace,project);\n            assertTrue(azureDevopsClient.projectExists());\n            assertEquals(2, azureDevopsClient.getIssues().size());\n            \n        } catch (IOException e) {\n            fail(e.getMessage());\n        }\n    }\n\nExample 4:\nGherkin Step:\n\n\n    @And("output json logger will have Scan request {string}")\nGlue Code:\n\n    @And("output json logger will have Scan request {string}")\n\nExample 5:\nGherkin Step:\n\n    @When("scan project in batch mode")\nGlue Code:\n    @When("scan project in batch mode")\n    public void scanProjectInBatchMode() throws Exception {\n        TestUtils.runCxFlow(cxFlowRunner, "--" + CxFlowRunner.THROW_INSTEAD_OF_EXIT_OPTION +\n                " --batch --project --cx-project=" + this.projectName +\n                " --cx-team=" + this.teamName);\n    }\n\nExample 6:\nGherkin Step:\n\n    @Then("CxFlow initiate scan in CxGo")\nGlue Code:\n    @Then("CxFlow initiate scan in CxGo")\n    public void initCxGoScan() throws CheckmarxException {\n        String teamId = cxGoProperties.getTeam();\n        String ownerId = cxGoClient.getTeamId(teamId);\n        cxgoProjectId = cxGoClient.getProjectId(ownerId, CXGO_PROJECT_NAME);\n        oldScanId = cxGoClient.getLastScanId(cxgoProjectId);\n        log.info("checking for active scans in projectId \'{}\'", cxgoProjectId);\n    }\n\nExample 7:\nGherkin Step:\n\n\n    @Then("verify {int} findings in body")\nGlue Code:\n\n    @Then("verify {int} findings in body")\n\nExample 8:\nGherkin Step:\n\n    @Given("{string} project exists in SAST")\nGlue Code:\n    @Given("{string} project exists in SAST")\n    public void projectExistsInSAST(String projectName) throws CheckmarxException {\n        this.projectId = ensureProjectExists(projectName);\n    }\n\nExample 9:\nGherkin Step:\n\n    @And("team in application.yml is {string}")\nGlue Code:\n    @And("team in application.yml is {string}")\n    public void setTeam(String team) {\n        this.teamName = team;\n        cxProperties.setTeam(team);\n    }\n\nExample 10:\nGherkin Step:\n    \n    @And("team in application.yml is \\\\CxServer\\\\SP")\nGlue Code:\n    @And("team in application.yml is \\\\CxServer\\\\SP")\n    public void setTeam() {\n        setDeafultTeam();\n    }\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n    @Given("SCA Scan in configured in application.yml")\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:24,986 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:24,987 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:24,987 - DEBUG - send_request_headers.complete
2025-09-23 02:45:24,987 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:24,988 - DEBUG - send_request_body.complete
2025-09-23 02:45:24,988 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:25,052 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:25 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b4accedb01dc-YYC')])
2025-09-23 02:45:25,053 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:25,053 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:25,081 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:25 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b4acef6b4214-YYC')])
2025-09-23 02:45:25,081 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:25,082 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:25,144 - DEBUG - receive_response_body.complete
2025-09-23 02:45:25,145 - DEBUG - response_closed.started
2025-09-23 02:45:25,145 - DEBUG - response_closed.complete
2025-09-23 02:45:25,145 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:22 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b49d181801d4-YYC'})
2025-09-23 02:45:25,145 - DEBUG - request_id: None
2025-09-23 02:45:25,147 - INFO - Generated glue code: 
```java
@When("^I send the HTTP request \"([^\"]*)\" \"([^\"]*)\"$")
public void I_send_the_HTTP_request(String method, String url) throws Throwable {
    // You can implement the actual HTTP request sending logic here.
    // For example, create a MockHttpServletRequest and configure it:
    
    request = new MockHttpServletRequest(this.wac.getServletContext());
    request.setMethod(method);
    request.setContextPath(this.contextPath);
    request.setServletPath(url.replaceFirst(this.contextPath, ""));
    request.addHeader("host", host);

    for (HTTPHeader header : headers) {
        request.addHeader(header.name, header.value);
    }

    for (HTTPParam param : queryParams) {
        request.addParameter(param.name, param.value);
    }

    ServletRequestAttributes requestAttributes = new ServletRequestAttributes(request);
    RequestContextHolder.setRequestAttributes(requestAttributes);

    chain = this.hm.getHandler(request);
}
```
2025-09-23 02:45:25,163 - INFO - Step ID 4 CodeBLEU: {'codebleu': 0.527577923670679, 'ngram_match_score': 0.5362165100011784, 'weighted_ngram_match_score': 0.5628903424860572, 'syntax_match_score': 0.7045454545454546, 'dataflow_match_score': 0.33962264150943394}
2025-09-23 02:45:25,163 - INFO - Generating glue code for step ID 5
2025-09-23 02:45:25,167 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-2002c8b2-df8b-4065-8a45-b6be38347f57', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n\n\n    @When("^I send the HTTP request \\"([^\\"]*)\\" \\"([^\\"]*)\\"$")\nGlue Code:\n\n\n    @When("^I send the HTTP request \\"([^\\"]*)\\" \\"([^\\"]*)\\"$")\n    public void I_send_the_HTTP_request(String method, String url) throws Throwable {\n\n        int pathLength = 0;\n        if(this.contextPath.length() > 0) {\n            pathLength += this.contextPath.length();\n        }\n\n        if(this.servletPath.length() > 0) {\n            pathLength += this.servletPath.length();\n        }\n\n        request = new MockHttpServletRequest(this.wac.getServletContext(),method, url);\n        request.setContextPath(this.contextPath);\n        request.setServletPath(this.servletPath);\n        request.addHeader("host", host);\n\n\t    ServletRequestAttributes requestAttributes = new ServletRequestAttributes(request);\n\t    RequestContextHolder.setRequestAttributes(requestAttributes);\n\n        for (HTTPHeader header : headers) {\n            request.addHeader(header.name, header.value);\n        }\n\n        for (HTTPParam param : queryParams) {\n            request.addParameter(param.name, param.value);\n        }\n\n        request.setPathInfo(url.substring(pathLength));\n        chain = this.hm.getHandler(request);\n    }\n\nExample 2:\nGherkin Step:\n\n    @When("^I send the HTTP request \\"([^\\"]*)\\" \\"([^\\"]*)\\" with headers:$")\nGlue Code:\n    @When("^I send the HTTP request \\"([^\\"]*)\\" \\"([^\\"]*)\\" with headers:$")\n    public void I_send_the_HTTP_request_with_headers(String method, String url, List<HTTPHeader> headers) throws Throwable {\n\n        this.headers = headers;\n        I_send_the_HTTP_request(method,url);\n    }\n\nExample 3:\nGherkin Step:\n\n    @When("^I send the HTTP request \\"([^\\"]*)\\" \\"([^\\"]*)\\" with query params:$")\nGlue Code:\n    @When("^I send the HTTP request \\"([^\\"]*)\\" \\"([^\\"]*)\\" with query params:$")\n    public void I_send_the_HTTP_request_with_query_params(String method, String url, List<HTTPParam> queryParams) throws Throwable {\n\n        this.queryParams = queryParams;\n        I_send_the_HTTP_request(method,url);\n    }\n\nExample 4:\nGherkin Step:\n\n\n\n    @When("^I send the HTTP request \\"([^\\"]*)\\" \\"([^\\"]*)\\" to host \\"([^\\"]*)\\"$")\nGlue Code:\n\n\n    @When("^I send the HTTP request \\"([^\\"]*)\\" \\"([^\\"]*)\\" to host \\"([^\\"]*)\\"$")\n    public void I_send_the_HTTP_request_to_host(String method, String url, String host) throws Throwable {\n\n        this.host = host;\n        I_send_the_HTTP_request(method,url);\n    }\n\nExample 5:\nGherkin Step:\n\n    @Then("^the server should send an HTTP response with status \\"([^\\"]*)\\"$")\nGlue Code:\n    @Then("^the server should send an HTTP response with status \\"([^\\"]*)\\"$")\n    public void the_server_should_send_an_HTTP_response_with_status(int status) throws Throwable {\n\n        RouterHandler handler = null;\n        MockHttpServletResponse response = new MockHttpServletResponse();\n\n        if(chain != null) {\n            handler = (RouterHandler) chain.getHandler();\n        }\n\n        HandlerInterceptor[] interceptors = chain.getInterceptors();\n\n        for(HandlerInterceptor interceptor : Arrays.asList(interceptors)) {\n            interceptor.preHandle(request,response, handler);\n        }\n\n        ha.handle(request, response, handler);\n        assertThat(response.getStatus()).isEqualTo(status);\n    }\n\nExample 6:\nGherkin Step:\n\n    @Given("^I have a web application with the config locations \\"([^\\"]*)\\"$")\nGlue Code:\n    @Given("^I have a web application with the config locations \\"([^\\"]*)\\"$")\n    public void I_have_a_web_applications_with_the_config_locations(String locations) throws Throwable {\n        I_have_a_web_application_configured_locations_servletPath_contextPath(locations,"","");\n    }\n\nExample 7:\nGherkin Step:\n\n    @Given("^the current request is processed within a context path \\"([^\\"]*)\\" and servlet path \\"([^\\"]*)\\"$")\nGlue Code:\n    @Given("^the current request is processed within a context path \\"([^\\"]*)\\" and servlet path \\"([^\\"]*)\\"$")\n    public void the_current_request_is_processed_within_a_context_path_and_servlet_path(String contextPath, String servletPath) throws Throwable {\n\n        MockHttpServletRequest request = new MockHttpServletRequest("GET", "/reverse-routing");\n        request.addHeader("host","example.org");\n        request.setContextPath(contextPath);\n        request.setServletPath(servletPath);\n\n\t    ServletRequestAttributes requestAttributes = new ServletRequestAttributes(request);\n\t    RequestContextHolder.setRequestAttributes(requestAttributes);\n\n        this.requestAdapter = HTTPRequestAdapter.parseRequest(request);\n    }\n\nExample 8:\nGherkin Step:\n\n    @When("^I build a link for controller \\"([^\\"]*)\\" and action \\"([^\\"]*)\\"$")\nGlue Code:\n    @When("^I build a link for controller \\"([^\\"]*)\\" and action \\"([^\\"]*)\\"$")\n    public void I_build_a_link_for_controller_and_action(String controller, String action) throws Throwable {\n\n         linkBuilder = RouterLinkBuilder.linkTo(controller,action);\n    }\n\nExample 9:\nGherkin Step:\n\n    @Given("^a current request \\"([^\\"]*)\\" \\"([^\\"]*)\\" with servlet path \\"([^\\"]*)\\" and context path \\"([^\\"]*)\\"$")\nGlue Code:\n    @Given("^a current request \\"([^\\"]*)\\" \\"([^\\"]*)\\" with servlet path \\"([^\\"]*)\\" and context path \\"([^\\"]*)\\"$")\n    public void a_current_request_with_servlet_path_and_context_path(String method, String url, String servletPath, String contextPath) throws Throwable {\n\n        MockServletContext sc = new MockServletContext();\n        sc.setContextPath(contextPath);\n\n        int pathLength = 0;\n        if(contextPath.length() > 0) {\n            pathLength += contextPath.length();\n        }\n\n        if(servletPath.length() > 0) {\n            pathLength += servletPath.length();\n        }\n\n        request = new MockHttpServletRequest(sc, method, url);\n        request.setContextPath(contextPath);\n        request.setServletPath(servletPath);\n        request.addHeader("host", host);\n\n        request.setPathInfo(url.substring(pathLength));\n\n\t    ServletRequestAttributes requestAttributes = new ServletRequestAttributes(request);\n\t    RequestContextHolder.setRequestAttributes(requestAttributes);\n\n        HTTPRequestAdapter.parseRequest(request);\n    }\n\nExample 10:\nGherkin Step:\n\n    @Given("^I have a route with method \\"([^\\"]*)\\" path \\"([^\\"]*)\\" action \\"([^\\"]*)\\"$")\nGlue Code:\n    @Given("^I have a route with method \\"([^\\"]*)\\" path \\"([^\\"]*)\\" action \\"([^\\"]*)\\"$")\n    public void I_have_a_route_with_method_url_action(String method, String path, String action) throws Throwable {\n        Router.prependRoute(method, path, action);\n    }\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n    @When("^I send the HTTP request \\"([^\\"]*)\\" \\"([^\\"]*)\\" with a null pathInfo$")\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:25,168 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:25,168 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:25,169 - DEBUG - send_request_headers.complete
2025-09-23 02:45:25,169 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:25,169 - DEBUG - send_request_body.complete
2025-09-23 02:45:25,169 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:25,211 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:25 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b4aca9e901e4-YYC')])
2025-09-23 02:45:25,212 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:25,212 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:25,215 - DEBUG - receive_response_body.complete
2025-09-23 02:45:25,215 - DEBUG - response_closed.started
2025-09-23 02:45:25,215 - DEBUG - response_closed.complete
2025-09-23 02:45:25,215 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:24 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b4a7aa72bed1-YYC'})
2025-09-23 02:45:25,216 - DEBUG - request_id: None
2025-09-23 02:45:25,218 - INFO - Generated glue code: 
```java
@When("^automation click current menu item \"([^\"]*)\"$")
public void automationClickCurrentMenuItem(String pattern) throws Throwable {
    currentMenuItem = currentMenuItem.findChild(pattern);
    currentMenuItem.click();
}
```
2025-09-23 02:45:25,223 - INFO - Step ID 255 CodeBLEU: {'codebleu': 0.38058266958429804, 'ngram_match_score': 0.41780046002205223, 'weighted_ngram_match_score': 0.45873330652799904, 'syntax_match_score': 0.45454545454545453, 'dataflow_match_score': 0.2777777777777778}
2025-09-23 02:45:25,224 - INFO - Generating glue code for step ID 256
2025-09-23 02:45:25,228 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-167f2f78-29a8-4652-b61f-699b13f4bf0f', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n    @Given("^add C64 hardware$")\nGlue Code:\n    @Given("^add C64 hardware$")\n    public void addC64Hardware() throws MemoryRangeException {\n        C64VICII deviceVIC = new C64VICII(scenario);\n        if (displayC64 != null) {\n            displayC64.setTheVICII(deviceVIC);\n        }\n        machine.getCpu().getBus().addDevice(deviceVIC , 1);\n\n        machine.getCpu().getBus().addDevice(new C64SID(scenario) , 1);\n\n        Device device = new C64ColourRAM(scenario);\n        if (displayC64 != null) {\n            displayC64.setTheColourRAM(device);\n        }\n        machine.getCpu().getBus().addDevice(device , 1);\n\n        device = new C64IO(scenario);\n        if (displayC64 != null) {\n            displayC64.setTheIO(device);\n        }\n        machine.getCpu().getBus().addDevice(device , 1);\n    }\n\nExample 2:\nGherkin Step:\n    @Given("^add C64 regular IRQ trigger of \\"(.*)\\" cycles$")\nGlue Code:\n    public void addC64RegularIRQTriggerOfCyccles(String cycles) throws ParseException, ScriptException {\n        regularTimedIRQCyclesReset = valueToInt(PropertiesResolution.resolveInput(scenario, cycles));\n        regularTimedIRQCycles = regularTimedIRQCyclesReset;\n    }\n\n    @Given("^set the variable \\"([^\\"]*)\\" equal to the cycle count$")\n    public void setTheVariableEqualToTheCycleCount(String name) throws Throwable {\n\nExample 3:\nGherkin Step:\n\n    @Given("^render a C64 video display frame$")\nGlue Code:\n    @Given("^render a C64 video display frame$")\n    public void renderAC64VideoDisplayFrame() {\n        displayC64.calculateAFrame();\n        displayC64.RepaintWindow();\n    }\n\nExample 4:\nGherkin Step:\n\n    @Given("^force C64 displayed bank to (\\\\d+)$")\nGlue Code:\n    @Given("^force C64 displayed bank to (\\\\d+)$")\n    public void force_C64_displayed_bank_to(int bank) throws Throwable {\n        displayC64.setForceBank(bank);\n    }\n\nExample 5:\nGherkin Step:\n\n    @Given("^show C64 video window$")\nGlue Code:\n    @Given("^show C64 video window$")\n    public void showC64VideoWindow() {\n        displayC64.InitWindow();\n    }\n\nExample 6:\nGherkin Step:\n\n\n    @Given("^a new C64 video display$")\nGlue Code:\n\n    @Given("^a new C64 video display$")\n    public void aNewC64VideoDisplay() throws IOException {\n        if (displayC64 != null) {\n            displayC64.getWindow().dispatchEvent(new WindowEvent(displayC64.getWindow(), WindowEvent.WINDOW_CLOSING));\n        }\n        displayC64 = new DisplayC64();\n    }\n\nExample 7:\nGherkin Step:\n\n    @Given("^I am using C64 processor port options$")\nGlue Code:\n    @Given("^I am using C64 processor port options$")\n    public void i_am_using_C_processor_port_options() throws Throwable {\n        machine.getBus().setProcessorPort();\n    }\n\nExample 8:\nGherkin Step:\n\n    @Then("^I expect IODevice buffer to equal \\"(.+)\\"$")\nGlue Code:\n    @Then("^I expect IODevice buffer to equal \\"(.+)\\"$")\n    public void iExpectIODeviceBufferToEqual(String value) throws Throwable {\n        SortedSet<Device> devices = machine.getBus().getDevices();\n        assertThat(devices.isEmpty(), is(equalTo(false)));\n        Iterator<Device> it = devices.iterator();\n        boolean found = false;\n        while (it.hasNext()) {\n            Device d = it.next();\n            if (d.getName() == "IOPrint") {\n                found = true;\n                String buffer = d.toString();\n                assertThat(value, is(equalTo(buffer)));\n                break;\n            }\n        }\n        if (found == false) {\n            scenario.write("Unable to find IOPrint device");\n            assertThat(0, is(not(1))); // force a fail\n        }\n\n    }\n\nExample 9:\nGherkin Step:\n\n    @Given("^video display refresh window every (.*) instructions$")\nGlue Code:\n    @Given("^video display refresh window every (.*) instructions$")\n    public void videoDisplayRefreshWindowEveryInstructions(String refreshEvery) throws ScriptException {\n        instructionsPerDisplayRefresh = valueToInt(refreshEvery);\n    }\n\nExample 10:\nGherkin Step:\n\n    @When("^display until window closed$")\nGlue Code:\n    @When("^display until window closed$")\n    public void displayUntilWindowClosed() throws InterruptedException {\n        while (displayBombJack.isVisible()) {\n            displayBombJack.RepaintWindow();\n\n            if (audioExpansion != null) {\n                if (instructionsPerAudioRefresh > 0) {\n                    for (int i = 0; i < 100; i++) {\n                        audioExpansion.calculateSamples();\n                    }\n                }\n            }\n\n            Thread.sleep(1);\n        }\n    }\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n    @Given("^add C64 display window to C64 keyboard buffer hook$")\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:25,229 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:25,230 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:25,230 - DEBUG - send_request_headers.complete
2025-09-23 02:45:25,230 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:25,230 - DEBUG - send_request_body.complete
2025-09-23 02:45:25,231 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:25,550 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:25 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b4af1aac01de-YYC')])
2025-09-23 02:45:25,551 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:25,551 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:25,562 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:25 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b4b05a31420e-YYC')])
2025-09-23 02:45:25,562 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:25,563 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:25,617 - DEBUG - receive_response_body.complete
2025-09-23 02:45:25,617 - DEBUG - response_closed.started
2025-09-23 02:45:25,617 - DEBUG - response_closed.complete
2025-09-23 02:45:25,618 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:25 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b4aca9e901e4-YYC'})
2025-09-23 02:45:25,618 - DEBUG - request_id: None
2025-09-23 02:45:25,620 - INFO - Generated glue code: 
```java
@Given("a calculator I just turned on")
public void a_calculator_I_just_turned_on() {
  calc = new Calculator();
}
```
2025-09-23 02:45:25,623 - INFO - Step ID 1197 CodeBLEU: {'codebleu': 0.8870239763769792, 'ngram_match_score': 0.8702397637697912, 'weighted_ngram_match_score': 1.0, 'syntax_match_score': 0.75, 'dataflow_match_score': 1.0}
2025-09-23 02:45:25,640 - DEBUG - receive_response_body.complete
2025-09-23 02:45:25,641 - DEBUG - response_closed.started
2025-09-23 02:45:25,641 - DEBUG - response_closed.complete
2025-09-23 02:45:25,641 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:25 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b4accedb01dc-YYC'})
2025-09-23 02:45:25,641 - DEBUG - request_id: None
2025-09-23 02:45:25,643 - INFO - Generated glue code: 
```java
@And( "stakeholder types a comment on a bidding" )
public void stakeholderTypesACommentOnABidding() {
    webDriver.findElement( By.id( "comment" ) ).sendKeys( "Hehe" );
}
```
2025-09-23 02:45:25,649 - INFO - Step ID 91 CodeBLEU: {'codebleu': 0.7154921030805426, 'ngram_match_score': 0.301390312555229, 'weighted_ngram_match_score': 0.3670442317637095, 'syntax_match_score': 0.6216216216216216, 'dataflow_match_score': 0.0}
2025-09-23 02:45:25,649 - INFO - Generating glue code for step ID 92
2025-09-23 02:45:25,653 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-de892670-3766-4416-b48e-e59e60f80613', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n    @And( "stakeholder types a comment on a bidding" )\nGlue Code:\n    @And( "stakeholder types a comment on a bidding" )\n    public void stakeholderTypesACommentOnABidding() {\n        webDriver.findElement( By.className( "show-comments-btn" ) ).click();\n\n        WebDriverWait wait = new WebDriverWait( webDriver, 20 );\n        wait.until( ExpectedConditions.visibilityOfElementLocated( By.id( "new-comment-text" ) ) );\n\n        webDriver.findElement( By.id( "new-comment-text" ) ).sendKeys( "Diee" );\n    }\n\nExample 2:\nGherkin Step:\n\n    @When( "Freelancer clicks the Bid button" )\nGlue Code:\n    @When( "Freelancer clicks the Bid button" )\n    public void freelancerClicksTheBidButton() {\n        webDriver.findElement( By.id( "add-bid-btn" ) ).click();\n    }\n\nExample 3:\nGherkin Step:\n\n    @When( "Freelancer clicks the update button" )\nGlue Code:\n    @When( "Freelancer clicks the update button" )\n    public void freelancerClicksTheUpdateButton() {\n        webDriver.findElement( By.id( "submit-profile" ) ).click();\n    }\n\nExample 4:\nGherkin Step:\n\n    @When( "Stakeholder clicks the submit button" )\nGlue Code:\n    @When( "Stakeholder clicks the submit button" )\n    public void stakeholderClicksTheSubmitButton() {\n        webDriver.findElement( By.id( "submit-project" ) ).click();\n    }\n\nExample 5:\nGherkin Step:\n\n    @When( "user clicks the submit button" )\nGlue Code:\n    @When( "user clicks the submit button" )\n    public void userClicksTheSubmitButton() {\n        webDriver.findElement( By.id( "submit" ) ).click();\n    }\n\nExample 6:\nGherkin Step:\n\n    @And( "Stakeholder clicks add project buttons" )\nGlue Code:\n    @And( "Stakeholder clicks add project buttons" )\n    public void stakeholderClicksAddProjectButtons() {\n        webDriver.findElement( By.id( "add-project" ) ).click();\n        assertEquals( Utils.ADD_PROJECT_PAGE , webDriver.getCurrentUrl() );\n    }\n\nExample 7:\nGherkin Step:\n\n    @When( "User Clicks the login button" )\nGlue Code:\n    @When( "User Clicks the login button" )\n    public void userClicksTheLoginButton() {\n        webDriver.findElement( By.id( "submit" ) ).click();\n    }\n\nExample 8:\nGherkin Step:\n\n    @When( "user clicks on a project" )\nGlue Code:\n    @When( "user clicks on a project" )\n    public void userClicksOnAProject() {\n        webDriver.findElement( By.className( "btn" ) ).click();\n    }\n\nExample 9:\nGherkin Step:\n\n    @When( "Stakeholder clicks dashboard button for a project" )\nGlue Code:\n    @When( "Stakeholder clicks dashboard button for a project" )\n    public void stakeholderClicksDashboardButtonForAProject() {\n        webDriver.findElement( By.id( "project-dashboard-btn-" + project.getId() ) ).click();\n    }\n\nExample 10:\nGherkin Step:\n\n    @When( "Admin clicks the activate button on a deactivated user" )\nGlue Code:\n    @When( "Admin clicks the activate button on a deactivated user" )\n    public void adminClicksTheActivateButtonOnADeactivatedUser() {\n        webDriver.findElement( By.className( "enable-user-btn" ) ).click();\n    }\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n    @When( "stakeholder clicks add comment button" )\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:25,654 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:25,655 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:25,655 - DEBUG - send_request_headers.complete
2025-09-23 02:45:25,655 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:25,656 - DEBUG - send_request_body.complete
2025-09-23 02:45:25,656 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:25,813 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:25 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b4b0bc6dbed1-YYC')])
2025-09-23 02:45:25,814 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:25,814 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:26,003 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:26 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b4af3ebabf01-YYC')])
2025-09-23 02:45:26,004 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:26,004 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:26,185 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:26 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b4b35fcd01e4-YYC')])
2025-09-23 02:45:26,186 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:26,187 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:26,187 - DEBUG - receive_response_body.complete
2025-09-23 02:45:26,188 - DEBUG - response_closed.started
2025-09-23 02:45:26,188 - DEBUG - response_closed.complete
2025-09-23 02:45:26,188 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:25 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b4af1aac01de-YYC'})
2025-09-23 02:45:26,188 - DEBUG - request_id: None
2025-09-23 02:45:26,190 - INFO - Generated glue code: 
```java
@Then("^The database should be seeded with the dataset content before test execution$")
public void The_database_should_be_seeded_with_the_dataset_content_before_test_execution() throws Throwable {

}
```
2025-09-23 02:45:26,200 - INFO - Step ID 32 CodeBLEU: {'codebleu': 0.47784264033113993, 'ngram_match_score': 0.075737166314972, 'weighted_ngram_match_score': 0.20268923699642716, 'syntax_match_score': 0.125, 'dataflow_match_score': 0.0}
2025-09-23 02:45:26,277 - DEBUG - receive_response_body.complete
2025-09-23 02:45:26,278 - DEBUG - response_closed.started
2025-09-23 02:45:26,278 - DEBUG - response_closed.complete
2025-09-23 02:45:26,278 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:25 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b4b0bc6dbed1-YYC'})
2025-09-23 02:45:26,278 - DEBUG - request_id: None
2025-09-23 02:45:26,280 - INFO - Generated glue code: 
```java
@Given("^add C64 display window to C64 keyboard buffer hook$")
public void addC64DisplayWindowToC64KeyboardBufferHook() {
    machine.getKeyboard().addKeyboardHook(displayC64);
}
```
2025-09-23 02:45:26,283 - WARNING - WARNING: There is no reference data-flows extracted from the whole corpus, and the data-flow match score degenerates to 0. Please consider ignoring this score.
2025-09-23 02:45:26,283 - INFO - Step ID 256 CodeBLEU: {'codebleu': 0.7558760391631195, 'ngram_match_score': 0.6362413815634483, 'weighted_ngram_match_score': 0.7407008282495647, 'syntax_match_score': 0.5454545454545454, 'dataflow_match_score': 0}
2025-09-23 02:45:26,284 - INFO - Generating glue code for step ID 257
2025-09-23 02:45:26,288 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-c990ed98-a257-485f-9975-ef8998c56b64', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n    @Given("^add C64 hardware$")\nGlue Code:\n    @Given("^add C64 hardware$")\n    public void addC64Hardware() throws MemoryRangeException {\n        C64VICII deviceVIC = new C64VICII(scenario);\n        if (displayC64 != null) {\n            displayC64.setTheVICII(deviceVIC);\n        }\n        machine.getCpu().getBus().addDevice(deviceVIC , 1);\n\n        machine.getCpu().getBus().addDevice(new C64SID(scenario) , 1);\n\n        Device device = new C64ColourRAM(scenario);\n        if (displayC64 != null) {\n            displayC64.setTheColourRAM(device);\n        }\n        machine.getCpu().getBus().addDevice(device , 1);\n\n        device = new C64IO(scenario);\n        if (displayC64 != null) {\n            displayC64.setTheIO(device);\n        }\n        machine.getCpu().getBus().addDevice(device , 1);\n    }\n\nExample 2:\nGherkin Step:\n\n    @Given("^add C64 display window to C64 keyboard buffer hook$")\nGlue Code:\n    @Given("^add C64 display window to C64 keyboard buffer hook$")\n    public void addC64DisplayWindowToCKeyboardBufferHook() {\n        displayC64.enableKeyboardBufferHook();\n    }\n\nExample 3:\nGherkin Step:\n\n    @Then("^expect end of file$")\nGlue Code:\n    @Then("^expect end of file$")\n    public void expectEndOfFile() throws IOException {\n        currentLineRead = fileReading.readLine();\n        assertThat(currentLineRead, is(equalTo(null)));\n    }\n\nExample 4:\nGherkin Step:\n\n    @Given("^show C64 video window$")\nGlue Code:\n    @Given("^show C64 video window$")\n    public void showC64VideoWindow() {\n        displayC64.InitWindow();\n    }\n\nExample 5:\nGherkin Step:\n\n    @And("^trim \\"([^\\"]*)\\" bytes from the start of temporary memory$")\nGlue Code:\n    @And("^trim \\"([^\\"]*)\\" bytes from the start of temporary memory$")\n    public void trimBytesFromTheStartOfTemporaryMemory(String numBytes) throws Throwable {\n        int ivalue = valueToInt(numBytes);\n        lastBinaryData = Arrays.copyOfRange(lastBinaryData,ivalue , lastBinaryData.length);\n    }\n\nExample 6:\nGherkin Step:\n\n\n    @Given("^a new C64 video display$")\nGlue Code:\n\n    @Given("^a new C64 video display$")\n    public void aNewC64VideoDisplay() throws IOException {\n        if (displayC64 != null) {\n            displayC64.getWindow().dispatchEvent(new WindowEvent(displayC64.getWindow(), WindowEvent.WINDOW_CLOSING));\n        }\n        displayC64 = new DisplayC64();\n    }\n\nExample 7:\nGherkin Step:\n\n    @Then("^I expect the cycle count to be no more than (.+) cycles$")\nGlue Code:\n    @Then("^I expect the cycle count to be no more than (.+) cycles$")\n    public void iExpectTheCycleCountToBeNoMoreThanCycles(String arg0) throws Throwable {\n        int iarg0 = valueToInt(arg0);\n        scenario.write(String.format("Checking cycles %d with %s delta %d percent %f%%\\n", machine.getCpu().getClockCycles(), arg0, machine.getCpu().getClockCycles() - iarg0, 100.0f * machine.getCpu().getClockCycles() / iarg0));\n        assertThat(machine.getCpu().getClockCycles(), is(lessThanOrEqualTo(iarg0)));\n    }\n\nExample 8:\nGherkin Step:\n\n    @Given("^render a C64 video display frame$")\nGlue Code:\n    @Given("^render a C64 video display frame$")\n    public void renderAC64VideoDisplayFrame() {\n        displayC64.calculateAFrame();\n        displayC64.RepaintWindow();\n    }\n\nExample 9:\nGherkin Step:\n\n    @Given("^force C64 displayed bank to (\\\\d+)$")\nGlue Code:\n    @Given("^force C64 displayed bank to (\\\\d+)$")\n    public void force_C64_displayed_bank_to(int bank) throws Throwable {\n        displayC64.setForceBank(bank);\n    }\n\nExample 10:\nGherkin Step:\n\n    @Given("^I am using C64 processor port options$")\nGlue Code:\n    @Given("^I am using C64 processor port options$")\n    public void i_am_using_C_processor_port_options() throws Throwable {\n        machine.getBus().setProcessorPort();\n    }\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n    @Given("^add C64 regular IRQ trigger of \\"(.*)\\" cycles$")\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:26,289 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:26,290 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:26,290 - DEBUG - send_request_headers.complete
2025-09-23 02:45:26,290 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:26,291 - DEBUG - send_request_body.complete
2025-09-23 02:45:26,291 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:26,613 - DEBUG - receive_response_body.complete
2025-09-23 02:45:26,614 - DEBUG - response_closed.started
2025-09-23 02:45:26,614 - DEBUG - response_closed.complete
2025-09-23 02:45:26,614 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:25 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b4acef6b4214-YYC'})
2025-09-23 02:45:26,614 - DEBUG - request_id: None
2025-09-23 02:45:26,616 - INFO - Generated glue code: 
```java
@Given("{string} has borrowed books {string} on {date}")
public void has_borrowed_books_on(String borrower, String isbns, LocalDate date) {
    seleniumAdapter.gotoPage(Page.BORROWED_BOOK_LIST);
    for (String isbn : Splitter.on(" ").omitEmptyStrings().split(isbns)) {
        seleniumAdapter.typeIntoField("email", borrower);
        seleniumAdapter.typeIntoField("isbn", isbn);
        seleniumAdapter.typeIntoField("dueDate", date.toString());
        seleniumAdapter.clickOnPageElementById(PageElement.BORROW_BOOK_BUTTON);
    }
}
```
2025-09-23 02:45:26,624 - INFO - Step ID 65 CodeBLEU: {'codebleu': 0.3501639783636631, 'ngram_match_score': 0.2654158989917247, 'weighted_ngram_match_score': 0.2897450114054697, 'syntax_match_score': 0.43661971830985913, 'dataflow_match_score': 0.3}
2025-09-23 02:45:26,624 - INFO - Generating glue code for step ID 66
2025-09-23 02:45:26,626 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-2f8325a3-a204-4838-8e3d-00658109c632', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n  @Then("The library contains no books")\nGlue Code:\n  @Then("The library contains no books")\n  public void libraryIsEmpty() {\n    seleniumAdapter.gotoPage(Page.BOOKLIST);\n    HtmlBookList htmlBookList = seleniumAdapter.getTableContent(PageElement.BOOK_LIST);\n    assertThat(htmlBookList.size(), is(0));\n  }\n\nExample 2:\nGherkin Step:\n\n    @Then("the library contains {int} book(s) with {string}")\nGlue Code:\n    @Then("the library contains {int} book(s) with {string}")\n    public void shouldContainNumberOfBooksWithISBN(int books, String isbn) {\n        if (isbn.isEmpty()) return;\n        assertThat(bookRepository.findByIsbn(isbn).size(), is(books));\n    }\n\nExample 3:\nGherkin Step:\n\n    @Then("the library still contains all borrowed books {string}")\nGlue Code:\n    @Then("the library still contains all borrowed books {string}")\n    public void shouldContainOneCopyOf(String isbn) {\n        if (isbn.isEmpty()) return;\n        assertThat(bookRepository.findByIsbn(isbn).size(), is(1));\n    }\n\nExample 4:\nGherkin Step:\n\n  @When("{string} requests list of borrowed books")\nGlue Code:\n  @When("{string} requests list of borrowed books")\n  public void requests_list_of_borrowed_books(String borrower) {\n    seleniumAdapter.gotoPage(Page.BORROWED_BOOK_LIST);\n    seleniumAdapter.typeIntoField("email", borrower);\n    seleniumAdapter.clickOnPageElementById(PageElement.SHOW_BORROWED_BOOKS_BUTTON);\n  }\n\nExample 5:\nGherkin Step:\n\n  @Given("I browse the list of all books")\nGlue Code:\n  @Given("I browse the list of all books")\n  public void browseBookList() {\n    seleniumAdapter.gotoPage(Page.BOOKLIST);\n  }\n\nExample 6:\nGherkin Step:\n  @Then("the page contains error message for field {string}")\nGlue Code:\n  public void pageContainsErrorMessage(String field) {\n    String errorMessage = seleniumAdapter.getTextFromElement(PageElement.errorFor(field));\n    assertThat(errorMessage, notNullValue());\n  }\n\n  // *****************\n  // *** U T I L *****\n  // *****************\n\n  private void insertAndSubmitBook(\n      String isbn, String title, String author, Integer edition, String year, String description) {\n\nExample 7:\nGherkin Step:\n\n  @Then("the booklist contains a book with {string}, {string}, {string}, {int} and {string}")\nGlue Code:\n  @Then("the booklist contains a book with {string}, {string}, {string}, {int} and {string}")\n  public void bookListContainsRowWithValues(\n      final String title,\n      final String author,\n      final String year,\n      final Integer edition,\n      final String isbn) {\n    seleniumAdapter.gotoPage(Page.BOOKLIST);\n    HtmlBookList htmlBookList = seleniumAdapter.getTableContent(PageElement.BOOK_LIST);\n    HtmlBook htmlBook = htmlBookList.getBookByIsbn(isbn);\n    assertThat(title, is(htmlBook.getTitle()));\n    assertThat(author, is(htmlBook.getAuthor()));\n    assertThat(year, is(htmlBook.getYearOfPublication()));\n    assertThat(edition, is(htmlBook.getEdition()));\n    assertThat(isbn, is(htmlBook.getIsbn()));\n  }\n\nExample 8:\nGherkin Step:\n\n  @Then("the booklist contains a book with all the properties from the last inserted book")\nGlue Code:\n  @Then("the booklist contains a book with all the properties from the last inserted book")\n  public void justAsLastInserted() {\n    Book lastInserted = (Book) storyContext.getObject("LAST_INSERTED_BOOK");\n    seleniumAdapter.gotoPage(Page.BOOKLIST);\n    HtmlBookList htmlBookList = seleniumAdapter.getTableContent(PageElement.BOOK_LIST);\n    HtmlBook htmlBook = htmlBookList.getBookByIsbn(lastInserted.getIsbn());\n    assertThat(lastInserted.getTitle(), containsString(htmlBook.getTitle()));\n    assertThat(lastInserted.getAuthor(), containsString(htmlBook.getAuthor()));\n    assertThat(\n        lastInserted.getYearOfPublication(), is(Integer.parseInt(htmlBook.getYearOfPublication())));\n    assertThat(lastInserted.getEdition(), containsString(htmlBook.getEdition().toString()));\n    assertThat(lastInserted.getDescription(), containsString(htmlBook.getDescription()));\n  }\n\nExample 9:\nGherkin Step:\n\n  @Then("for every book the booklist contains a cover")\nGlue Code:\n  @Then("for every book the booklist contains a cover")\n  public void checkCover() {\n    seleniumAdapter.gotoPage(Page.BOOKLIST);\n    HtmlBookList htmlBookList = seleniumAdapter.getTableContent(PageElement.BOOK_LIST);\n    Collection<HtmlBook> books = htmlBookList.getHtmlBooks().values();\n    for (HtmlBook book : books) {\n      assertThat(book.getCover(), containsString(book.getIsbn()));\n    }\n  }\n\nExample 10:\nGherkin Step:\n\n    @Then("the new book {string} be added")\nGlue Code:\n    @Then("the new book {string} be added")\n    public void shouldNotHaveCreatedANewCopy(String can) {\n        Book lastInsertedBook = (Book) storyContext.getObject("LAST_INSERTED_BOOK");\n        int numberOfCopies = "CAN".equals(can) ? 2 : 1;\n        assertNumberOfCopies(lastInsertedBook.getIsbn(), numberOfCopies);\n    }\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n    @Then("the library contains {long} books")\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:26,627 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:26,627 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:26,627 - DEBUG - send_request_headers.complete
2025-09-23 02:45:26,628 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:26,628 - DEBUG - send_request_body.complete
2025-09-23 02:45:26,628 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:26,779 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:26 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b4b75a8201de-YYC')])
2025-09-23 02:45:26,780 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:26,780 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:26,808 - DEBUG - receive_response_body.complete
2025-09-23 02:45:26,809 - DEBUG - response_closed.started
2025-09-23 02:45:26,809 - DEBUG - response_closed.complete
2025-09-23 02:45:26,809 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:26 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b4b35fcd01e4-YYC'})
2025-09-23 02:45:26,809 - DEBUG - request_id: None
2025-09-23 02:45:26,811 - INFO - Generated glue code: 
```java
@When( "stakeholder clicks add comment button" )
public void stakeholderClicksAddCommentButton() {
    webDriver.findElement( By.className( "show-comments-btn" ) ).click();
}
```
2025-09-23 02:45:26,816 - INFO - Step ID 92 CodeBLEU: {'codebleu': 0.7134837470374393, 'ngram_match_score': 0.325897587139289, 'weighted_ngram_match_score': 0.38036845466367597, 'syntax_match_score': 0.6071428571428571, 'dataflow_match_score': 0.0}
2025-09-23 02:45:26,820 - DEBUG - receive_response_body.complete
2025-09-23 02:45:26,821 - DEBUG - response_closed.started
2025-09-23 02:45:26,821 - DEBUG - response_closed.complete
2025-09-23 02:45:26,821 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:26 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b4af3ebabf01-YYC'})
2025-09-23 02:45:26,821 - DEBUG - request_id: None
2025-09-23 02:45:26,823 - INFO - Generated glue code: 
```java
@Given("SCA Scan in configured in application.yml")
public void scaScanConfiguredInApplicationYml() {
    // Implement the logic to verify or set that SCA Scan is configured in application.yml
}
```
2025-09-23 02:45:26,825 - WARNING - WARNING: There is no reference data-flows extracted from the whole corpus, and the data-flow match score degenerates to 0. Please consider ignoring this score.
2025-09-23 02:45:26,825 - INFO - Step ID 637 CodeBLEU: {'codebleu': 0.76175721857736, 'ngram_match_score': 0.2418068126014414, 'weighted_ngram_match_score': 0.8757653731721587, 'syntax_match_score': 0.625, 'dataflow_match_score': 0}
2025-09-23 02:45:26,826 - INFO - Generating glue code for step ID 638
2025-09-23 02:45:26,830 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-6e6e321b-df19-419e-9243-9b525de061b8', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n    @And("CxFlow filters are disabled")\nGlue Code:\n    @And("CxFlow filters are disabled")\n    public void cxflowFiltersAreDisabled() {\n        flowProperties.setFilterSeverity(new ArrayList<>());\n    }\n\nExample 2:\nGherkin Step:\n\n    @And("Additional fields are populated")\nGlue Code:\n    @And("Additional fields are populated")\n    public void validateAdditionalFields() throws IOException {\n        azureDevopsClient.getIssues().forEach(issue -> {\n            Assert.assertTrue(issue.getBody().contains(DESCRIPTION_AST));\n        });\n\n        azureDevopsClient.deleteProjectIssues();\n    }\n\nExample 3:\nGherkin Step:\n\n    @Then("bug-tracker issues are updated")\nGlue Code:\n    @Then("bug-tracker issues are updated")\n    public void validateIssueOnBugTracker() {\n        String severities = "(" + flowProperties.getFilterSeverity().stream().collect(Collectors.joining(",")) + ")";\n        bugTracker.verifyIssueCreated(severities, engine);\n    }\n\nExample 4:\nGherkin Step:\n\n    @And("no simple filters are defined")\nGlue Code:\n    @And("no simple filters are defined")\n    public void noSimpleFilters() {\n        flowProperties.setFilterSeverity(null);\n        flowProperties.setFilterCwe(null);\n        flowProperties.setFilterCategory(null);\n        flowProperties.setFilterStatus(null);\n        flowProperties.setFilterState(null);\n    }\n\nExample 5:\nGherkin Step:\n\n    @Given("enabled vulnerability scanners are {string}")\nGlue Code:\n    @Given("enabled vulnerability scanners are {string}")\n    public void setScanInitiatorAndBranch(String initiatorList) {\n        List<VulnerabilityScanner> scanners = setScanInitiator(initiatorList);\n        startScan(scanners, BRANCH, PUBLIC_REPO, false, "AstDetailsTest");\n    }\n\nExample 6:\nGherkin Step:\n\n\n    @When("there are two existing issues")\nGlue Code:\n\n    @When("there are two existing issues")\n    public void publishTwoIssues() throws IOException, ExitThrowable {\n        ScanRequest request = getScanRequestWithDefaults();\n        File findingsFile = getFileFromResourcePath("cucumber/data/sample-sast-results/2-findings-different-vuln-type-different-files.xml");\n        innerPublishRequest(request, findingsFile);\n    }\n\nExample 7:\nGherkin Step:\n\n    @And("scan findings are {} after filter")\nGlue Code:\n    @And("scan findings are {} after filter")\n    public void severityFilterIsSetTo(boolean findingsPresentedAfterFilter) {\n        if (findingsPresentedAfterFilter){\n            addFindingsTo(scanResultsToInject, DEFAULT_FINDINGS_COUNT, DEFAULT_SEVERITY_HIGH);\n        }else{\n            scanResultsToInject = createFakeScanResults();\n        }\n    }\n\nExample 8:\nGherkin Step:\n    @Then("the returned results are not null")\nGlue Code:\n    public void validateResults() {\n        assertNotNull("SCA results are null.", scaResults);\n        assertTrue("Scan ID is empty.", StringUtils.isNotEmpty(scaResults.getScanId()));\n        assertNotNull("Summary is null.", scaResults.getSummary());\n        assertNotNull("Finding counts are null.", scaResults.getSummary().getFindingCounts());\n        assertNotNull("Expected report link of remote repo scan not to return null", scaResults.getWebReportLink());\n\n        assertNotNull("Finding list is null.", scaResults.getFindings());\n        assertFalse("Finding list is empty.", scaResults.getFindings().isEmpty());\n\n        assertNotNull("Package list is null.", scaResults.getPackages());\n        assertFalse("Package list is empty.", scaResults.getPackages().isEmpty());\n    }\n\n    @When("scan is finished")\n    public void startScan() {\n\nExample 9:\nGherkin Step:\n\n    @And("thresholds are HIGH: {int}, MEDIUM: {int}, LOW: {int}")\nGlue Code:\n    @And("thresholds are HIGH: {int}, MEDIUM: {int}, LOW: {int}")\n    public void thresholdsAre(int high, int medium, int low) {\n        Map<FindingSeverity, Integer> actualThresholds = state.lastAnalyticsReport.getThresholds();\n        Map<FindingSeverity, Integer> expectedThresholds = toSeverityMap(high, medium, low);\n        Assert.assertEquals("Incorrect thresholds", expectedThresholds, actualThresholds);\n    }\n\nExample 10:\nGherkin Step:\n\n    @Given("reference CxFlow reports are available for specific inputs")\nGlue Code:\n    @Given("reference CxFlow reports are available for specific inputs")\n    public void referenceCxFlowReportsAreAvailable() throws IOException, URISyntaxException {\n        List<String> baseFilenames = getSastResultsHavingReferenceReports();\n        Assert.assertFalse("No matching reference reports found, nothing to test.", baseFilenames.isEmpty());\n        testContext.setBaseFilenames(baseFilenames);\n    }\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n    @And("filters are disabled")\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:26,831 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:26,832 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:26,832 - DEBUG - send_request_headers.complete
2025-09-23 02:45:26,832 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:26,833 - DEBUG - send_request_body.complete
2025-09-23 02:45:26,833 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:27,033 - DEBUG - receive_response_body.complete
2025-09-23 02:45:27,034 - DEBUG - response_closed.started
2025-09-23 02:45:27,034 - DEBUG - response_closed.complete
2025-09-23 02:45:27,034 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:24 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b4aacae2bec2-YYC'})
2025-09-23 02:45:27,034 - DEBUG - request_id: None
2025-09-23 02:45:27,036 - INFO - Generated glue code: 
```java
@Then("validate customColumns:")
public void validate_customColumns(@NonNull final DataTable dataTable)
{
	for (final Map<String, String> row : dataTable.asMaps())
	{
		final String customColumnIdentifier = DataTableUtil.extractStringForColumnName(row, I_CustomColumns.COLUMNNAME_CustomColumns_ID + "." + TABLECOLUMN_IDENTIFIER);
		final I_CustomColumns customColumn = customColumnsTable.get(customColumnIdentifier);

		// Example for some typical custom columns, adjust column names as required
		final String columnName = DataTableUtil.extractStringForColumnName(row, I_CustomColumns.COLUMNNAME_ColumnName);
		final String columnValue = DataTableUtil.extractStringForColumnName(row, I_CustomColumns.COLUMNNAME_ColumnValue);

		assertThat(customColumn).isNotNull();
		assertThat(customColumn.getColumnName()).isEqualTo(columnName);
		assertThat(customColumn.getColumnValue()).isEqualTo(columnValue);

		// Add more assertions for other columns as needed
	}
}
```

2025-09-23 02:45:27,056 - INFO - Step ID 1219 CodeBLEU: {'codebleu': 0.4494030154076572, 'ngram_match_score': 0.18840306583095112, 'weighted_ngram_match_score': 0.21573136728193804, 'syntax_match_score': 0.4854368932038835, 'dataflow_match_score': 0.5370370370370371}
2025-09-23 02:45:27,056 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:27 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b4b97ef4bed1-YYC')])
2025-09-23 02:45:27,057 - INFO - Generating glue code for step ID 1211
2025-09-23 02:45:27,057 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:27,058 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:27,062 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-55ffbbfe-7fb0-40c8-bf6d-e0bbe075db2a', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n\t@And("metasfresh has no AD_EventLog records")\nGlue Code:\n\t@And("metasfresh has no AD_EventLog records")\n\tpublic void delete_AD_EventLog_records()\n\t{\n\t\tDB.executeUpdateAndThrowExceptionOnFail("DELETE FROM AD_EventLog_Entry;", ITrx.TRXNAME_None);\n\t}\n\nExample 2:\nGherkin Step:\n\n\t@And("metasfresh has no MD_Cockpit_DocumentDetail data")\nGlue Code:\n\t@And("metasfresh has no MD_Cockpit_DocumentDetail data")\n\tpublic void no_md_cockpit_documentDetail_data(@NonNull final DataTable dataTable)\n\t{\n\t\tfinal List<Map<String, String>> tableRows = dataTable.asMaps(String.class, String.class);\n\t\tfor (final Map<String, String> tableRow : tableRows)\n\t\t{\n\t\t\tfinal SoftAssertions softly = new SoftAssertions();\n\n\t\t\tfinal String cockpitIdentifier = DataTableUtil.extractStringForColumnName(tableRow, I_MD_Cockpit_DocumentDetail.COLUMNNAME_MD_Cockpit_ID + "." + TABLECOLUMN_IDENTIFIER);\n\t\t\tfinal I_MD_Cockpit cockpitRecord = cockpitTable.get(cockpitIdentifier);\n\t\t\tsoftly.assertThat(cockpitRecord).isNotNull();\n\n\t\t\tfinal String orderLineIdentifier = DataTableUtil.extractStringForColumnName(tableRow, I_MD_Cockpit_DocumentDetail.COLUMNNAME_C_OrderLine_ID + "." + TABLECOLUMN_IDENTIFIER);\n\t\t\tfinal I_C_OrderLine orderLineRecord = orderLineTable.get(orderLineIdentifier);\n\t\t\tsoftly.assertThat(orderLineRecord).isNotNull();\n\n\t\t\tfinal CockpitId cockpitId = CockpitId.ofRepoId(cockpitRecord.getMD_Cockpit_ID());\n\t\t\tfinal OrderLineId orderLineId = OrderLineId.ofRepoId(orderLineRecord.getC_OrderLine_ID());\n\t\t\t\n\t\t\tsoftly.assertThat(getCockpitDocumentDetailSupplier(cockpitId, orderLineId).get().isPresent()).isFalse();\n\n\t\t\tsoftly.assertAll();\n\t\t}\n\t}\n\nExample 3:\nGherkin Step:\n\n\t@And("validate PP_Order_Qty records")\nGlue Code:\n\t@And("validate PP_Order_Qty records")\n\tpublic void validate_pp_order_qty_records(@NonNull final DataTable dataTable)\n\t{\n\t\tfinal List<Map<String, String>> rows = dataTable.asMaps();\n\t\tfor (final Map<String, String> row : rows)\n\t\t{\n\t\t\tfinal String ppOrderQtyIdentifier = DataTableUtil.extractStringForColumnName(row, I_PP_Order_Qty.COLUMNNAME_PP_Order_Qty_ID + "." + TABLECOLUMN_IDENTIFIER);\n\t\t\tfinal I_PP_Order_Qty ppOrderQty = ppOrderQtyTable.get(ppOrderQtyIdentifier);\n\n\t\t\tfinal String huIdentifier = DataTableUtil.extractStringForColumnName(row, I_PP_Order_Qty.COLUMNNAME_M_HU_ID + "." + TABLECOLUMN_IDENTIFIER);\n\t\t\tfinal I_M_HU hu = huTable.get(huIdentifier);\n\n\t\t\tfinal String productIdentifier = DataTableUtil.extractStringForColumnName(row, I_PP_Order_Qty.COLUMNNAME_M_Product_ID + "." + TABLECOLUMN_IDENTIFIER);\n\t\t\tfinal I_M_Product product = productTable.get(productIdentifier);\n\n\t\t\tfinal String bomLineIdentifier = DataTableUtil.extractStringForColumnName(row, I_PP_Order_Qty.COLUMNNAME_PP_Order_BOMLine_ID + "." + TABLECOLUMN_IDENTIFIER);\n\t\t\tfinal I_PP_Order_BOMLine bomLine = ppOrderBOMLineTable.get(bomLineIdentifier);\n\n\t\t\tfinal boolean processed = DataTableUtil.extractBooleanForColumnNameOr(row, "OPT." + I_PP_Order_Qty.COLUMNNAME_Processed, false);\n\n\t\t\tassertThat(ppOrderQty).isNotNull();\n\t\t\tassertThat(ppOrderQty.getM_HU_ID()).isEqualTo(hu.getM_HU_ID());\n\t\t\tassertThat(ppOrderQty.getM_Product_ID()).isEqualTo(product.getM_Product_ID());\n\t\t\tassertThat(ppOrderQty.getPP_Order_BOMLine_ID()).isEqualTo(bomLine.getPP_Order_BOMLine_ID());\n\t\t\tassertThat(ppOrderQty.isProcessed()).isEqualTo(processed);\n\t\t}\n\t}\n\nExample 4:\nGherkin Step:\n\n\t@And("deactivate all M_ShipmentSchedule records")\nGlue Code:\n\t@And("deactivate all M_ShipmentSchedule records")\n\tpublic void deactivate_M_ShipmentSchedule()\n\t{\n\t\tfinal ICompositeQueryUpdater<I_M_ShipmentSchedule> updater = queryBL\n\t\t\t\t.createCompositeQueryUpdater(I_M_ShipmentSchedule.class)\n\t\t\t\t.addSetColumnValue(I_M_ShipmentSchedule.COLUMNNAME_IsActive, false);\n\n\t\tqueryBL.createQueryBuilder(I_M_ShipmentSchedule.class)\n\t\t\t\t.addOnlyActiveRecordsFilter()\n\t\t\t\t.create()\n\t\t\t\t.update(updater);\n\t}\n\nExample 5:\nGherkin Step:\n\n\t@Given("metasfresh initially has no MD_Available_For_Sales data")\nGlue Code:\n\t@Given("metasfresh initially has no MD_Available_For_Sales data")\n\tpublic void setupMD_Candidate_Data()\n\t{\n\t\ttruncateMDAvailableForSalesData();\n\t}\n\nExample 6:\nGherkin Step:\n\n\t@Given("metasfresh initially has no EDI_Desadv_Pack_Item data")\nGlue Code:\n\t@Given("metasfresh initially has no EDI_Desadv_Pack_Item data")\n\tpublic void setupMD_Stock_Data()\n\t{\n\t\ttruncateEDIDesadvPackItem();\n\t}\n\nExample 7:\nGherkin Step:\n\n\t@Given("metasfresh initially has no EDI_Desadv_Pack data")\nGlue Code:\n\t@Given("metasfresh initially has no EDI_Desadv_Pack data")\n\tpublic void setupMD_Stock_Data()\n\t{\n\t\tdeleteAllFromEDIDesadvPack();\n\t}\n\nExample 8:\nGherkin Step:\n\n\t@And("metasfresh initially has M_Inventory data")\nGlue Code:\n\t@And("metasfresh initially has M_Inventory data")\n\tpublic void setupM_Inventory_Data(@NonNull final DataTable dataTable)\n\t{\n\t\tDataTableRows.of(dataTable).forEach(this::createM_Inventory);\n\t}\n\nExample 9:\nGherkin Step:\n\n\t@And("metasfresh initially has M_InventoryLine data")\nGlue Code:\n\t@And("metasfresh initially has M_InventoryLine data")\n\tpublic void setupM_InventoryLine_Data(@NonNull final DataTable dataTable)\n\t{\n\t\tDataTableRows.of(dataTable).forEach(this::createM_InventoryLine);\n\t}\n\nExample 10:\nGherkin Step:\n\n\t@And("metasfresh has this MD_Candidate_StockChange_Detail data")\nGlue Code:\n\t@And("metasfresh has this MD_Candidate_StockChange_Detail data")\n\tpublic void metasfresh_has_this_md_candidate_stockChange_detail_data(@NonNull final DataTable dataTable)\n\t{\n\t\tfinal List<Map<String, String>> tableRows = dataTable.asMaps(String.class, String.class);\n\t\tfinal SoftAssertions softly = new SoftAssertions();\n\t\tfor (final Map<String, String> row : tableRows)\n\t\t{\n\t\t\tfinal String stockChangeDetailIdentifier = DataTableUtil.extractStringOrNullForColumnName(row, I_MD_Candidate_StockChange_Detail.COLUMNNAME_MD_Candidate_StockChange_Detail_ID + ".Identifier");\n\t\t\tfinal String candidateIdentifier = DataTableUtil.extractStringOrNullForColumnName(row, COLUMNNAME_MD_Candidate_ID + ".Identifier");\n\t\t\tfinal int freshQtyOnHandId = DataTableUtil.extractIntForColumnName(row, "Fresh_QtyOnHand_ID");\n\t\t\tfinal int freshQtyOnHandLineId = DataTableUtil.extractIntForColumnName(row, "Fresh_QtyOnHand_Line_ID");\n\t\t\tfinal boolean isReverted = DataTableUtil.extractBooleanForColumnName(row, "IsReverted");\n\n\t\t\tfinal I_MD_Candidate_StockChange_Detail stockChangeDetail = queryBL.createQueryBuilder(I_MD_Candidate_StockChange_Detail.class)\n\t\t\t\t\t.addOnlyActiveRecordsFilter()\n\t\t\t\t\t.addEqualsFilter(I_MD_Candidate_StockChange_Detail.COLUMNNAME_Fresh_QtyOnHand_Line_ID, freshQtyOnHandLineId)\n\t\t\t\t\t.create()\n\t\t\t\t\t.firstOnly(I_MD_Candidate_StockChange_Detail.class);\n\n\t\t\tsoftly.assertThat(stockChangeDetail).as("MD_Candidate_StockChange_Detail with Fresh_QtyOnHand_Line_ID=%s", freshQtyOnHandLineId).isNotNull();\n\t\t\tsoftly.assertThat(stockChangeDetail.getFresh_QtyOnHand_ID()).as("MD_Candidate_StockChange_Detail with Fresh_QtyOnHand_Line_ID=%s - Fresh_QtyOnHand_ID", freshQtyOnHandLineId).isEqualTo(freshQtyOnHandId);\n\t\t\tsoftly.assertThat(stockChangeDetail.isReverted()).as("MD_Candidate_StockChange_Detail with Fresh_QtyOnHand_Line_ID=%s - isReverted", freshQtyOnHandLineId).isEqualTo(isReverted);\n\n\t\t\tif (candidateIdentifier != null)\n\t\t\t{\n\t\t\t\tfinal MaterialDispoDataItem materialDispoDataItem = materialDispoDataItemStepDefData.get(candidateIdentifier);\n\t\t\t\tsoftly.assertThat(materialDispoDataItem.getCandidateId().getRepoId()).as("MD_Candidate_StockChange_Detail with Fresh_QtyOnHand_Line_ID=%s - MD_Candidate_ID", freshQtyOnHandLineId).isEqualTo(stockChangeDetail.getMD_Candidate_ID());\n\t\t\t}\n\t\t\tif (stockChangeDetailIdentifier != null)\n\t\t\t{\n\t\t\t\tstockChangeDetailStepDefData.putOrReplace(stockChangeDetailIdentifier, stockChangeDetail);\n\t\t\t}\n\t\t}\n\t\tsoftly.assertAll();\n\t}\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n\t@And("metasfresh has no AD_EventLog_Entry records")\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:27,063 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:27,064 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:27,064 - DEBUG - send_request_headers.complete
2025-09-23 02:45:27,064 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:27,064 - DEBUG - send_request_body.complete
2025-09-23 02:45:27,064 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:27,430 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:27 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b4babe5701e4-YYC')])
2025-09-23 02:45:27,431 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:27,431 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:27,573 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:27 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b4bc2b7abf01-YYC')])
2025-09-23 02:45:27,574 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:27,574 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:27,994 - DEBUG - receive_response_body.complete
2025-09-23 02:45:27,994 - DEBUG - response_closed.started
2025-09-23 02:45:27,994 - DEBUG - response_closed.complete
2025-09-23 02:45:27,994 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:27 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b4b97ef4bed1-YYC'})
2025-09-23 02:45:27,995 - DEBUG - request_id: None
2025-09-23 02:45:27,996 - INFO - Generated glue code: 
```java
@Then("the library contains {long} books")
public void libraryContainsNumberOfBooks(long expectedCount) {
    seleniumAdapter.gotoPage(Page.BOOKLIST);
    HtmlBookList htmlBookList = seleniumAdapter.getTableContent(PageElement.BOOK_LIST);
    assertThat(htmlBookList.size(), is((int) expectedCount));
}
```
2025-09-23 02:45:28,001 - INFO - Step ID 66 CodeBLEU: {'codebleu': 0.6697666134338613, 'ngram_match_score': 0.294467310498826, 'weighted_ngram_match_score': 0.5208458826633171, 'syntax_match_score': 0.47058823529411764, 'dataflow_match_score': 1.0}
2025-09-23 02:45:28,001 - INFO - Generating glue code for step ID 67
2025-09-23 02:45:28,005 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-c0aabe37-8128-4e24-ae07-cbc68cee483d', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n    @Then("the library contains {long} books")\nGlue Code:\n    @Then("the library contains {long} books")\n    public void shouldContainNumberOfBooks(long books) {\n        assertThat(bookRepository.count(), is(books));\n    }\n\nExample 2:\nGherkin Step:\n\n  @Then("the booklist contains a book with {string}, {string}, {string}, {int} and {string}")\nGlue Code:\n  @Then("the booklist contains a book with {string}, {string}, {string}, {int} and {string}")\n  public void bookListContainsRowWithValues(\n      final String title,\n      final String author,\n      final String year,\n      final Integer edition,\n      final String isbn) {\n    seleniumAdapter.gotoPage(Page.BOOKLIST);\n    HtmlBookList htmlBookList = seleniumAdapter.getTableContent(PageElement.BOOK_LIST);\n    HtmlBook htmlBook = htmlBookList.getBookByIsbn(isbn);\n    assertThat(title, is(htmlBook.getTitle()));\n    assertThat(author, is(htmlBook.getAuthor()));\n    assertThat(year, is(htmlBook.getYearOfPublication()));\n    assertThat(edition, is(htmlBook.getEdition()));\n    assertThat(isbn, is(htmlBook.getIsbn()));\n  }\n\nExample 3:\nGherkin Step:\n\n    @Then("the library still contains all borrowed books {string}")\nGlue Code:\n    @Then("the library still contains all borrowed books {string}")\n    public void shouldContainOneCopyOf(String isbn) {\n        if (isbn.isEmpty()) return;\n        assertThat(bookRepository.findByIsbn(isbn).size(), is(1));\n    }\n\nExample 4:\nGherkin Step:\n\n  @Then("The library contains no books")\nGlue Code:\n  @Then("The library contains no books")\n  public void libraryIsEmpty() {\n    seleniumAdapter.gotoPage(Page.BOOKLIST);\n    HtmlBookList htmlBookList = seleniumAdapter.getTableContent(PageElement.BOOK_LIST);\n    assertThat(htmlBookList.size(), is(0));\n  }\n\nExample 5:\nGherkin Step:\n\n\n    @Given("{string} has borrowed book(s) {string}")\nGlue Code:\n\n    @Given("{string} has borrowed book(s) {string}")\n\nExample 6:\nGherkin Step:\n\n  @When("a librarian removes book(s) {string}")\nGlue Code:\n  @When("a librarian removes book(s) {string}")\n  public void a_librarian_removes_book(String isbn) {\n    seleniumAdapter.gotoPageWithParameter(Page.REMOVEBOOK, isbn);\n//    seleniumAdapter.clickOnPageElementById(PageElement.REMOVE_BOOK_BUTTON);\n  }\n\nExample 7:\nGherkin Step:\n  @Then("the page contains error message for field {string}")\nGlue Code:\n  public void pageContainsErrorMessage(String field) {\n    String errorMessage = seleniumAdapter.getTextFromElement(PageElement.errorFor(field));\n    assertThat(errorMessage, notNullValue());\n  }\n\n  // *****************\n  // *** U T I L *****\n  // *****************\n\n  private void insertAndSubmitBook(\n      String isbn, String title, String author, Integer edition, String year, String description) {\n\nExample 8:\nGherkin Step:\n\n  @Then("the booklist contains a book with all the properties from the last inserted book")\nGlue Code:\n  @Then("the booklist contains a book with all the properties from the last inserted book")\n  public void justAsLastInserted() {\n    Book lastInserted = (Book) storyContext.getObject("LAST_INSERTED_BOOK");\n    seleniumAdapter.gotoPage(Page.BOOKLIST);\n    HtmlBookList htmlBookList = seleniumAdapter.getTableContent(PageElement.BOOK_LIST);\n    HtmlBook htmlBook = htmlBookList.getBookByIsbn(lastInserted.getIsbn());\n    assertThat(lastInserted.getTitle(), containsString(htmlBook.getTitle()));\n    assertThat(lastInserted.getAuthor(), containsString(htmlBook.getAuthor()));\n    assertThat(\n        lastInserted.getYearOfPublication(), is(Integer.parseInt(htmlBook.getYearOfPublication())));\n    assertThat(lastInserted.getEdition(), containsString(htmlBook.getEdition().toString()));\n    assertThat(lastInserted.getDescription(), containsString(htmlBook.getDescription()));\n  }\n\nExample 9:\nGherkin Step:\n\n  @Then(\n      "the booklist contains a book with {string}, {string}, {string}, {int}, {string}, and {string}")\nGlue Code:\n  @Then(\n      "the booklist contains a book with {string}, {string}, {string}, {int}, {string}, and {string}")\n\nExample 10:\nGherkin Step:\n\n  @Then("the list shows the books {string} with due date {date}")\nGlue Code:\n  @Then("the list shows the books {string} with due date {date}")\n  public void the_list_shows_the_books(String isbns, LocalDate dueDate) {\n    HtmlBookList tableContent = seleniumAdapter.getTableContent(PageElement.BORROWED_BOOK_LIST);\n    HtmlBook bookByIsbn = tableContent.getBookByIsbn(isbns);\n\n    assertThat(bookByIsbn).isNotNull();\n    assertThat(bookByIsbn)\n        .hasFieldOrPropertyWithValue("dueDate", dueDate)\n        .hasFieldOrPropertyWithValue("isbn", isbns);\n  }\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n    @Then("the library contains {int} book(s) with {string}")\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:28,006 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:28,007 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:28,007 - DEBUG - send_request_headers.complete
2025-09-23 02:45:28,007 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:28,008 - DEBUG - send_request_body.complete
2025-09-23 02:45:28,008 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:28,099 - DEBUG - receive_response_body.complete
2025-09-23 02:45:28,099 - DEBUG - response_closed.started
2025-09-23 02:45:28,099 - DEBUG - response_closed.complete
2025-09-23 02:45:28,100 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:26 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b4b75a8201de-YYC'})
2025-09-23 02:45:28,100 - DEBUG - request_id: None
2025-09-23 02:45:28,102 - INFO - Generated glue code: 
```java
@Given("^add C64 regular IRQ trigger of \"(.*)\" cycles$")
public void addC64RegularIRQTriggerOfCycles(String cycleCount) throws Throwable {
    int cycles = valueToInt(cycleCount);
    machine.getCpu().getBus().addDevice(new C64RegularIRQTrigger(cycles), 1);
}
```
2025-09-23 02:45:28,107 - INFO - Step ID 257 CodeBLEU: {'codebleu': 0.24161686513207498, 'ngram_match_score': 0.03875938941914991, 'weighted_ngram_match_score': 0.04407592856826652, 'syntax_match_score': 0.25, 'dataflow_match_score': 0.3333333333333333}
2025-09-23 02:45:28,211 - DEBUG - receive_response_body.complete
2025-09-23 02:45:28,211 - DEBUG - response_closed.started
2025-09-23 02:45:28,211 - DEBUG - response_closed.complete
2025-09-23 02:45:28,212 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:25 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b4b05a31420e-YYC'})
2025-09-23 02:45:28,212 - DEBUG - request_id: None
2025-09-23 02:45:28,214 - INFO - Generated glue code: 
```java
@When("^I send the HTTP request \"([^\"]*)\" \"([^\"]*)\" with a null pathInfo$")
public void I_send_the_HTTP_request_with_a_null_pathInfo(String method, String url) throws Throwable {

    int pathLength = 0;
    if(this.contextPath.length() > 0) {
        pathLength += this.contextPath.length();
    }

    if(this.servletPath.length() > 0) {
        pathLength += this.servletPath.length();
    }

    request = new MockHttpServletRequest(this.wac.getServletContext(), method, url);
    request.setContextPath(this.contextPath);
    request.setServletPath(this.servletPath);
    request.addHeader("host", host);

    ServletRequestAttributes requestAttributes = new ServletRequestAttributes(request);
    RequestContextHolder.setRequestAttributes(requestAttributes);

    for (HTTPHeader header : headers) {
        request.addHeader(header.name, header.value);
    }

    for (HTTPParam param : queryParams) {
        request.addParameter(param.name, param.value);
    }

    request.setPathInfo(null);
    chain = this.hm.getHandler(request);
}
```
2025-09-23 02:45:28,231 - INFO - Step ID 5 CodeBLEU: {'codebleu': 0.6304846045264154, 'ngram_match_score': 0.5661604924778095, 'weighted_ngram_match_score': 0.8002240143248058, 'syntax_match_score': 0.7846153846153846, 'dataflow_match_score': 0.45}
2025-09-23 02:45:28,231 - INFO - Generating glue code for step ID 6
2025-09-23 02:45:28,235 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-b4ad59bd-bec6-40c3-ab8e-d4de8da7dfa8', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n\n\n    @When("^I send the HTTP request \\"([^\\"]*)\\" \\"([^\\"]*)\\"$")\nGlue Code:\n\n\n    @When("^I send the HTTP request \\"([^\\"]*)\\" \\"([^\\"]*)\\"$")\n    public void I_send_the_HTTP_request(String method, String url) throws Throwable {\n\n        int pathLength = 0;\n        if(this.contextPath.length() > 0) {\n            pathLength += this.contextPath.length();\n        }\n\n        if(this.servletPath.length() > 0) {\n            pathLength += this.servletPath.length();\n        }\n\n        request = new MockHttpServletRequest(this.wac.getServletContext(),method, url);\n        request.setContextPath(this.contextPath);\n        request.setServletPath(this.servletPath);\n        request.addHeader("host", host);\n\n\t    ServletRequestAttributes requestAttributes = new ServletRequestAttributes(request);\n\t    RequestContextHolder.setRequestAttributes(requestAttributes);\n\n        for (HTTPHeader header : headers) {\n            request.addHeader(header.name, header.value);\n        }\n\n        for (HTTPParam param : queryParams) {\n            request.addParameter(param.name, param.value);\n        }\n\n        request.setPathInfo(url.substring(pathLength));\n        chain = this.hm.getHandler(request);\n    }\n\nExample 2:\nGherkin Step:\n\n    @When("^I send the HTTP request \\"([^\\"]*)\\" \\"([^\\"]*)\\" with headers:$")\nGlue Code:\n    @When("^I send the HTTP request \\"([^\\"]*)\\" \\"([^\\"]*)\\" with headers:$")\n    public void I_send_the_HTTP_request_with_headers(String method, String url, List<HTTPHeader> headers) throws Throwable {\n\n        this.headers = headers;\n        I_send_the_HTTP_request(method,url);\n    }\n\nExample 3:\nGherkin Step:\n\n    @When("^I send the HTTP request \\"([^\\"]*)\\" \\"([^\\"]*)\\" with query params:$")\nGlue Code:\n    @When("^I send the HTTP request \\"([^\\"]*)\\" \\"([^\\"]*)\\" with query params:$")\n    public void I_send_the_HTTP_request_with_query_params(String method, String url, List<HTTPParam> queryParams) throws Throwable {\n\n        this.queryParams = queryParams;\n        I_send_the_HTTP_request(method,url);\n    }\n\nExample 4:\nGherkin Step:\n\n    @When("^I send the HTTP request \\"([^\\"]*)\\" \\"([^\\"]*)\\" with a null pathInfo$")\nGlue Code:\n    @When("^I send the HTTP request \\"([^\\"]*)\\" \\"([^\\"]*)\\" with a null pathInfo$")\n    public void I_send_the_HTTP_request_with_a_null_pathInfo(String method, String url) throws Throwable {\n\n        request = new MockHttpServletRequest(this.wac.getServletContext());\n        request.setMethod(method);\n        request.setContextPath(this.contextPath);\n        request.setServletPath(url.replaceFirst(this.contextPath,""));\n        request.addHeader("host", host);\n\n        for (HTTPHeader header : headers) {\n            request.addHeader(header.name, header.value);\n        }\n\n        for (HTTPParam param : queryParams) {\n            request.addParameter(param.name, param.value);\n        }\n\n        request.setPathInfo(null);\n\n\t    ServletRequestAttributes requestAttributes = new ServletRequestAttributes(request);\n\t    RequestContextHolder.setRequestAttributes(requestAttributes);\n\n        chain = this.hm.getHandler(request);\n    }\n\nExample 5:\nGherkin Step:\n\n    @When("^I try to reverse route \\"([^\\"]*)\\"$")\nGlue Code:\n    @When("^I try to reverse route \\"([^\\"]*)\\"$")\n    public void I_try_to_reverse_route(String action) throws Throwable {\n        resolvedAction = Router.reverse(action);\n    }\n\nExample 6:\nGherkin Step:\n\n    @When("^I try to reverse route \\"([^\\"]*)\\" with params:$")\nGlue Code:\n    @When("^I try to reverse route \\"([^\\"]*)\\" with params:$")\n    public void I_try_to_reverse_route_with_params(String path, List<ParamItem> params) throws Throwable {\n        Map<String,Object> routeParams = new HashMap<String, Object>();\n        for(ParamItem param : params) {\n              routeParams.put(param.key,param.value);\n        }\n        try {\n            resolvedAction = Router.reverse(path,routeParams);\n        } catch(Exception exc) {\n            this.thrownException = exc;\n        }\n    }\n\nExample 7:\nGherkin Step:\n\n    @Then("^I should get an action with path \\"([^\\"]*)\\" and host \\"([^\\"]*)\\"$")\nGlue Code:\n    @Then("^I should get an action with path \\"([^\\"]*)\\" and host \\"([^\\"]*)\\"$")\n    public void I_should_get_an_action_with_path_and_host(String path, String host) throws Throwable {\n        assertThat(path).isEqualTo(resolvedAction.url);\n        assertThat(host).isEqualTo(resolvedAction.host);\n    }\n\nExample 8:\nGherkin Step:\n\n    @Then("^the server should send an HTTP response with status \\"([^\\"]*)\\"$")\nGlue Code:\n    @Then("^the server should send an HTTP response with status \\"([^\\"]*)\\"$")\n    public void the_server_should_send_an_HTTP_response_with_status(int status) throws Throwable {\n\n        RouterHandler handler = null;\n        MockHttpServletResponse response = new MockHttpServletResponse();\n\n        if(chain != null) {\n            handler = (RouterHandler) chain.getHandler();\n        }\n\n        HandlerInterceptor[] interceptors = chain.getInterceptors();\n\n        for(HandlerInterceptor interceptor : Arrays.asList(interceptors)) {\n            interceptor.preHandle(request,response, handler);\n        }\n\n        ha.handle(request, response, handler);\n        assertThat(response.getStatus()).isEqualTo(status);\n    }\n\nExample 9:\nGherkin Step:\n\n    @Given("^I have a web application with the config locations \\"([^\\"]*)\\"$")\nGlue Code:\n    @Given("^I have a web application with the config locations \\"([^\\"]*)\\"$")\n    public void I_have_a_web_applications_with_the_config_locations(String locations) throws Throwable {\n        I_have_a_web_application_configured_locations_servletPath_contextPath(locations,"","");\n    }\n\nExample 10:\nGherkin Step:\n\n    @Then("^the request should be handled by \\"([^\\"]*)\\"$")\nGlue Code:\n    @Then("^the request should be handled by \\"([^\\"]*)\\"$")\n    public void the_request_should_be_handled_by(String controllerAction) throws Throwable {\n\n        assertThat(chain).isNotNull();\n        RouterHandler handler = (RouterHandler) chain.getHandler();\n\n        assertThat(handler).isNotNull();\n        assertThat(handler.getRoute()).isNotNull();\n        assertThat(handler.getRoute().action).isNotNull().isEqualToIgnoringCase(controllerAction);\n    }\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n\n\n    @When("^I send the HTTP request \\"([^\\"]*)\\" \\"([^\\"]*)\\" to host \\"([^\\"]*)\\"$")\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:28,237 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:28,237 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:28,238 - DEBUG - send_request_headers.complete
2025-09-23 02:45:28,238 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:28,238 - DEBUG - send_request_body.complete
2025-09-23 02:45:28,238 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:28,481 - DEBUG - receive_response_body.complete
2025-09-23 02:45:28,481 - DEBUG - response_closed.started
2025-09-23 02:45:28,481 - DEBUG - response_closed.complete
2025-09-23 02:45:28,482 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:27 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b4bc2b7abf01-YYC'})
2025-09-23 02:45:28,482 - DEBUG - request_id: None
2025-09-23 02:45:28,484 - INFO - Generated glue code: 
```java
@And("metasfresh has no AD_EventLog_Entry records")
public void delete_AD_EventLog_Entry_records()
{
    DB.executeUpdateAndThrowExceptionOnFail("DELETE FROM AD_EventLog_Entry;", ITrx.TRXNAME_None);
}
```
2025-09-23 02:45:28,487 - WARNING - WARNING: There is no reference data-flows extracted from the whole corpus, and the data-flow match score degenerates to 0. Please consider ignoring this score.
2025-09-23 02:45:28,487 - INFO - Step ID 1211 CodeBLEU: {'codebleu': 0.8938096606886444, 'ngram_match_score': 0.861173529963367, 'weighted_ngram_match_score': 1.0, 'syntax_match_score': 0.7692307692307693, 'dataflow_match_score': 0}
2025-09-23 02:45:28,487 - INFO - Generating glue code for step ID 1212
2025-09-23 02:45:28,493 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-fc95039e-3d3a-4dcf-bf0e-a9eabe8af0ab', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n\t@And("metasfresh has no AD_EventLog_Entry records")\nGlue Code:\n\t@And("metasfresh has no AD_EventLog_Entry records")\n\tpublic void delete_AD_EventLog_Entry_records()\n\t{\n\t\tDB.executeUpdateAndThrowExceptionOnFail("DELETE FROM AD_EventLog_Entry;", ITrx.TRXNAME_None);\n\t}\n\nExample 2:\nGherkin Step:\n\n\t@And("metasfresh has no MD_Cockpit_DocumentDetail data")\nGlue Code:\n\t@And("metasfresh has no MD_Cockpit_DocumentDetail data")\n\tpublic void no_md_cockpit_documentDetail_data(@NonNull final DataTable dataTable)\n\t{\n\t\tfinal List<Map<String, String>> tableRows = dataTable.asMaps(String.class, String.class);\n\t\tfor (final Map<String, String> tableRow : tableRows)\n\t\t{\n\t\t\tfinal SoftAssertions softly = new SoftAssertions();\n\n\t\t\tfinal String cockpitIdentifier = DataTableUtil.extractStringForColumnName(tableRow, I_MD_Cockpit_DocumentDetail.COLUMNNAME_MD_Cockpit_ID + "." + TABLECOLUMN_IDENTIFIER);\n\t\t\tfinal I_MD_Cockpit cockpitRecord = cockpitTable.get(cockpitIdentifier);\n\t\t\tsoftly.assertThat(cockpitRecord).isNotNull();\n\n\t\t\tfinal String orderLineIdentifier = DataTableUtil.extractStringForColumnName(tableRow, I_MD_Cockpit_DocumentDetail.COLUMNNAME_C_OrderLine_ID + "." + TABLECOLUMN_IDENTIFIER);\n\t\t\tfinal I_C_OrderLine orderLineRecord = orderLineTable.get(orderLineIdentifier);\n\t\t\tsoftly.assertThat(orderLineRecord).isNotNull();\n\n\t\t\tfinal CockpitId cockpitId = CockpitId.ofRepoId(cockpitRecord.getMD_Cockpit_ID());\n\t\t\tfinal OrderLineId orderLineId = OrderLineId.ofRepoId(orderLineRecord.getC_OrderLine_ID());\n\t\t\t\n\t\t\tsoftly.assertThat(getCockpitDocumentDetailSupplier(cockpitId, orderLineId).get().isPresent()).isFalse();\n\n\t\t\tsoftly.assertAll();\n\t\t}\n\t}\n\nExample 3:\nGherkin Step:\n\n\t@And("validate PP_Order_Qty records")\nGlue Code:\n\t@And("validate PP_Order_Qty records")\n\tpublic void validate_pp_order_qty_records(@NonNull final DataTable dataTable)\n\t{\n\t\tfinal List<Map<String, String>> rows = dataTable.asMaps();\n\t\tfor (final Map<String, String> row : rows)\n\t\t{\n\t\t\tfinal String ppOrderQtyIdentifier = DataTableUtil.extractStringForColumnName(row, I_PP_Order_Qty.COLUMNNAME_PP_Order_Qty_ID + "." + TABLECOLUMN_IDENTIFIER);\n\t\t\tfinal I_PP_Order_Qty ppOrderQty = ppOrderQtyTable.get(ppOrderQtyIdentifier);\n\n\t\t\tfinal String huIdentifier = DataTableUtil.extractStringForColumnName(row, I_PP_Order_Qty.COLUMNNAME_M_HU_ID + "." + TABLECOLUMN_IDENTIFIER);\n\t\t\tfinal I_M_HU hu = huTable.get(huIdentifier);\n\n\t\t\tfinal String productIdentifier = DataTableUtil.extractStringForColumnName(row, I_PP_Order_Qty.COLUMNNAME_M_Product_ID + "." + TABLECOLUMN_IDENTIFIER);\n\t\t\tfinal I_M_Product product = productTable.get(productIdentifier);\n\n\t\t\tfinal String bomLineIdentifier = DataTableUtil.extractStringForColumnName(row, I_PP_Order_Qty.COLUMNNAME_PP_Order_BOMLine_ID + "." + TABLECOLUMN_IDENTIFIER);\n\t\t\tfinal I_PP_Order_BOMLine bomLine = ppOrderBOMLineTable.get(bomLineIdentifier);\n\n\t\t\tfinal boolean processed = DataTableUtil.extractBooleanForColumnNameOr(row, "OPT." + I_PP_Order_Qty.COLUMNNAME_Processed, false);\n\n\t\t\tassertThat(ppOrderQty).isNotNull();\n\t\t\tassertThat(ppOrderQty.getM_HU_ID()).isEqualTo(hu.getM_HU_ID());\n\t\t\tassertThat(ppOrderQty.getM_Product_ID()).isEqualTo(product.getM_Product_ID());\n\t\t\tassertThat(ppOrderQty.getPP_Order_BOMLine_ID()).isEqualTo(bomLine.getPP_Order_BOMLine_ID());\n\t\t\tassertThat(ppOrderQty.isProcessed()).isEqualTo(processed);\n\t\t}\n\t}\n\nExample 4:\nGherkin Step:\n\n\t@And("deactivate all M_ShipmentSchedule records")\nGlue Code:\n\t@And("deactivate all M_ShipmentSchedule records")\n\tpublic void deactivate_M_ShipmentSchedule()\n\t{\n\t\tfinal ICompositeQueryUpdater<I_M_ShipmentSchedule> updater = queryBL\n\t\t\t\t.createCompositeQueryUpdater(I_M_ShipmentSchedule.class)\n\t\t\t\t.addSetColumnValue(I_M_ShipmentSchedule.COLUMNNAME_IsActive, false);\n\n\t\tqueryBL.createQueryBuilder(I_M_ShipmentSchedule.class)\n\t\t\t\t.addOnlyActiveRecordsFilter()\n\t\t\t\t.create()\n\t\t\t\t.update(updater);\n\t}\n\nExample 5:\nGherkin Step:\n\n\t@Given("metasfresh initially has no MD_Available_For_Sales data")\nGlue Code:\n\t@Given("metasfresh initially has no MD_Available_For_Sales data")\n\tpublic void setupMD_Candidate_Data()\n\t{\n\t\ttruncateMDAvailableForSalesData();\n\t}\n\nExample 6:\nGherkin Step:\n\n\t@Given("metasfresh initially has no EDI_Desadv_Pack_Item data")\nGlue Code:\n\t@Given("metasfresh initially has no EDI_Desadv_Pack_Item data")\n\tpublic void setupMD_Stock_Data()\n\t{\n\t\ttruncateEDIDesadvPackItem();\n\t}\n\nExample 7:\nGherkin Step:\n\n\t@Given("metasfresh initially has no EDI_Desadv_Pack data")\nGlue Code:\n\t@Given("metasfresh initially has no EDI_Desadv_Pack data")\n\tpublic void setupMD_Stock_Data()\n\t{\n\t\tdeleteAllFromEDIDesadvPack();\n\t}\n\nExample 8:\nGherkin Step:\n\n\t@And("metasfresh initially has M_Inventory data")\nGlue Code:\n\t@And("metasfresh initially has M_Inventory data")\n\tpublic void setupM_Inventory_Data(@NonNull final DataTable dataTable)\n\t{\n\t\tDataTableRows.of(dataTable).forEach(this::createM_Inventory);\n\t}\n\nExample 9:\nGherkin Step:\n\n\t@And("metasfresh initially has M_InventoryLine data")\nGlue Code:\n\t@And("metasfresh initially has M_InventoryLine data")\n\tpublic void setupM_InventoryLine_Data(@NonNull final DataTable dataTable)\n\t{\n\t\tDataTableRows.of(dataTable).forEach(this::createM_InventoryLine);\n\t}\n\nExample 10:\nGherkin Step:\n\n\t@And("metasfresh has this MD_Candidate_StockChange_Detail data")\nGlue Code:\n\t@And("metasfresh has this MD_Candidate_StockChange_Detail data")\n\tpublic void metasfresh_has_this_md_candidate_stockChange_detail_data(@NonNull final DataTable dataTable)\n\t{\n\t\tfinal List<Map<String, String>> tableRows = dataTable.asMaps(String.class, String.class);\n\t\tfinal SoftAssertions softly = new SoftAssertions();\n\t\tfor (final Map<String, String> row : tableRows)\n\t\t{\n\t\t\tfinal String stockChangeDetailIdentifier = DataTableUtil.extractStringOrNullForColumnName(row, I_MD_Candidate_StockChange_Detail.COLUMNNAME_MD_Candidate_StockChange_Detail_ID + ".Identifier");\n\t\t\tfinal String candidateIdentifier = DataTableUtil.extractStringOrNullForColumnName(row, COLUMNNAME_MD_Candidate_ID + ".Identifier");\n\t\t\tfinal int freshQtyOnHandId = DataTableUtil.extractIntForColumnName(row, "Fresh_QtyOnHand_ID");\n\t\t\tfinal int freshQtyOnHandLineId = DataTableUtil.extractIntForColumnName(row, "Fresh_QtyOnHand_Line_ID");\n\t\t\tfinal boolean isReverted = DataTableUtil.extractBooleanForColumnName(row, "IsReverted");\n\n\t\t\tfinal I_MD_Candidate_StockChange_Detail stockChangeDetail = queryBL.createQueryBuilder(I_MD_Candidate_StockChange_Detail.class)\n\t\t\t\t\t.addOnlyActiveRecordsFilter()\n\t\t\t\t\t.addEqualsFilter(I_MD_Candidate_StockChange_Detail.COLUMNNAME_Fresh_QtyOnHand_Line_ID, freshQtyOnHandLineId)\n\t\t\t\t\t.create()\n\t\t\t\t\t.firstOnly(I_MD_Candidate_StockChange_Detail.class);\n\n\t\t\tsoftly.assertThat(stockChangeDetail).as("MD_Candidate_StockChange_Detail with Fresh_QtyOnHand_Line_ID=%s", freshQtyOnHandLineId).isNotNull();\n\t\t\tsoftly.assertThat(stockChangeDetail.getFresh_QtyOnHand_ID()).as("MD_Candidate_StockChange_Detail with Fresh_QtyOnHand_Line_ID=%s - Fresh_QtyOnHand_ID", freshQtyOnHandLineId).isEqualTo(freshQtyOnHandId);\n\t\t\tsoftly.assertThat(stockChangeDetail.isReverted()).as("MD_Candidate_StockChange_Detail with Fresh_QtyOnHand_Line_ID=%s - isReverted", freshQtyOnHandLineId).isEqualTo(isReverted);\n\n\t\t\tif (candidateIdentifier != null)\n\t\t\t{\n\t\t\t\tfinal MaterialDispoDataItem materialDispoDataItem = materialDispoDataItemStepDefData.get(candidateIdentifier);\n\t\t\t\tsoftly.assertThat(materialDispoDataItem.getCandidateId().getRepoId()).as("MD_Candidate_StockChange_Detail with Fresh_QtyOnHand_Line_ID=%s - MD_Candidate_ID", freshQtyOnHandLineId).isEqualTo(stockChangeDetail.getMD_Candidate_ID());\n\t\t\t}\n\t\t\tif (stockChangeDetailIdentifier != null)\n\t\t\t{\n\t\t\t\tstockChangeDetailStepDefData.putOrReplace(stockChangeDetailIdentifier, stockChangeDetail);\n\t\t\t}\n\t\t}\n\t\tsoftly.assertAll();\n\t}\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n\t@And("metasfresh has no AD_EventLog records")\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:28,494 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:28,495 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:28,495 - DEBUG - send_request_headers.complete
2025-09-23 02:45:28,495 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:28,496 - DEBUG - send_request_body.complete
2025-09-23 02:45:28,496 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:28,571 - DEBUG - receive_response_body.complete
2025-09-23 02:45:28,571 - DEBUG - response_closed.started
2025-09-23 02:45:28,572 - DEBUG - response_closed.complete
2025-09-23 02:45:28,572 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:27 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b4babe5701e4-YYC'})
2025-09-23 02:45:28,572 - DEBUG - request_id: None
2025-09-23 02:45:28,574 - INFO - Generated glue code: 
```java
@And("filters are disabled")
public void filtersAreDisabled() {
    flowProperties.setFilterSeverity(null);
    flowProperties.setFilterCwe(null);
    flowProperties.setFilterCategory(null);
    flowProperties.setFilterStatus(null);
    flowProperties.setFilterState(null);
}
```
2025-09-23 02:45:28,578 - INFO - Step ID 638 CodeBLEU: {'codebleu': 0.27591512437245397, 'ngram_match_score': 0.41374412020518814, 'weighted_ngram_match_score': 0.612073790186018, 'syntax_match_score': 0.26666666666666666, 'dataflow_match_score': 0.16666666666666666}
2025-09-23 02:45:28,578 - INFO - Generating glue code for step ID 639
2025-09-23 02:45:28,584 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-6e2f85b1-c847-4e32-91ea-9707563543e0', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n    @When("GitHub notifies CxFlow that a pull request was created for the {string} branch")\nGlue Code:\n    @When("GitHub notifies CxFlow that a pull request was created for the {string} branch")\n    public void githubNotifiesCxFlow(String srcBranch) {\n        log.info("Creating RestTemplate mock.");\n        RestTemplate restTemplateMock = mock(RestTemplate.class);\n\n        //added mock for branch validation\n        when(restTemplateMock.exchange(\n                anyString(),                          // Match any URL\n                eq(HttpMethod.GET),                   // Match GET method\n                any(HttpEntity.class),                // Match any HttpEntity\n                eq(String.class),                     // Match response type\n                anyString(),                          // Match namespace\n                anyString(),                          // Match repoName\n                anyString()                           // Match branch\n        )).thenAnswer(invocation ->{\n            assertEquals(BRANCH_ARGUMENT_INDEX1 + 1, invocation.getArguments().length,\n                "Unexpected argument count for the restTemplate call.");\n            actualBranch = invocation.getArgument(BRANCH_ARGUMENT_INDEX1);\n            return new ResponseEntity<>(actualBranch, HttpStatus.OK);});\n\n        when(gettingFileFromRepo(restTemplateMock)).thenAnswer(this::interceptConfigAsCodeBranch);\n\n        PullEvent pullEvent = CxConfigSteps.createPullEventDto(srcBranch, defaultBranch, gitHubProperties);\n\n        GitHubController controllerSpy = getGitHubControllerSpy(restTemplateMock);\n        CxConfigSteps.sendPullRequest(pullEvent, controllerSpy, srcBranch);\n    }\n\nExample 2:\nGherkin Step:\n\n    @When("pull request webhook arrives")\nGlue Code:\n    @When("pull request webhook arrives")\n    public void sendPullRequestWebhookEvent() {\n        assertFlowPropertiesBugTracker("Json");\n        ArgumentCaptor<ScanRequest> ac = ArgumentCaptor.forClass(ScanRequest.class);\n        FlowService flowServiceMock = Mockito.mock(FlowService.class);\n        gitHubControllerSpy = new GitHubController(gitHubProperties,flowProperties, jiraProperties, flowServiceMock,helperService, gitHubService,gitHubAppAuthService, filterFactory, configOverrider, scmConfigOverrider, gitAuthUrlGenerator);\n        gitHubControllerSpy = spy(gitHubControllerSpy);\n        initGitHubControllerSpy();\n        buildPullRequest();\n        verify(flowServiceMock, times(1)).initiateAutomation(ac.capture());\n        request = ac.getValue();\n    }\n\nExample 3:\nGherkin Step:\n\n    @Then("CxFlow {string} the pull request on GitHub")\nGlue Code:\n    @Then("CxFlow {string} the pull request on GitHub")\n    public void cxflowApprovesOrFailsGithubPullRequest(String approvesOrFails) {\n        processScanResultsInCxFlow(true);\n\n        boolean expectingApproval = approvesOrFails.equals("approves");\n        verifyPullRequestState(expectingApproval);\n    }\n\nExample 4:\nGherkin Step:\n\n    @When("pull request arrives to CxFlow")\nGlue Code:\n    @When("pull request arrives to CxFlow")\n    public void sendPullRequest() {\n        if (sourceControl.equals(SourceControlType.GITHUB)) {\n            buildGitHubPullRequest();\n        } else if (sourceControl.equals(SourceControlType.ADO)) {\n            buildADOPullRequestEvent();\n        } else if (sourceControl.equals(SourceControlType.GITLAB)) {\n            buildGitlabPullRequestEvent();\n        }\n    }\n\nExample 5:\nGherkin Step:\n\n    @And("Pull request comments updated in repo and status is {}")\nGlue Code:\n    @And("Pull request comments updated in repo and status is {}")\n    public void validatePullRequestComment(String pullRequestStatus) {\n        waitForOperationToComplete(this::scanFinished, MAX_TIME_FOR_SCAN_COMPLETED_IN_SEC);\n        waitForOperationToComplete(this::pullRequestHas2CxFlowComments, MAX_TIME_FOR_PULL_REQUEST_UPDATE_IN_SEC);\n        waitForOperationToComplete(this::pullRequestNotPending, MAX_TIME_FOR_PULL_REQUEST_NOT_PENDING_IN_SEC);\n\n        String status = repoServiceMocker.getPullRequestStatus();\n\n        Assert.assertEquals(pullRequestStatus, status);\n    }\n\nExample 6:\nGherkin Step:\n\n    @And("commit or merge pull request is performed in github repo {string} and branch {string}")\nGlue Code:\n    @And("commit or merge pull request is performed in github repo {string} and branch {string}")\n    public void setBranchAppSet(String repoName, String branch){\n        this.branch = branch;\n        this.repoName = repoName;\n        gitHubProperties.setUrl(gitHubProperties.getUrl().concat(repoName));\n        \n    }\n\nExample 7:\nGherkin Step:\n\n    @When("GitHub notifies CxFlow about a pull request for the {string} project")\nGlue Code:\n    @When("GitHub notifies CxFlow about a pull request for the {string} project")\n    public void githubNotifiesCxFlowAboutAPullRequest(String projectName) {\n\n        GitHubController gitHubController = new GitHubController(gitHubProperties, flowProperties,\n                null, flowService, helperService, gitHubService,gitHubAppAuthService, filterFactory, configOverrider,\n                scmConfigOverrider, gitAuthUrlGenerator);\n\n        gitHubTestUtils.callController(gitHubController, GitHubTestUtils.EventType.PULL_REQUEST, projectName);\n    }\n\nExample 8:\nGherkin Step:\n\n    @Then("Json file is created in path: {string}")\nGlue Code:\n    @Then("Json file is created in path: {string}")\n    public void jsonFileIsCreatedInPath(String path) {\n        boolean exists = Files.exists(Paths.get(path));\n        assertTrue(exists);\n    }\n\nExample 9:\nGherkin Step:\n\n    @When("Scan request contain feature repo name {string}")\nGlue Code:\n    @When("Scan request contain feature repo name {string}")\n    public void scanRequestContainFeatureRepoName(String repoName) {\n        request.setRepoName(repoName);\n    }\n\nExample 10:\nGherkin Step:\n\n    @Given("bug tracker is GitHub")\nGlue Code:\n    @Given("bug tracker is GitHub")\n    public void setTagetToGitHub() {\n        flowProperties.setBugTracker("GitHub");\n    }\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n    @When("pull request is created for a repo with URL: {string} in GitHub")\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:28,585 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:28,585 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:28 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b4c21a65bec2-YYC')])
2025-09-23 02:45:28,586 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:28,587 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:28,587 - DEBUG - send_request_headers.complete
2025-09-23 02:45:28,588 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:28,588 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:28,588 - DEBUG - send_request_body.complete
2025-09-23 02:45:28,588 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:28,810 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:28 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b4c38f0b01de-YYC')])
2025-09-23 02:45:28,811 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:28,811 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:28,993 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:28 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b4c51c99bf01-YYC')])
2025-09-23 02:45:28,994 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:28,995 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:29,138 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:29 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b4c5b87501e4-YYC')])
2025-09-23 02:45:29,139 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:29,139 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:29,378 - DEBUG - receive_response_body.complete
2025-09-23 02:45:29,379 - DEBUG - response_closed.started
2025-09-23 02:45:29,379 - DEBUG - response_closed.complete
2025-09-23 02:45:29,379 - DEBUG - close.started
2025-09-23 02:45:29,379 - DEBUG - close.complete
2025-09-23 02:45:29,380 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:28 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b4c21a65bec2-YYC'})
2025-09-23 02:45:29,380 - DEBUG - request_id: None
2025-09-23 02:45:29,381 - INFO - Generated glue code: 
```java
@Then("the library contains {int} book(s) with {string}")
public void the_library_contains_books_with(int count, String isbn) {
    assertThat(bookRepository.findByIsbn(isbn).size(), is(count));
}
```
2025-09-23 02:45:29,386 - INFO - Step ID 67 CodeBLEU: {'codebleu': 0.6899954755654311, 'ngram_match_score': 0.4918537211621339, 'weighted_ngram_match_score': 0.4881010344921759, 'syntax_match_score': 0.68, 'dataflow_match_score': 0.8}
2025-09-23 02:45:29,386 - INFO - Generating glue code for step ID 68
2025-09-23 02:45:29,390 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-8fab5d0a-9e7d-4118-9d86-1751c99257ab', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n    @Given("{string} has borrowed books {string} on {date}")\nGlue Code:\n    @Given("{string} has borrowed books {string} on {date}")\n    public void has_borrowed_books_on(String borrower, String isbns, LocalDate borrowDate) {\n        List<Book> books = (List<Book>) storyContext.getObject("LAST_INSERTED_BOOKS");\n        Splitter.on(" ").omitEmptyStrings().splitToList(isbns).stream().forEach(isbn -> {\n            Book bookToBeBorrowed = books.stream()\n                                        .filter(book -> book.getIsbn().equals(isbn))\n                                        .findFirst().orElseThrow();\n\n            LocalDate date = borrowDate.atStartOfDay(ZoneId.systemDefault()).toLocalDate();\n\n            Borrowing newBorrowing = new Borrowing(bookToBeBorrowed, borrower, date);\n            borrowingRepository.save(newBorrowing);\n\n            bookToBeBorrowed.setBorrowing(newBorrowing);\n            bookRepository.save(bookToBeBorrowed);\n        });\n    }\n\nExample 2:\nGherkin Step:\n\n    @Then("the library contains {long} books")\nGlue Code:\n    @Then("the library contains {long} books")\n    public void shouldContainNumberOfBooks(long books) {\n        assertThat(bookRepository.count(), is(books));\n    }\n\nExample 3:\nGherkin Step:\n\n    @Then("the library contains {int} book(s) with {string}")\nGlue Code:\n    @Then("the library contains {int} book(s) with {string}")\n    public void shouldContainNumberOfBooksWithISBN(int books, String isbn) {\n        if (isbn.isEmpty()) return;\n        assertThat(bookRepository.findByIsbn(isbn).size(), is(books));\n    }\n\nExample 4:\nGherkin Step:\n\n  @Then("The library contains no books")\nGlue Code:\n  @Then("The library contains no books")\n  public void libraryIsEmpty() {\n    seleniumAdapter.gotoPage(Page.BOOKLIST);\n    HtmlBookList htmlBookList = seleniumAdapter.getTableContent(PageElement.BOOK_LIST);\n    assertThat(htmlBookList.size(), is(0));\n  }\n\nExample 5:\nGherkin Step:\n\n  @Then("the list shows the books {string} with due date {date}")\nGlue Code:\n  @Then("the list shows the books {string} with due date {date}")\n  public void the_list_shows_the_books(String isbns, LocalDate dueDate) {\n    HtmlBookList tableContent = seleniumAdapter.getTableContent(PageElement.BORROWED_BOOK_LIST);\n    HtmlBook bookByIsbn = tableContent.getBookByIsbn(isbns);\n\n    assertThat(bookByIsbn).isNotNull();\n    assertThat(bookByIsbn)\n        .hasFieldOrPropertyWithValue("dueDate", dueDate)\n        .hasFieldOrPropertyWithValue("isbn", isbns);\n  }\n\nExample 6:\nGherkin Step:\n\n  @Then("the booklist contains a book with all the properties from the last inserted book")\nGlue Code:\n  @Then("the booklist contains a book with all the properties from the last inserted book")\n  public void justAsLastInserted() {\n    Book lastInserted = (Book) storyContext.getObject("LAST_INSERTED_BOOK");\n    seleniumAdapter.gotoPage(Page.BOOKLIST);\n    HtmlBookList htmlBookList = seleniumAdapter.getTableContent(PageElement.BOOK_LIST);\n    HtmlBook htmlBook = htmlBookList.getBookByIsbn(lastInserted.getIsbn());\n    assertThat(lastInserted.getTitle(), containsString(htmlBook.getTitle()));\n    assertThat(lastInserted.getAuthor(), containsString(htmlBook.getAuthor()));\n    assertThat(\n        lastInserted.getYearOfPublication(), is(Integer.parseInt(htmlBook.getYearOfPublication())));\n    assertThat(lastInserted.getEdition(), containsString(htmlBook.getEdition().toString()));\n    assertThat(lastInserted.getDescription(), containsString(htmlBook.getDescription()));\n  }\n\nExample 7:\nGherkin Step:\n\n\n    @Given("{string} has borrowed book(s) {string}")\nGlue Code:\n\n    @Given("{string} has borrowed book(s) {string}")\n\nExample 8:\nGherkin Step:\n\n  @When("{string} requests list of borrowed books")\nGlue Code:\n  @When("{string} requests list of borrowed books")\n  public void requests_list_of_borrowed_books(String borrower) {\n    seleniumAdapter.gotoPage(Page.BORROWED_BOOK_LIST);\n    seleniumAdapter.typeIntoField("email", borrower);\n    seleniumAdapter.clickOnPageElementById(PageElement.SHOW_BORROWED_BOOKS_BUTTON);\n  }\n\nExample 9:\nGherkin Step:\n\n  @Given("I browse the list of all books")\nGlue Code:\n  @Given("I browse the list of all books")\n  public void browseBookList() {\n    seleniumAdapter.gotoPage(Page.BOOKLIST);\n  }\n\nExample 10:\nGherkin Step:\n\n  @Then("I can see all book details for that book")\nGlue Code:\n  @Then("I can see all book details for that book")\n  public void allBookDetailsVisible() {\n    String isbn = storyContext.get("LAST_BROWSED_BOOK_DETAILS");\n    Set<Book> books = bookService.findBooksByIsbn(isbn);\n    assertThat(books, hasSize(greaterThanOrEqualTo(1)));\n    Book book = books.iterator().next();\n    String description = book.getDescription();\n    assertThat(seleniumAdapter.containsTextOnPage(book.getIsbn()), is(true));\n    assertThat(seleniumAdapter.containsTextOnPage(book.getAuthor()), is(true));\n    assertThat(seleniumAdapter.containsTextOnPage(book.getTitle()), is(true));\n    assertThat(seleniumAdapter.containsTextOnPage(book.getEdition()), is(true));\n    assertThat(\n        seleniumAdapter.containsTextOnPage(String.valueOf(book.getYearOfPublication())), is(true));\n    Optional.ofNullable(description)\n        .ifPresent(desc -> assertThat(seleniumAdapter.containsTextOnPage(description), is(true)));\n  }\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n    @Then("the library still contains all borrowed books {string}")\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:29,391 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:29,391 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:29,392 - DEBUG - send_request_headers.complete
2025-09-23 02:45:29,392 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:29,392 - DEBUG - send_request_body.complete
2025-09-23 02:45:29,392 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:29,543 - DEBUG - receive_response_body.complete
2025-09-23 02:45:29,543 - DEBUG - response_closed.started
2025-09-23 02:45:29,543 - DEBUG - response_closed.complete
2025-09-23 02:45:29,544 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:28 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b4c38f0b01de-YYC'})
2025-09-23 02:45:29,544 - DEBUG - request_id: None
2025-09-23 02:45:29,546 - INFO - Generated glue code: 
```java
@When("^I send the HTTP request \"([^\"]*)\" \"([^\"]*)\" to host \"([^\"]*)\"$")
public void I_send_the_HTTP_request_to_host(String method, String url, String host) throws Throwable {

    this.host = host;
    I_send_the_HTTP_request(method, url);
}
```
2025-09-23 02:45:29,550 - INFO - Step ID 6 CodeBLEU: {'codebleu': 0.9090092656194524, 'ngram_match_score': 0.826236106507527, 'weighted_ngram_match_score': 0.9305232163536629, 'syntax_match_score': 0.8333333333333334, 'dataflow_match_score': 1.0}
2025-09-23 02:45:29,550 - INFO - Generating glue code for step ID 7
2025-09-23 02:45:29,554 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-6390883c-1bd9-4ec1-856d-d2eb8fe939a0', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n\n\n    @When("^I send the HTTP request \\"([^\\"]*)\\" \\"([^\\"]*)\\"$")\nGlue Code:\n\n\n    @When("^I send the HTTP request \\"([^\\"]*)\\" \\"([^\\"]*)\\"$")\n    public void I_send_the_HTTP_request(String method, String url) throws Throwable {\n\n        int pathLength = 0;\n        if(this.contextPath.length() > 0) {\n            pathLength += this.contextPath.length();\n        }\n\n        if(this.servletPath.length() > 0) {\n            pathLength += this.servletPath.length();\n        }\n\n        request = new MockHttpServletRequest(this.wac.getServletContext(),method, url);\n        request.setContextPath(this.contextPath);\n        request.setServletPath(this.servletPath);\n        request.addHeader("host", host);\n\n\t    ServletRequestAttributes requestAttributes = new ServletRequestAttributes(request);\n\t    RequestContextHolder.setRequestAttributes(requestAttributes);\n\n        for (HTTPHeader header : headers) {\n            request.addHeader(header.name, header.value);\n        }\n\n        for (HTTPParam param : queryParams) {\n            request.addParameter(param.name, param.value);\n        }\n\n        request.setPathInfo(url.substring(pathLength));\n        chain = this.hm.getHandler(request);\n    }\n\nExample 2:\nGherkin Step:\n\n    @When("^I send the HTTP request \\"([^\\"]*)\\" \\"([^\\"]*)\\" with headers:$")\nGlue Code:\n    @When("^I send the HTTP request \\"([^\\"]*)\\" \\"([^\\"]*)\\" with headers:$")\n    public void I_send_the_HTTP_request_with_headers(String method, String url, List<HTTPHeader> headers) throws Throwable {\n\n        this.headers = headers;\n        I_send_the_HTTP_request(method,url);\n    }\n\nExample 3:\nGherkin Step:\n\n\n\n    @When("^I send the HTTP request \\"([^\\"]*)\\" \\"([^\\"]*)\\" to host \\"([^\\"]*)\\"$")\nGlue Code:\n\n\n    @When("^I send the HTTP request \\"([^\\"]*)\\" \\"([^\\"]*)\\" to host \\"([^\\"]*)\\"$")\n    public void I_send_the_HTTP_request_to_host(String method, String url, String host) throws Throwable {\n\n        this.host = host;\n        I_send_the_HTTP_request(method,url);\n    }\n\nExample 4:\nGherkin Step:\n\n    @When("^I send the HTTP request \\"([^\\"]*)\\" \\"([^\\"]*)\\" with a null pathInfo$")\nGlue Code:\n    @When("^I send the HTTP request \\"([^\\"]*)\\" \\"([^\\"]*)\\" with a null pathInfo$")\n    public void I_send_the_HTTP_request_with_a_null_pathInfo(String method, String url) throws Throwable {\n\n        request = new MockHttpServletRequest(this.wac.getServletContext());\n        request.setMethod(method);\n        request.setContextPath(this.contextPath);\n        request.setServletPath(url.replaceFirst(this.contextPath,""));\n        request.addHeader("host", host);\n\n        for (HTTPHeader header : headers) {\n            request.addHeader(header.name, header.value);\n        }\n\n        for (HTTPParam param : queryParams) {\n            request.addParameter(param.name, param.value);\n        }\n\n        request.setPathInfo(null);\n\n\t    ServletRequestAttributes requestAttributes = new ServletRequestAttributes(request);\n\t    RequestContextHolder.setRequestAttributes(requestAttributes);\n\n        chain = this.hm.getHandler(request);\n    }\n\nExample 5:\nGherkin Step:\n\n    @When("^I try to reverse route \\"([^\\"]*)\\" with params:$")\nGlue Code:\n    @When("^I try to reverse route \\"([^\\"]*)\\" with params:$")\n    public void I_try_to_reverse_route_with_params(String path, List<ParamItem> params) throws Throwable {\n        Map<String,Object> routeParams = new HashMap<String, Object>();\n        for(ParamItem param : params) {\n              routeParams.put(param.key,param.value);\n        }\n        try {\n            resolvedAction = Router.reverse(path,routeParams);\n        } catch(Exception exc) {\n            this.thrownException = exc;\n        }\n    }\n\nExample 6:\nGherkin Step:\n\n    @Then("^the server should send an HTTP response with status \\"([^\\"]*)\\"$")\nGlue Code:\n    @Then("^the server should send an HTTP response with status \\"([^\\"]*)\\"$")\n    public void the_server_should_send_an_HTTP_response_with_status(int status) throws Throwable {\n\n        RouterHandler handler = null;\n        MockHttpServletResponse response = new MockHttpServletResponse();\n\n        if(chain != null) {\n            handler = (RouterHandler) chain.getHandler();\n        }\n\n        HandlerInterceptor[] interceptors = chain.getInterceptors();\n\n        for(HandlerInterceptor interceptor : Arrays.asList(interceptors)) {\n            interceptor.preHandle(request,response, handler);\n        }\n\n        ha.handle(request, response, handler);\n        assertThat(response.getStatus()).isEqualTo(status);\n    }\n\nExample 7:\nGherkin Step:\n\n    @Given("^I have a web application with the config locations \\"([^\\"]*)\\"$")\nGlue Code:\n    @Given("^I have a web application with the config locations \\"([^\\"]*)\\"$")\n    public void I_have_a_web_applications_with_the_config_locations(String locations) throws Throwable {\n        I_have_a_web_application_configured_locations_servletPath_contextPath(locations,"","");\n    }\n\nExample 8:\nGherkin Step:\n\n    @Given("^a current request \\"([^\\"]*)\\" \\"([^\\"]*)\\" with servlet path \\"([^\\"]*)\\" and context path \\"([^\\"]*)\\"$")\nGlue Code:\n    @Given("^a current request \\"([^\\"]*)\\" \\"([^\\"]*)\\" with servlet path \\"([^\\"]*)\\" and context path \\"([^\\"]*)\\"$")\n    public void a_current_request_with_servlet_path_and_context_path(String method, String url, String servletPath, String contextPath) throws Throwable {\n\n        MockServletContext sc = new MockServletContext();\n        sc.setContextPath(contextPath);\n\n        int pathLength = 0;\n        if(contextPath.length() > 0) {\n            pathLength += contextPath.length();\n        }\n\n        if(servletPath.length() > 0) {\n            pathLength += servletPath.length();\n        }\n\n        request = new MockHttpServletRequest(sc, method, url);\n        request.setContextPath(contextPath);\n        request.setServletPath(servletPath);\n        request.addHeader("host", host);\n\n        request.setPathInfo(url.substring(pathLength));\n\n\t    ServletRequestAttributes requestAttributes = new ServletRequestAttributes(request);\n\t    RequestContextHolder.setRequestAttributes(requestAttributes);\n\n        HTTPRequestAdapter.parseRequest(request);\n    }\n\nExample 9:\nGherkin Step:\n\n    @Then("^the request should be handled by \\"([^\\"]*)\\"$")\nGlue Code:\n    @Then("^the request should be handled by \\"([^\\"]*)\\"$")\n    public void the_request_should_be_handled_by(String controllerAction) throws Throwable {\n\n        assertThat(chain).isNotNull();\n        RouterHandler handler = (RouterHandler) chain.getHandler();\n\n        assertThat(handler).isNotNull();\n        assertThat(handler.getRoute()).isNotNull();\n        assertThat(handler.getRoute().action).isNotNull().isEqualToIgnoringCase(controllerAction);\n    }\n\nExample 10:\nGherkin Step:\n\n    @When("^I add an argument named \\"([^\\"]*)\\" with value \\"([^\\"]*)\\"$")\nGlue Code:\n    @When("^I add an argument named \\"([^\\"]*)\\" with value \\"([^\\"]*)\\"$")\n    public void I_add_a_argument_named_with_value(String name, String value) throws Throwable {\n        linkBuilder = linkBuilder.slash(name, value);\n    }\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n    @When("^I send the HTTP request \\"([^\\"]*)\\" \\"([^\\"]*)\\" with query params:$")\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:29,555 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:29,556 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:29,556 - DEBUG - send_request_headers.complete
2025-09-23 02:45:29,557 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:29,557 - DEBUG - send_request_body.complete
2025-09-23 02:45:29,557 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:29,560 - DEBUG - receive_response_body.complete
2025-09-23 02:45:29,560 - DEBUG - response_closed.started
2025-09-23 02:45:29,560 - DEBUG - response_closed.complete
2025-09-23 02:45:29,560 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:28 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b4c51c99bf01-YYC'})
2025-09-23 02:45:29,560 - DEBUG - request_id: None
2025-09-23 02:45:29,562 - INFO - Generated glue code: 
```java
@And("metasfresh has no AD_EventLog records")
public void delete_AD_EventLog_records()
{
    DB.executeUpdateAndThrowExceptionOnFail("DELETE FROM AD_EventLog;", ITrx.TRXNAME_None);
}
```
2025-09-23 02:45:29,565 - WARNING - WARNING: There is no reference data-flows extracted from the whole corpus, and the data-flow match score degenerates to 0. Please consider ignoring this score.
2025-09-23 02:45:29,565 - INFO - Step ID 1212 CodeBLEU: {'codebleu': 0.858841075990572, 'ngram_match_score': 0.6967812829199793, 'weighted_ngram_match_score': 0.8147064000626635, 'syntax_match_score': 0.7692307692307693, 'dataflow_match_score': 0}
2025-09-23 02:45:29,565 - INFO - Generating glue code for step ID 1213
2025-09-23 02:45:29,572 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-814b2558-5de2-4b07-bc32-648cae8bd50e', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n\t@And("^after not more than (.*)s, AD_EventLog are found$")\nGlue Code:\n\t@And("^after not more than (.*)s, AD_EventLog are found$")\n\tpublic void findAD_EventLog(final int timeoutSec, @NonNull final DataTable dataTable) throws InterruptedException\n\t{\n\t\tfor (final Map<String, String> row : dataTable.asMaps())\n\t\t{\n\t\t\tfinal String eventName = DataTableUtil.extractStringForColumnName(row, "EventName");\n\n\t\t\tfinal Supplier<Optional<I_AD_EventLog>> getEventLogRecord = () -> {\n\n\t\t\t\tfinal List<I_AD_EventLog> eventLogRecords = queryBL.createQueryBuilder(I_AD_EventLog.class)\n\t\t\t\t\t\t.addEqualsFilter(I_AD_EventLog.COLUMNNAME_EventName, eventName)\n\t\t\t\t\t\t.orderByDescending(I_AD_EventLog.COLUMNNAME_Created)\n\t\t\t\t\t\t.create()\n\t\t\t\t\t\t.list(I_AD_EventLog.class);\n\t\t\t\tif (eventLogRecords.isEmpty())\n\t\t\t\t{\n\t\t\t\t\treturn Optional.empty();\n\t\t\t\t}\n\t\t\t\tif (Check.equals(eventName, SupplyRequiredEvent.TYPE))\n\t\t\t\t{\n\t\t\t\t\treturn extractSupplyRequiredEventLog(row, eventLogRecords);\n\t\t\t\t}\n\t\t\t\tthrow new AdempiereException("EventName " + eventName + " not supported");\n\t\t\t};\n\n\t\t\tfinal I_AD_EventLog eventLog = StepDefUtil.tryAndWaitForItem(timeoutSec,\n\t\t\t\t\t500,\n\t\t\t\t\tgetEventLogRecord,\n\t\t\t\t\tthis::logCurrentContextForEventLogRecords);\n\n\t\t\tfinal String eventLogIdentifier = DataTableUtil.extractStringForColumnName(row, I_AD_EventLog.COLUMNNAME_AD_EventLog_ID + "." + TABLECOLUMN_IDENTIFIER);\n\n\t\t\teventLogTable.put(eventLogIdentifier, eventLog);\n\t\t}\n\t}\n\nExample 2:\nGherkin Step:\n\n\t@And("^after not more than (.*)s, Fact_Acct are found$")\nGlue Code:\n\t@And("^after not more than (.*)s, Fact_Acct are found$")\n\tpublic void find_Fact_Accts(final int timeoutSec, @NonNull final DataTable dataTable) throws InterruptedException\n\t{\n\t\tDataTableRows.of(dataTable).forEach((row) -> {\n\t\t\tfinal SoftAssertions softly = new SoftAssertions();\n\n\t\t\tfinal List<I_Fact_Acct> factAcctRecords = StepDefUtil.tryAndWaitForItem(timeoutSec, 500, () -> load_Fact_Acct(row));\n\n\t\t\trow.getAsOptionalIdentifier(I_M_SectionCode.COLUMNNAME_M_SectionCode_ID)\n\t\t\t\t\t.ifPresent(sectionCodeIdentifier -> {\n\t\t\t\t\t\tfinal I_M_SectionCode sectionCode = sectionCodeTable.get(sectionCodeIdentifier);\n\t\t\t\t\t\tfinal boolean allFactAcctRecordsMatch = factAcctRecords.stream()\n\t\t\t\t\t\t\t\t.allMatch(factAcct -> sectionCode.getM_SectionCode_ID() == factAcct.getM_SectionCode_ID());\n\n\t\t\t\t\t\tsoftly.assertThat(allFactAcctRecordsMatch).isTrue();\n\t\t\t\t\t});\n\n\t\t\trow.getAsOptionalString(I_Fact_Acct.COLUMNNAME_PostingType)\n\t\t\t\t\t.ifPresent(postingType -> {\n\t\t\t\t\t\tfinal PostingType type = PostingType.valueOf(postingType);\n\n\t\t\t\t\t\tfinal boolean allFactAcctRecordsMatchPostingType = factAcctRecords.stream()\n\t\t\t\t\t\t\t\t.allMatch(factAcct -> factAcct.getPostingType().equals(type.getCode()));\n\t\t\t\t\t\tsoftly.assertThat(allFactAcctRecordsMatchPostingType).isTrue();\n\t\t\t\t\t});\n\n\t\t\trow.getAsOptionalIdentifier(I_Fact_Acct.COLUMNNAME_C_Project_ID)\n\t\t\t\t\t.ifPresent(projectIdentifier ->\n\t\t\t\t\t{\n\t\t\t\t\t\tfinal I_C_Project project = projectTable.get(projectIdentifier);\n\n\t\t\t\t\t\tfinal boolean allFactAcctRecordsMatchProjectId = factAcctRecords.stream()\n\t\t\t\t\t\t\t\t.allMatch(factAcct -> project.getC_Project_ID() == factAcct.getC_Project_ID());\n\t\t\t\t\t\tsoftly.assertThat(allFactAcctRecordsMatchProjectId).isTrue();\n\t\t\t\t\t});\n\n\t\t\trow.getAsOptionalIdentifier(I_Fact_Acct.COLUMNNAME_C_Activity_ID)\n\t\t\t\t\t.ifPresent(activityIdentifier ->\n\t\t\t\t\t{\n\t\t\t\t\t\tfinal I_C_Activity activity = activityTable.get(activityIdentifier);\n\n\t\t\t\t\t\tfinal boolean allFactAcctRecordsMatchProjectId = factAcctRecords.stream()\n\t\t\t\t\t\t\t\t.allMatch(factAcct -> activity.getC_Activity_ID() == factAcct.getC_Activity_ID());\n\t\t\t\t\t\tsoftly.assertThat(allFactAcctRecordsMatchProjectId).isTrue();\n\t\t\t\t\t});\n\n\t\t\tsoftly.assertAll();\n\t\t});\n\t}\n\nExample 3:\nGherkin Step:\n\n\t@And("^after not more than (.*)s, MD_Candidates are found$")\nGlue Code:\n\t@And("^after not more than (.*)s, MD_Candidates are found$")\n\tpublic void validate_md_candidates(final int timeoutSec, @NonNull final MD_Candidate_StepDefTable table) throws Throwable\n\t{\n\t\tfinal Stopwatch stopwatch = Stopwatch.createStarted();\n\n\t\tfinal HashMap<CandidateId, StepDefDataIdentifier> candidateIdsAlreadyMatched = new HashMap<>();\n\t\ttable.forEach((row) -> {\n\t\t\t// make sure the given md_candidate has been created\n\t\t\tfinal MaterialDispoDataItem materialDispoRecord = tryAndWaitForCandidate(timeoutSec, row, candidateIdsAlreadyMatched);\n\t\t\tSharedTestContext.put("candidateId", materialDispoRecord.getCandidateId().getRepoId());\n\t\t\tSharedTestContext.put("materialDispoRecord", materialDispoRecord);\n\n\t\t\tvalidate_md_candidate(row, materialDispoRecord);\n\n\t\t\tmaterialDispoDataItemStepDefData.putOrReplace(row.getIdentifier(), materialDispoRecord);\n\t\t\tcandidateIdsAlreadyMatched.put(materialDispoRecord.getCandidateId(), row.getIdentifier());\n\t\t});\n\n\t\tstopwatch.stop();\n\t\tlogger.info("All candidates were created after {}", stopwatch);\n\t}\n\nExample 4:\nGherkin Step:\n\n\t@And("^after not more than (.*)s, PP_OrderCandidate_PP_Order are found$")\nGlue Code:\n\t@And("^after not more than (.*)s, PP_OrderCandidate_PP_Order are found$")\n\tpublic void validatePP_OrderCandidate_PP_Order(final int timeoutSec, @NonNull final DataTable dataTable)\n\t{\n\t\tDataTableRows.of(dataTable).forEach(row -> StepDefUtil.tryAndWaitForItem(timeoutSec, 500, toPPOrderCandidateQuery(row)));\n\t}\n\nExample 5:\nGherkin Step:\n\n\t@And("^after not more than (.*)s, PP_OrderLine_Candidates are found$")\nGlue Code:\n\t@And("^after not more than (.*)s, PP_OrderLine_Candidates are found$")\n\tpublic void validatePP_Order_candidate(\n\t\t\tfinal int timeoutSec,\n\t\t\t@NonNull final DataTable dataTable)\n\t{\n\t\tDataTableRows.of(dataTable)\n\t\t\t\t.setAdditionalRowIdentifierColumnName(I_PP_OrderLine_Candidate.Table_Name)\n\t\t\t\t.forEach(row -> validatePP_OrderLine_Candidate(timeoutSec, row));\n\t}\n\nExample 6:\nGherkin Step:\n\n\t@And("^after not more than (.*)s, PP_Order_Candidates are found$")\nGlue Code:\n\t@And("^after not more than (.*)s, PP_Order_Candidates are found$")\n\tpublic void validatePP_Order_Candidate(final int timeoutSec, @NonNull final DataTable dataTable)\n\t{\n\t\tDataTableRows.of(dataTable)\n\t\t\t\t.setAdditionalRowIdentifierColumnName("PP_Order_Candidate_ID")\n\t\t\t\t.forEach(row -> validatePP_Order_Candidate(timeoutSec, row));\n\t}\n\nExample 7:\nGherkin Step:\n\n\t@And("^after not more than (.*)s, PP_Orders are found$")\nGlue Code:\n\t@And("^after not more than (.*)s, PP_Orders are found$")\n\tpublic void validatePP_Order_Candidate(\n\t\t\tfinal int timeoutSec,\n\t\t\t@NonNull final DataTable dataTable)\n\t{\n\t\tDataTableRows.of(dataTable).forEach(row -> validatePP_Order(timeoutSec, row));\n\t}\n\nExample 8:\nGherkin Step:\n\n\t@And("^after not more than (.*)s, PP_Order_BomLines are found$")\nGlue Code:\n\t@And("^after not more than (.*)s, PP_Order_BomLines are found$")\n\tpublic void validatePP_Order_BomLine(final int timeoutSec, @NonNull final DataTable dataTable)\n\t{\n\t\tDataTableRows.of(dataTable).forEach(row -> validatePP_Order_BomLine(timeoutSec, row));\n\t}\n\nExample 9:\nGherkin Step:\n\n\t@And("^after not more than (.*)s, C_PurchaseCandidate_Alloc are found$")\nGlue Code:\n\t@And("^after not more than (.*)s, C_PurchaseCandidate_Alloc are found$")\n\tpublic void findC_PurchaseCandidate_Alloc(\n\t\t\tfinal int timeoutSec,\n\t\t\t@NonNull final DataTable dataTable) throws InterruptedException\n\t{\n\t\tfinal List<Map<String, String>> tableRows = dataTable.asMaps(String.class, String.class);\n\t\tfor (final Map<String, String> tableRow : tableRows)\n\t\t{\n\t\t\tfindC_PurchaseCandidate_Alloc_ByCandidateId(timeoutSec, tableRow);\n\t\t}\n\t}\n\nExample 10:\nGherkin Step:\n\n\t@And("^after not more than (.*)s, C_PurchaseCandidates are found$")\nGlue Code:\n\t@And("^after not more than (.*)s, C_PurchaseCandidates are found$")\n\tpublic void find_purchase_candidates(final int timeoutSec, @NonNull final DataTable dataTable) throws InterruptedException\n\t{\n\t\tfinal List<Map<String, String>> tableRows = dataTable.asMaps(String.class, String.class);\n\t\tfor (final Map<String, String> row : tableRows)\n\t\t{\n\t\t\tfindPurchaseCandidate(timeoutSec, row);\n\t\t}\n\t}\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n\t@And("^after not more than (.*)s, AD_EventLog_Entry are found$")\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:29,573 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:29,574 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:29,574 - DEBUG - send_request_headers.complete
2025-09-23 02:45:29,574 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:29,574 - DEBUG - send_request_body.complete
2025-09-23 02:45:29,575 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:30,000 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:29 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b4cabb33420e-YYC')])
2025-09-23 02:45:30,001 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:30,001 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:30,055 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:30 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b4cbda8abf01-YYC')])
2025-09-23 02:45:30,056 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:30,056 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:30,106 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:30 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b4cbcfd301de-YYC')])
2025-09-23 02:45:30,107 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:30,107 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:30,816 - DEBUG - receive_response_body.complete
2025-09-23 02:45:30,816 - DEBUG - response_closed.started
2025-09-23 02:45:30,816 - DEBUG - response_closed.complete
2025-09-23 02:45:30,816 - DEBUG - close.started
2025-09-23 02:45:30,817 - DEBUG - close.complete
2025-09-23 02:45:30,817 - DEBUG - close.started
2025-09-23 02:45:30,817 - DEBUG - close.complete
2025-09-23 02:45:30,817 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:30 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b4cbcfd301de-YYC'})
2025-09-23 02:45:30,817 - DEBUG - request_id: None
2025-09-23 02:45:30,819 - INFO - Generated glue code: 
```java
@When("^I send the HTTP request \"([^\"]*)\" \"([^\"]*)\" with query params:$")
public void I_send_the_HTTP_request_with_query_params(String method, String url, List<HTTPParam> queryParams) throws Throwable {

    this.queryParams = queryParams;
    I_send_the_HTTP_request(method, url);
}
```
2025-09-23 02:45:30,824 - INFO - Step ID 7 CodeBLEU: {'codebleu': 0.9156759322861191, 'ngram_match_score': 0.826236106507527, 'weighted_ngram_match_score': 0.9305232163536629, 'syntax_match_score': 0.85, 'dataflow_match_score': 1.0}
2025-09-23 02:45:30,824 - INFO - Generating glue code for step ID 8
2025-09-23 02:45:30,828 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-9e13e7b1-4f4c-4093-a175-6b7d4314ec04', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n\n\n    @When("^I send the HTTP request \\"([^\\"]*)\\" \\"([^\\"]*)\\"$")\nGlue Code:\n\n\n    @When("^I send the HTTP request \\"([^\\"]*)\\" \\"([^\\"]*)\\"$")\n    public void I_send_the_HTTP_request(String method, String url) throws Throwable {\n\n        int pathLength = 0;\n        if(this.contextPath.length() > 0) {\n            pathLength += this.contextPath.length();\n        }\n\n        if(this.servletPath.length() > 0) {\n            pathLength += this.servletPath.length();\n        }\n\n        request = new MockHttpServletRequest(this.wac.getServletContext(),method, url);\n        request.setContextPath(this.contextPath);\n        request.setServletPath(this.servletPath);\n        request.addHeader("host", host);\n\n\t    ServletRequestAttributes requestAttributes = new ServletRequestAttributes(request);\n\t    RequestContextHolder.setRequestAttributes(requestAttributes);\n\n        for (HTTPHeader header : headers) {\n            request.addHeader(header.name, header.value);\n        }\n\n        for (HTTPParam param : queryParams) {\n            request.addParameter(param.name, param.value);\n        }\n\n        request.setPathInfo(url.substring(pathLength));\n        chain = this.hm.getHandler(request);\n    }\n\nExample 2:\nGherkin Step:\n\n    @When("^I send the HTTP request \\"([^\\"]*)\\" \\"([^\\"]*)\\" with query params:$")\nGlue Code:\n    @When("^I send the HTTP request \\"([^\\"]*)\\" \\"([^\\"]*)\\" with query params:$")\n    public void I_send_the_HTTP_request_with_query_params(String method, String url, List<HTTPParam> queryParams) throws Throwable {\n\n        this.queryParams = queryParams;\n        I_send_the_HTTP_request(method,url);\n    }\n\nExample 3:\nGherkin Step:\n\n\n\n    @When("^I send the HTTP request \\"([^\\"]*)\\" \\"([^\\"]*)\\" to host \\"([^\\"]*)\\"$")\nGlue Code:\n\n\n    @When("^I send the HTTP request \\"([^\\"]*)\\" \\"([^\\"]*)\\" to host \\"([^\\"]*)\\"$")\n    public void I_send_the_HTTP_request_to_host(String method, String url, String host) throws Throwable {\n\n        this.host = host;\n        I_send_the_HTTP_request(method,url);\n    }\n\nExample 4:\nGherkin Step:\n\n    @When("^I send the HTTP request \\"([^\\"]*)\\" \\"([^\\"]*)\\" with a null pathInfo$")\nGlue Code:\n    @When("^I send the HTTP request \\"([^\\"]*)\\" \\"([^\\"]*)\\" with a null pathInfo$")\n    public void I_send_the_HTTP_request_with_a_null_pathInfo(String method, String url) throws Throwable {\n\n        request = new MockHttpServletRequest(this.wac.getServletContext());\n        request.setMethod(method);\n        request.setContextPath(this.contextPath);\n        request.setServletPath(url.replaceFirst(this.contextPath,""));\n        request.addHeader("host", host);\n\n        for (HTTPHeader header : headers) {\n            request.addHeader(header.name, header.value);\n        }\n\n        for (HTTPParam param : queryParams) {\n            request.addParameter(param.name, param.value);\n        }\n\n        request.setPathInfo(null);\n\n\t    ServletRequestAttributes requestAttributes = new ServletRequestAttributes(request);\n\t    RequestContextHolder.setRequestAttributes(requestAttributes);\n\n        chain = this.hm.getHandler(request);\n    }\n\nExample 5:\nGherkin Step:\n\n    @Then("^the server should send an HTTP response with status \\"([^\\"]*)\\"$")\nGlue Code:\n    @Then("^the server should send an HTTP response with status \\"([^\\"]*)\\"$")\n    public void the_server_should_send_an_HTTP_response_with_status(int status) throws Throwable {\n\n        RouterHandler handler = null;\n        MockHttpServletResponse response = new MockHttpServletResponse();\n\n        if(chain != null) {\n            handler = (RouterHandler) chain.getHandler();\n        }\n\n        HandlerInterceptor[] interceptors = chain.getInterceptors();\n\n        for(HandlerInterceptor interceptor : Arrays.asList(interceptors)) {\n            interceptor.preHandle(request,response, handler);\n        }\n\n        ha.handle(request, response, handler);\n        assertThat(response.getStatus()).isEqualTo(status);\n    }\n\nExample 6:\nGherkin Step:\n\n    @Given("^I have a web application with the config locations \\"([^\\"]*)\\"$")\nGlue Code:\n    @Given("^I have a web application with the config locations \\"([^\\"]*)\\"$")\n    public void I_have_a_web_applications_with_the_config_locations(String locations) throws Throwable {\n        I_have_a_web_application_configured_locations_servletPath_contextPath(locations,"","");\n    }\n\nExample 7:\nGherkin Step:\n\n    @Given("^a current request \\"([^\\"]*)\\" \\"([^\\"]*)\\" with servlet path \\"([^\\"]*)\\" and context path \\"([^\\"]*)\\"$")\nGlue Code:\n    @Given("^a current request \\"([^\\"]*)\\" \\"([^\\"]*)\\" with servlet path \\"([^\\"]*)\\" and context path \\"([^\\"]*)\\"$")\n    public void a_current_request_with_servlet_path_and_context_path(String method, String url, String servletPath, String contextPath) throws Throwable {\n\n        MockServletContext sc = new MockServletContext();\n        sc.setContextPath(contextPath);\n\n        int pathLength = 0;\n        if(contextPath.length() > 0) {\n            pathLength += contextPath.length();\n        }\n\n        if(servletPath.length() > 0) {\n            pathLength += servletPath.length();\n        }\n\n        request = new MockHttpServletRequest(sc, method, url);\n        request.setContextPath(contextPath);\n        request.setServletPath(servletPath);\n        request.addHeader("host", host);\n\n        request.setPathInfo(url.substring(pathLength));\n\n\t    ServletRequestAttributes requestAttributes = new ServletRequestAttributes(request);\n\t    RequestContextHolder.setRequestAttributes(requestAttributes);\n\n        HTTPRequestAdapter.parseRequest(request);\n    }\n\nExample 8:\nGherkin Step:\n\n    @When("^I try to reverse route \\"([^\\"]*)\\" with params:$")\nGlue Code:\n    @When("^I try to reverse route \\"([^\\"]*)\\" with params:$")\n    public void I_try_to_reverse_route_with_params(String path, List<ParamItem> params) throws Throwable {\n        Map<String,Object> routeParams = new HashMap<String, Object>();\n        for(ParamItem param : params) {\n              routeParams.put(param.key,param.value);\n        }\n        try {\n            resolvedAction = Router.reverse(path,routeParams);\n        } catch(Exception exc) {\n            this.thrownException = exc;\n        }\n    }\n\nExample 9:\nGherkin Step:\n\n    @Then("^the request should be handled by \\"([^\\"]*)\\"$")\nGlue Code:\n    @Then("^the request should be handled by \\"([^\\"]*)\\"$")\n    public void the_request_should_be_handled_by(String controllerAction) throws Throwable {\n\n        assertThat(chain).isNotNull();\n        RouterHandler handler = (RouterHandler) chain.getHandler();\n\n        assertThat(handler).isNotNull();\n        assertThat(handler.getRoute()).isNotNull();\n        assertThat(handler.getRoute().action).isNotNull().isEqualToIgnoringCase(controllerAction);\n    }\n\nExample 10:\nGherkin Step:\n\n    @When("^I add an argument named \\"([^\\"]*)\\" with value \\"([^\\"]*)\\"$")\nGlue Code:\n    @When("^I add an argument named \\"([^\\"]*)\\" with value \\"([^\\"]*)\\"$")\n    public void I_add_a_argument_named_with_value(String name, String value) throws Throwable {\n        linkBuilder = linkBuilder.slash(name, value);\n    }\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n    @When("^I send the HTTP request \\"([^\\"]*)\\" \\"([^\\"]*)\\" with headers:$")\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:30,830 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:30,830 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:30,831 - DEBUG - send_request_headers.complete
2025-09-23 02:45:30,831 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:30,831 - DEBUG - send_request_body.complete
2025-09-23 02:45:30,831 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:31,185 - DEBUG - receive_response_body.complete
2025-09-23 02:45:31,186 - DEBUG - response_closed.started
2025-09-23 02:45:31,186 - DEBUG - response_closed.complete
2025-09-23 02:45:31,186 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:29 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b4cabb33420e-YYC'})
2025-09-23 02:45:31,186 - DEBUG - request_id: None
2025-09-23 02:45:31,188 - INFO - Generated glue code: 
```java
@Then("the library still contains all borrowed books {string}")
public void library_still_contains_all_borrowed_books(String isbns) {
    List<Book> borrowedBooks = borrowingRepository.findAll().stream()
        .map(Borrowing::getBook)
        .collect(Collectors.toList());

    Splitter.on(" ").omitEmptyStrings().splitToList(isbns).forEach(isbn -> {
        boolean contains = borrowedBooks.stream()
            .anyMatch(book -> book.getIsbn().equals(isbn));
        assertThat(contains, is(true));
    });
}
```
2025-09-23 02:45:31,196 - INFO - Step ID 68 CodeBLEU: {'codebleu': 0.49952819301917395, 'ngram_match_score': 0.2557479110702038, 'weighted_ngram_match_score': 0.5076499611505207, 'syntax_match_score': 0.391304347826087, 'dataflow_match_score': 0.6666666666666666}
2025-09-23 02:45:31,197 - INFO - Generating glue code for step ID 69
2025-09-23 02:45:31,200 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-ed8043d3-2565-4fd1-ba02-e2347efd037b', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n  @Then("book(s) {string} is/are {string} by {string}")\nGlue Code:\n  @Then("book(s) {string} is/are {string} by {string}")\n  public void booksAreNotBorrowedByBorrower1(String isbns, String borrowStatus, String borrower) {\n    seleniumAdapter.gotoPage(Page.BOOKLIST);\n    HtmlBookList htmlBookList = seleniumAdapter.getTableContent(PageElement.BOOK_LIST);\n\n    long booksInWrongBorrowingState =\n        Splitter.on(" ").omitEmptyStrings().splitToList(isbns).stream()\n            .filter(\n                isbn -> {\n                  String actualBorrower = htmlBookList.getBookByIsbn(isbn).getBorrower();\n                  return !borrowStatus.contains("not borrowed") != borrower.equals(actualBorrower);\n                })\n            .count();\n\n    assertThat(booksInWrongBorrowingState, is(0L));\n  }\n\nExample 2:\nGherkin Step:\n\n  @Then("the booklist lists {string} as borrower for the book with isbn {string}")\nGlue Code:\n  @Then("the booklist lists {string} as borrower for the book with isbn {string}")\n  public void bookListHasBorrowerForBookWithIsbn(final String borrower, final String isbn) {\n    seleniumAdapter.gotoPage(Page.BOOKLIST);\n    HtmlBookList htmlBookList = seleniumAdapter.getTableContent(PageElement.BOOK_LIST);\n    HtmlBook htmlBook = htmlBookList.getBookByIsbn(isbn);\n    assertThat(htmlBook.getBorrower(), is(borrower));\n  }\n\nExample 3:\nGherkin Step:\n\n  @Then("the list shows the books {string} with due date {date}")\nGlue Code:\n  @Then("the list shows the books {string} with due date {date}")\n  public void the_list_shows_the_books(String isbns, LocalDate dueDate) {\n    HtmlBookList tableContent = seleniumAdapter.getTableContent(PageElement.BORROWED_BOOK_LIST);\n    HtmlBook bookByIsbn = tableContent.getBookByIsbn(isbns);\n\n    assertThat(bookByIsbn).isNotNull();\n    assertThat(bookByIsbn)\n        .hasFieldOrPropertyWithValue("dueDate", dueDate)\n        .hasFieldOrPropertyWithValue("isbn", isbns);\n  }\n\nExample 4:\nGherkin Step:\n\n    @Given("{string} has borrowed books {string} on {date}")\nGlue Code:\n    @Given("{string} has borrowed books {string} on {date}")\n    public void has_borrowed_books_on(String borrower, String isbns, LocalDate borrowDate) {\n        List<Book> books = (List<Book>) storyContext.getObject("LAST_INSERTED_BOOKS");\n        Splitter.on(" ").omitEmptyStrings().splitToList(isbns).stream().forEach(isbn -> {\n            Book bookToBeBorrowed = books.stream()\n                                        .filter(book -> book.getIsbn().equals(isbn))\n                                        .findFirst().orElseThrow();\n\n            LocalDate date = borrowDate.atStartOfDay(ZoneId.systemDefault()).toLocalDate();\n\n            Borrowing newBorrowing = new Borrowing(bookToBeBorrowed, borrower, date);\n            borrowingRepository.save(newBorrowing);\n\n            bookToBeBorrowed.setBorrowing(newBorrowing);\n            bookRepository.save(bookToBeBorrowed);\n        });\n    }\n\nExample 5:\nGherkin Step:\n\n  @When("a librarian tries to add a similar book with different {string}, {string} and {int}")\nGlue Code:\n  @When("a librarian tries to add a similar book with different {string}, {string} and {int}")\n  public void whenASimilarBookIsAdded(String title, String author, Integer edition) {\n    Book lastInsertedBook = (Book) storyContext.getObject("LAST_INSERTED_BOOK");\n    insertAndSubmitBook(\n        lastInsertedBook.getIsbn(),\n        title,\n        author,\n        edition,\n        String.valueOf(lastInsertedBook.getYearOfPublication()),\n        lastInsertedBook.getDescription());\n  }\n\nExample 6:\nGherkin Step:\n\n    @Then("the library contains {long} books")\nGlue Code:\n    @Then("the library contains {long} books")\n    public void shouldContainNumberOfBooks(long books) {\n        assertThat(bookRepository.count(), is(books));\n    }\n\nExample 7:\nGherkin Step:\n\n  @Then("the booklist contains a book with {string}, {string}, {string}, {int} and {string}")\nGlue Code:\n  @Then("the booklist contains a book with {string}, {string}, {string}, {int} and {string}")\n  public void bookListContainsRowWithValues(\n      final String title,\n      final String author,\n      final String year,\n      final Integer edition,\n      final String isbn) {\n    seleniumAdapter.gotoPage(Page.BOOKLIST);\n    HtmlBookList htmlBookList = seleniumAdapter.getTableContent(PageElement.BOOK_LIST);\n    HtmlBook htmlBook = htmlBookList.getBookByIsbn(isbn);\n    assertThat(title, is(htmlBook.getTitle()));\n    assertThat(author, is(htmlBook.getAuthor()));\n    assertThat(year, is(htmlBook.getYearOfPublication()));\n    assertThat(edition, is(htmlBook.getEdition()));\n    assertThat(isbn, is(htmlBook.getIsbn()));\n  }\n\nExample 8:\nGherkin Step:\n\n    @Then("the library contains {int} book(s) with {string}")\nGlue Code:\n    @Then("the library contains {int} book(s) with {string}")\n    public void shouldContainNumberOfBooksWithISBN(int books, String isbn) {\n        if (isbn.isEmpty()) return;\n        assertThat(bookRepository.findByIsbn(isbn).size(), is(books));\n    }\n\nExample 9:\nGherkin Step:\n\n  @Then("the booklist contains a book with all the properties from the last inserted book")\nGlue Code:\n  @Then("the booklist contains a book with all the properties from the last inserted book")\n  public void justAsLastInserted() {\n    Book lastInserted = (Book) storyContext.getObject("LAST_INSERTED_BOOK");\n    seleniumAdapter.gotoPage(Page.BOOKLIST);\n    HtmlBookList htmlBookList = seleniumAdapter.getTableContent(PageElement.BOOK_LIST);\n    HtmlBook htmlBook = htmlBookList.getBookByIsbn(lastInserted.getIsbn());\n    assertThat(lastInserted.getTitle(), containsString(htmlBook.getTitle()));\n    assertThat(lastInserted.getAuthor(), containsString(htmlBook.getAuthor()));\n    assertThat(\n        lastInserted.getYearOfPublication(), is(Integer.parseInt(htmlBook.getYearOfPublication())));\n    assertThat(lastInserted.getEdition(), containsString(htmlBook.getEdition().toString()));\n    assertThat(lastInserted.getDescription(), containsString(htmlBook.getDescription()));\n  }\n\nExample 10:\nGherkin Step:\n\n    @Then("the library still contains all borrowed books {string}")\nGlue Code:\n    @Then("the library still contains all borrowed books {string}")\n    public void shouldContainOneCopyOf(String isbn) {\n        if (isbn.isEmpty()) return;\n        assertThat(bookRepository.findByIsbn(isbn).size(), is(1));\n    }\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n    @Then("the new book {string} be added")\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:31,202 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:31,202 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:31,203 - DEBUG - send_request_headers.complete
2025-09-23 02:45:31,203 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:31,203 - DEBUG - send_request_body.complete
2025-09-23 02:45:31,203 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:31,442 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:31 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b4d3bf7701de-YYC')])
2025-09-23 02:45:31,443 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:31,443 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:31,476 - DEBUG - receive_response_body.complete
2025-09-23 02:45:31,476 - DEBUG - response_closed.started
2025-09-23 02:45:31,476 - DEBUG - response_closed.complete
2025-09-23 02:45:31,476 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:29 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b4c5b87501e4-YYC'})
2025-09-23 02:45:31,477 - DEBUG - request_id: None
2025-09-23 02:45:31,478 - INFO - Generated glue code: 
```java
@When("pull request is created for a repo with URL: {string} in GitHub")
public void pullRequestIsCreatedForRepoWithUrlInGitHub(String repoUrl) {
    gitHubProperties.setUrl(repoUrl);

    GitHubController gitHubController = new GitHubController(gitHubProperties, flowProperties,
            null, flowService, helperService, gitHubService, gitHubAppAuthService,
            filterFactory, configOverrider, scmConfigOverrider, gitAuthUrlGenerator);

    gitHubTestUtils.callController(gitHubController, GitHubTestUtils.EventType.PULL_REQUEST, repoUrl);
}
```
2025-09-23 02:45:31,484 - INFO - Step ID 639 CodeBLEU: {'codebleu': 0.5464277560558057, 'ngram_match_score': 0.3602927398528427, 'weighted_ngram_match_score': 0.7039848207052138, 'syntax_match_score': 0.5, 'dataflow_match_score': 0.6}
2025-09-23 02:45:31,484 - INFO - Generating glue code for step ID 640
2025-09-23 02:45:31,490 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-a2a949b9-bacf-4779-8905-32102d7f150b', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n    @And("SCA returns scan ID: {int} and finding count per severity: HIGH: {int}, MEDIUM: {int}, LOW: {int}")\nGlue Code:\n    @And("SCA returns scan ID: {int} and finding count per severity: HIGH: {int}, MEDIUM: {int}, LOW: {int}")\n    public void scaReturnsScanID(int scanId, int high, int medium, int low) throws InterruptedException {\n        state.fakeScanId = scanId;\n        state.findingsPerSeverity = toSeverityMap(high, medium, low);\n        state.scanResultsToInject = createFakeSCAScanResults(state.findingsPerSeverity, scanId);\n        processScanResultsInCxFlow();\n    }\n\nExample 2:\nGherkin Step:\n\n    @And("findingsMap is HIGH: {int}, MEDIUM: {int}, LOW: {int}")\nGlue Code:\n    @And("findingsMap is HIGH: {int}, MEDIUM: {int}, LOW: {int}")\n    public void findingsPerSeverity(int high, int medium, int low) {\n        Map<FindingSeverity, Integer> expectedMap = toSeverityMap(high, medium, low);\n        Map<FindingSeverity, Integer> actualMap = state.lastAnalyticsReport.getFindingsPerSeverity();\n        actualMap.remove(FindingSeverity.INFO);\n        Assert.assertEquals("Incorrect finding map", expectedMap, actualMap);\n    }\n\nExample 3:\nGherkin Step:\n\n    @And("thresholds are HIGH: {int}, MEDIUM: {int}, LOW: {int}")\nGlue Code:\n    @And("thresholds are HIGH: {int}, MEDIUM: {int}, LOW: {int}")\n    public void thresholdsAre(int high, int medium, int low) {\n        Map<FindingSeverity, Integer> actualThresholds = state.lastAnalyticsReport.getThresholds();\n        Map<FindingSeverity, Integer> expectedThresholds = toSeverityMap(high, medium, low);\n        Assert.assertEquals("Incorrect thresholds", expectedThresholds, actualThresholds);\n    }\n\nExample 4:\nGherkin Step:\n\n    @Given("thresholds are configured as HIGH: {int}, MEDIUM: {int}, LOW: {int}")\nGlue Code:\n    @Given("thresholds are configured as HIGH: {int}, MEDIUM: {int}, LOW: {int}")\n    public void thresholdsAreConfiguredAs(int high, int medium, int low) {\n        Map<FindingSeverity, Integer> thresholds = toSeverityMap(high, medium, low);\n        flowProperties.setThresholds(thresholds);\n    }\n\nExample 5:\nGherkin Step:\n\n    @Then("verify results contains {int}, {int}, {int}, {int} for severities {}")\nGlue Code:\n    @Then("verify results contains {int}, {int}, {int}, {int} for severities {}")\n    public void verifyNumOfIssuesForSeverities(int high, int medium, int low, int info, String severities) {\n        List<Filter> filters = createFiltersFromString(severities, Filter.Type.SEVERITY);\n        Map<Filter.Severity, Integer> actualJira = jiraUtils.getIssuesPerSeverity(jiraProperties.getProject());\n        for (Filter filter: filters) {\n            Filter.Severity severity = Filter.Severity.valueOf(filter.getValue().toUpperCase());\n            switch (severity) {\n                case HIGH:\n                    Assert.assertEquals("HIGH issues does not match", (int) actualJira.get(Filter.Severity.HIGH), high);\n                    break;\n                case MEDIUM:\n                    Assert.assertEquals("Medium issues does not match", (int) actualJira.get(Filter.Severity.MEDIUM), medium);\n                    break;\n                case LOW:\n                    Assert.assertEquals("Medium issues does not match", (int) actualJira.get(Filter.Severity.LOW), low);\n                    break;\n                case INFO:\n                    Assert.assertEquals("Medium issues does not match", (int) actualJira.get(Filter.Severity.INFO), info);\n                    break;\n            }\n        }\n    }\n\nExample 6:\nGherkin Step:\n\n    @And("SAST scan returns a report with 1 finding")\nGlue Code:\n    @And("SAST scan returns a report with 1 finding")\n    public void sastScanReturnsAReportWithFinding() {\n    }\n\nExample 7:\nGherkin Step:\n\n    @And("sca finding count will be {string} and ast findings count {string} will be accordingly")\nGlue Code:\n    @And("sca finding count will be {string} and ast findings count {string} will be accordingly")\n    public void validateNumberOfFindings(String scaFindings, String astFindings) {\n        if (isScaEnabled) {\n            validateFindingCount(scaFindings, scanResults.getScaResults().getFindings(), "SCA");\n        }\n        if (isAstEnabled) {\n            validateFindingCount(astFindings, scanResults.getAstResults().getFindings(), "AST");\n        }\n    }\n\nExample 8:\nGherkin Step:\n\n    @And("SAST scan produces high and medium results")\nGlue Code:\n    @And("SAST scan produces high and medium results")\n    public void createScanResults() throws InterruptedException {\n        buildPushRequest();\n        processScanResultsInCxFlow();\n    }\n\nExample 9:\nGherkin Step:\n\n    @Then("SAST output will contain high severity number {int} and medium severity number {int} and low severity number {int}")\nGlue Code:\n    @Then("SAST output will contain high severity number {int} and medium severity number {int} and low severity number {int}")\n    public void verifyOutputSeverityI(Integer high, Integer medium, Integer low) {\n        ScanDTO scanDTO = callSast();\n        clearAfterTest(scanDTO);\n\n        assertEquals(high, results.getScanSummary().getHighSeverity());\n        assertEquals(medium, results.getScanSummary().getMediumSeverity());\n        assertEquals(low, results.getScanSummary().getLowSeverity());\n    }\n\nExample 10:\nGherkin Step:\n\n    @When("GitHub sends WebHook requests to CxFlow {int} times per second")\nGlue Code:\n    @When("GitHub sends WebHook requests to CxFlow {int} times per second")\n    public void githubSendsWebHookRequests(int timesPerSecond) {\n        final int MILLISECONDS_IN_SECOND = 1000;\n\n        webHookRequest = testUtils.prepareWebhookRequest(GitHubTestUtils.EventType.PUSH);\n        sendWarmUpRequest();\n\n        int totalRequestCount = Integer.parseUnsignedInt(testProperties.getProperty("totalRequestCount"));\n        Duration intervalBetweenRequests = Duration.ofMillis(MILLISECONDS_IN_SECOND / timesPerSecond);\n        log.info("Starting to send {} WebHook requests with the interval of {} ms.",\n                totalRequestCount,\n                intervalBetweenRequests.toMillis());\n\n        for (int i = 0; i < totalRequestCount; i++) {\n            chillOutFor(intervalBetweenRequests);\n            CompletableFuture<Long> task = startRequestSendingTaskAsync(i);\n            requestSendingTasks.add(task);\n        }\n\n        waitForAllTasksToComplete(requestSendingTasks);\n    }\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n    @And("SAST returns scan ID: {int} and finding count per severity: HIGH: {int}, MEDIUM: {int}, LOW: {int}")\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:31,491 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:31,492 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:31,492 - DEBUG - send_request_headers.complete
2025-09-23 02:45:31,493 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:31,493 - DEBUG - send_request_body.complete
2025-09-23 02:45:31,493 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:31,572 - DEBUG - receive_response_body.complete
2025-09-23 02:45:31,572 - DEBUG - response_closed.started
2025-09-23 02:45:31,572 - DEBUG - response_closed.complete
2025-09-23 02:45:31,572 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:30 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b4cbda8abf01-YYC'})
2025-09-23 02:45:31,573 - DEBUG - request_id: None
2025-09-23 02:45:31,574 - INFO - Generated glue code: 
```java
@And("^after not more than (.*)s, AD_EventLog_Entry are found$")
public void findAD_EventLog_Entry(final int timeoutSec, @NonNull final DataTable dataTable) throws InterruptedException
{
    final List<Map<String, String>> tableRows = dataTable.asMaps(String.class, String.class);
    for (final Map<String, String> row : tableRows)
    {
        findAD_EventLog_Entry_ByIdentifier(timeoutSec, row);
    }
}
```
2025-09-23 02:45:31,591 - INFO - Step ID 1213 CodeBLEU: {'codebleu': 0.1660959923293638, 'ngram_match_score': 0.10166590701093683, 'weighted_ngram_match_score': 0.22246456145914614, 'syntax_match_score': 0.24778761061946902, 'dataflow_match_score': 0.08641975308641975}
2025-09-23 02:45:31,592 - INFO - Generating glue code for step ID 1214
2025-09-23 02:45:31,597 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-d4ec68ee-c795-43a9-b9f2-86dc3503c49a', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n\t@And("^after not more than (.*)s, AD_EventLog_Entry are found$")\nGlue Code:\n\t@And("^after not more than (.*)s, AD_EventLog_Entry are found$")\n\tpublic void findAD_EventLog_Entry(final int timeoutSec, @NonNull final DataTable dataTable) throws InterruptedException\n\t{\n\t\tfor (final Map<String, String> row : dataTable.asMaps())\n\t\t{\n\t\t\tfinal String classname = DataTableUtil.extractStringForColumnName(row, I_AD_EventLog_Entry.COLUMNNAME_Classname);\n\t\t\tfinal String msgText = DataTableUtil.extractStringForColumnName(row, I_AD_EventLog_Entry.COLUMNNAME_MsgText);\n\t\t\tfinal boolean processed = DataTableUtil.extractBooleanForColumnName(row, I_AD_EventLog_Entry.COLUMNNAME_Processed);\n\t\t\tfinal String eventLogIdentifier = DataTableUtil.extractStringForColumnName(row, I_AD_EventLog.COLUMNNAME_AD_EventLog_ID + "." + TABLECOLUMN_IDENTIFIER);\n\t\t\tfinal int eventLogId = eventLogTable.get(eventLogIdentifier).getAD_EventLog_ID();\n\n\t\t\tfinal String eventLogEntryIdentifier = DataTableUtil.extractStringForColumnName(row, I_AD_EventLog_Entry.COLUMNNAME_AD_EventLog_Entry_ID + "." + TABLECOLUMN_IDENTIFIER);\n\n\t\t\tfinal Supplier<Boolean> logEntryRecordFound = () -> {\n\t\t\t\tfinal I_AD_EventLog_Entry eventLogEntryRecord = queryBL.createQueryBuilder(I_AD_EventLog_Entry.class)\n\t\t\t\t\t\t.addEqualsFilter(I_AD_EventLog_Entry.COLUMNNAME_AD_EventLog_ID, eventLogId)\n\t\t\t\t\t\t.addEqualsFilter(I_AD_EventLog_Entry.COLUMNNAME_Classname, classname)\n\t\t\t\t\t\t.addEqualsFilter(I_AD_EventLog_Entry.COLUMNNAME_Processed, processed)\n\t\t\t\t\t\t.addStringLikeFilter(I_AD_EventLog_Entry.COLUMNNAME_MsgText, msgText, true)\n\t\t\t\t\t\t.create()\n\t\t\t\t\t\t.firstOnly(I_AD_EventLog_Entry.class);\n\n\t\t\t\tif (eventLogEntryRecord == null)\n\t\t\t\t{\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\teventLogEntryTable.put(eventLogEntryIdentifier, eventLogEntryRecord);\n\t\t\t\treturn true;\n\t\t\t};\n\n\t\t\tStepDefUtil.tryAndWait(timeoutSec, 1000, logEntryRecordFound, () -> logCurrentContext(row));\n\t\t}\n\t}\n\nExample 2:\nGherkin Step:\n\n\t@And("^after not more than (.*)s, Fact_Acct are found$")\nGlue Code:\n\t@And("^after not more than (.*)s, Fact_Acct are found$")\n\tpublic void find_Fact_Accts(final int timeoutSec, @NonNull final DataTable dataTable) throws InterruptedException\n\t{\n\t\tDataTableRows.of(dataTable).forEach((row) -> {\n\t\t\tfinal SoftAssertions softly = new SoftAssertions();\n\n\t\t\tfinal List<I_Fact_Acct> factAcctRecords = StepDefUtil.tryAndWaitForItem(timeoutSec, 500, () -> load_Fact_Acct(row));\n\n\t\t\trow.getAsOptionalIdentifier(I_M_SectionCode.COLUMNNAME_M_SectionCode_ID)\n\t\t\t\t\t.ifPresent(sectionCodeIdentifier -> {\n\t\t\t\t\t\tfinal I_M_SectionCode sectionCode = sectionCodeTable.get(sectionCodeIdentifier);\n\t\t\t\t\t\tfinal boolean allFactAcctRecordsMatch = factAcctRecords.stream()\n\t\t\t\t\t\t\t\t.allMatch(factAcct -> sectionCode.getM_SectionCode_ID() == factAcct.getM_SectionCode_ID());\n\n\t\t\t\t\t\tsoftly.assertThat(allFactAcctRecordsMatch).isTrue();\n\t\t\t\t\t});\n\n\t\t\trow.getAsOptionalString(I_Fact_Acct.COLUMNNAME_PostingType)\n\t\t\t\t\t.ifPresent(postingType -> {\n\t\t\t\t\t\tfinal PostingType type = PostingType.valueOf(postingType);\n\n\t\t\t\t\t\tfinal boolean allFactAcctRecordsMatchPostingType = factAcctRecords.stream()\n\t\t\t\t\t\t\t\t.allMatch(factAcct -> factAcct.getPostingType().equals(type.getCode()));\n\t\t\t\t\t\tsoftly.assertThat(allFactAcctRecordsMatchPostingType).isTrue();\n\t\t\t\t\t});\n\n\t\t\trow.getAsOptionalIdentifier(I_Fact_Acct.COLUMNNAME_C_Project_ID)\n\t\t\t\t\t.ifPresent(projectIdentifier ->\n\t\t\t\t\t{\n\t\t\t\t\t\tfinal I_C_Project project = projectTable.get(projectIdentifier);\n\n\t\t\t\t\t\tfinal boolean allFactAcctRecordsMatchProjectId = factAcctRecords.stream()\n\t\t\t\t\t\t\t\t.allMatch(factAcct -> project.getC_Project_ID() == factAcct.getC_Project_ID());\n\t\t\t\t\t\tsoftly.assertThat(allFactAcctRecordsMatchProjectId).isTrue();\n\t\t\t\t\t});\n\n\t\t\trow.getAsOptionalIdentifier(I_Fact_Acct.COLUMNNAME_C_Activity_ID)\n\t\t\t\t\t.ifPresent(activityIdentifier ->\n\t\t\t\t\t{\n\t\t\t\t\t\tfinal I_C_Activity activity = activityTable.get(activityIdentifier);\n\n\t\t\t\t\t\tfinal boolean allFactAcctRecordsMatchProjectId = factAcctRecords.stream()\n\t\t\t\t\t\t\t\t.allMatch(factAcct -> activity.getC_Activity_ID() == factAcct.getC_Activity_ID());\n\t\t\t\t\t\tsoftly.assertThat(allFactAcctRecordsMatchProjectId).isTrue();\n\t\t\t\t\t});\n\n\t\t\tsoftly.assertAll();\n\t\t});\n\t}\n\nExample 3:\nGherkin Step:\n\n\t@And("^after not more than (.*)s, MD_Candidates are found$")\nGlue Code:\n\t@And("^after not more than (.*)s, MD_Candidates are found$")\n\tpublic void validate_md_candidates(final int timeoutSec, @NonNull final MD_Candidate_StepDefTable table) throws Throwable\n\t{\n\t\tfinal Stopwatch stopwatch = Stopwatch.createStarted();\n\n\t\tfinal HashMap<CandidateId, StepDefDataIdentifier> candidateIdsAlreadyMatched = new HashMap<>();\n\t\ttable.forEach((row) -> {\n\t\t\t// make sure the given md_candidate has been created\n\t\t\tfinal MaterialDispoDataItem materialDispoRecord = tryAndWaitForCandidate(timeoutSec, row, candidateIdsAlreadyMatched);\n\t\t\tSharedTestContext.put("candidateId", materialDispoRecord.getCandidateId().getRepoId());\n\t\t\tSharedTestContext.put("materialDispoRecord", materialDispoRecord);\n\n\t\t\tvalidate_md_candidate(row, materialDispoRecord);\n\n\t\t\tmaterialDispoDataItemStepDefData.putOrReplace(row.getIdentifier(), materialDispoRecord);\n\t\t\tcandidateIdsAlreadyMatched.put(materialDispoRecord.getCandidateId(), row.getIdentifier());\n\t\t});\n\n\t\tstopwatch.stop();\n\t\tlogger.info("All candidates were created after {}", stopwatch);\n\t}\n\nExample 4:\nGherkin Step:\n\n\t@And("^after not more than (.*)s, PP_OrderCandidate_PP_Order are found$")\nGlue Code:\n\t@And("^after not more than (.*)s, PP_OrderCandidate_PP_Order are found$")\n\tpublic void validatePP_OrderCandidate_PP_Order(final int timeoutSec, @NonNull final DataTable dataTable)\n\t{\n\t\tDataTableRows.of(dataTable).forEach(row -> StepDefUtil.tryAndWaitForItem(timeoutSec, 500, toPPOrderCandidateQuery(row)));\n\t}\n\nExample 5:\nGherkin Step:\n\n\t@And("^after not more than (.*)s, PP_OrderLine_Candidates are found$")\nGlue Code:\n\t@And("^after not more than (.*)s, PP_OrderLine_Candidates are found$")\n\tpublic void validatePP_Order_candidate(\n\t\t\tfinal int timeoutSec,\n\t\t\t@NonNull final DataTable dataTable)\n\t{\n\t\tDataTableRows.of(dataTable)\n\t\t\t\t.setAdditionalRowIdentifierColumnName(I_PP_OrderLine_Candidate.Table_Name)\n\t\t\t\t.forEach(row -> validatePP_OrderLine_Candidate(timeoutSec, row));\n\t}\n\nExample 6:\nGherkin Step:\n\n\t@And("^after not more than (.*)s, PP_Order_Candidates are found$")\nGlue Code:\n\t@And("^after not more than (.*)s, PP_Order_Candidates are found$")\n\tpublic void validatePP_Order_Candidate(final int timeoutSec, @NonNull final DataTable dataTable)\n\t{\n\t\tDataTableRows.of(dataTable)\n\t\t\t\t.setAdditionalRowIdentifierColumnName("PP_Order_Candidate_ID")\n\t\t\t\t.forEach(row -> validatePP_Order_Candidate(timeoutSec, row));\n\t}\n\nExample 7:\nGherkin Step:\n\n\t@And("^after not more than (.*)s, PP_Orders are found$")\nGlue Code:\n\t@And("^after not more than (.*)s, PP_Orders are found$")\n\tpublic void validatePP_Order_Candidate(\n\t\t\tfinal int timeoutSec,\n\t\t\t@NonNull final DataTable dataTable)\n\t{\n\t\tDataTableRows.of(dataTable).forEach(row -> validatePP_Order(timeoutSec, row));\n\t}\n\nExample 8:\nGherkin Step:\n\n\t@And("^after not more than (.*)s, PP_Order_BomLines are found$")\nGlue Code:\n\t@And("^after not more than (.*)s, PP_Order_BomLines are found$")\n\tpublic void validatePP_Order_BomLine(final int timeoutSec, @NonNull final DataTable dataTable)\n\t{\n\t\tDataTableRows.of(dataTable).forEach(row -> validatePP_Order_BomLine(timeoutSec, row));\n\t}\n\nExample 9:\nGherkin Step:\n\n\t@And("^after not more than (.*)s, C_PurchaseCandidate_Alloc are found$")\nGlue Code:\n\t@And("^after not more than (.*)s, C_PurchaseCandidate_Alloc are found$")\n\tpublic void findC_PurchaseCandidate_Alloc(\n\t\t\tfinal int timeoutSec,\n\t\t\t@NonNull final DataTable dataTable) throws InterruptedException\n\t{\n\t\tfinal List<Map<String, String>> tableRows = dataTable.asMaps(String.class, String.class);\n\t\tfor (final Map<String, String> tableRow : tableRows)\n\t\t{\n\t\t\tfindC_PurchaseCandidate_Alloc_ByCandidateId(timeoutSec, tableRow);\n\t\t}\n\t}\n\nExample 10:\nGherkin Step:\n\n\t@And("^after not more than (.*)s, C_PurchaseCandidates are found$")\nGlue Code:\n\t@And("^after not more than (.*)s, C_PurchaseCandidates are found$")\n\tpublic void find_purchase_candidates(final int timeoutSec, @NonNull final DataTable dataTable) throws InterruptedException\n\t{\n\t\tfinal List<Map<String, String>> tableRows = dataTable.asMaps(String.class, String.class);\n\t\tfor (final Map<String, String> row : tableRows)\n\t\t{\n\t\t\tfindPurchaseCandidate(timeoutSec, row);\n\t\t}\n\t}\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n\t@And("^after not more than (.*)s, AD_EventLog are found$")\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:31,598 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:31,599 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:31,599 - DEBUG - send_request_headers.complete
2025-09-23 02:45:31,599 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:31,599 - DEBUG - send_request_body.complete
2025-09-23 02:45:31,599 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:31,958 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:31 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b4d7dfe401e4-YYC')])
2025-09-23 02:45:31,959 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:31,959 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:32,155 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:32 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b4d60d54420e-YYC')])
2025-09-23 02:45:32,156 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:32,156 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:32,230 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:32 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b4d88f1dbf01-YYC')])
2025-09-23 02:45:32,230 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:32,231 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:32,249 - DEBUG - receive_response_body.complete
2025-09-23 02:45:32,249 - DEBUG - response_closed.started
2025-09-23 02:45:32,249 - DEBUG - response_closed.complete
2025-09-23 02:45:32,250 - DEBUG - close.started
2025-09-23 02:45:32,250 - DEBUG - close.complete
2025-09-23 02:45:32,250 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:31 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b4d3bf7701de-YYC'})
2025-09-23 02:45:32,250 - DEBUG - request_id: None
2025-09-23 02:45:32,252 - INFO - Generated glue code: 
```java
@When("^I send the HTTP request \"([^\"]*)\" \"([^\"]*)\" with headers:$")
public void I_send_the_HTTP_request_with_headers(String method, String url, List<HTTPHeader> headers) throws Throwable {

    this.headers = headers;
    I_send_the_HTTP_request(method, url);
}
```
2025-09-23 02:45:32,257 - INFO - Step ID 8 CodeBLEU: {'codebleu': 0.9147201924646717, 'ngram_match_score': 0.8196189957582152, 'weighted_ngram_match_score': 0.9275829288885018, 'syntax_match_score': 0.85, 'dataflow_match_score': 1.0}
2025-09-23 02:45:32,258 - INFO - Generating glue code for step ID 9
2025-09-23 02:45:32,261 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-1bdcd846-bbb1-4918-b19f-a9df55e87e83', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n    @Then("^I should get an action with path \\"([^\\"]*)\\" and host \\"([^\\"]*)\\"$")\nGlue Code:\n    @Then("^I should get an action with path \\"([^\\"]*)\\" and host \\"([^\\"]*)\\"$")\n    public void I_should_get_an_action_with_path_and_host(String path, String host) throws Throwable {\n        assertThat(path).isEqualTo(resolvedAction.url);\n        assertThat(host).isEqualTo(resolvedAction.host);\n    }\n\nExample 2:\nGherkin Step:\n\n    @Then("^the controller should respond with a ModelAndView containing:$")\nGlue Code:\n    @Then("^the controller should respond with a ModelAndView containing:$")\n    public void the_controller_should_respond_with_a_ModelAndView_containing(List<MaVParams> mavparams) throws Throwable {\n\n        assertThat(chain).isNotNull();\n        RouterHandler handler = (RouterHandler) chain.getHandler();\n\n        ModelAndView mv = ha.handle(request, new MockHttpServletResponse(), handler);\n\n        for (MaVParams param : mavparams) {\n            assertThat(param.value).isEqualTo(mv.getModel().get(param.key).toString());\n        }\n    }\n\nExample 3:\nGherkin Step:\n\n    @Then("^the raw link should be \\"([^\\"]*)\\"$")\nGlue Code:\n    @Then("^the raw link should be \\"([^\\"]*)\\"$")\n    public void the_raw_link_should_be(String link) throws Throwable {\n\n        assertThat(linkBuilder.toString()).isEqualTo(link);\n    }\n\nExample 4:\nGherkin Step:\n\n    @Given("^I have a route with method \\"([^\\"]*)\\" path \\"([^\\"]*)\\" action \\"([^\\"]*)\\"$")\nGlue Code:\n    @Given("^I have a route with method \\"([^\\"]*)\\" path \\"([^\\"]*)\\" action \\"([^\\"]*)\\"$")\n    public void I_have_a_route_with_method_url_action(String method, String path, String action) throws Throwable {\n        Router.prependRoute(method, path, action);\n    }\n\nExample 5:\nGherkin Step:\n\n    @Given("^the current request is processed within a context path \\"([^\\"]*)\\" and servlet path \\"([^\\"]*)\\"$")\nGlue Code:\n    @Given("^the current request is processed within a context path \\"([^\\"]*)\\" and servlet path \\"([^\\"]*)\\"$")\n    public void the_current_request_is_processed_within_a_context_path_and_servlet_path(String contextPath, String servletPath) throws Throwable {\n\n        MockHttpServletRequest request = new MockHttpServletRequest("GET", "/reverse-routing");\n        request.addHeader("host","example.org");\n        request.setContextPath(contextPath);\n        request.setServletPath(servletPath);\n\n\t    ServletRequestAttributes requestAttributes = new ServletRequestAttributes(request);\n\t    RequestContextHolder.setRequestAttributes(requestAttributes);\n\n        this.requestAdapter = HTTPRequestAdapter.parseRequest(request);\n    }\n\nExample 6:\nGherkin Step:\n\n    @Then("^the self rel link should be \\"(.*)\\"$")\nGlue Code:\n    @Then("^the self rel link should be \\"(.*)\\"$")\n    public void the_self_rel_link_should_be(String link) throws Throwable {\n\n        assertThat(linkBuilder.withSelfRel().toString()).isEqualTo(link);\n    }\n\nExample 7:\nGherkin Step:\n\n    @Then("^I should get an action with path \\"([^\\"]*)\\"$")\nGlue Code:\n    @Then("^I should get an action with path \\"([^\\"]*)\\"$")\n    public void I_should_get_an_action_with_URL(String path) throws Throwable {\n         assertThat(path).isEqualTo(resolvedAction.url);\n    }\n\nExample 8:\nGherkin Step:\n\n    @Given("^a current request \\"([^\\"]*)\\" \\"([^\\"]*)\\" with servlet path \\"([^\\"]*)\\" and context path \\"([^\\"]*)\\"$")\nGlue Code:\n    @Given("^a current request \\"([^\\"]*)\\" \\"([^\\"]*)\\" with servlet path \\"([^\\"]*)\\" and context path \\"([^\\"]*)\\"$")\n    public void a_current_request_with_servlet_path_and_context_path(String method, String url, String servletPath, String contextPath) throws Throwable {\n\n        MockServletContext sc = new MockServletContext();\n        sc.setContextPath(contextPath);\n\n        int pathLength = 0;\n        if(contextPath.length() > 0) {\n            pathLength += contextPath.length();\n        }\n\n        if(servletPath.length() > 0) {\n            pathLength += servletPath.length();\n        }\n\n        request = new MockHttpServletRequest(sc, method, url);\n        request.setContextPath(contextPath);\n        request.setServletPath(servletPath);\n        request.addHeader("host", host);\n\n        request.setPathInfo(url.substring(pathLength));\n\n\t    ServletRequestAttributes requestAttributes = new ServletRequestAttributes(request);\n\t    RequestContextHolder.setRequestAttributes(requestAttributes);\n\n        HTTPRequestAdapter.parseRequest(request);\n    }\n\nExample 9:\nGherkin Step:\n\n    @Then("^no action should match$")\nGlue Code:\n    @Then("^no action should match$")\n    public void no_action_should_match() throws Throwable {\n        assertThat(this.thrownException).isNotNull().isInstanceOf(NoHandlerFoundException.class);\n    }\n\nExample 10:\nGherkin Step:\n\n    @When("^I add an argument \\"([^\\"]*)\\"$")\nGlue Code:\n    @When("^I add an argument \\"([^\\"]*)\\"$")\n    public void I_add_a_argument(String argument) throws Throwable {\n        linkBuilder = linkBuilder.slash(argument);\n    }\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n    @When("^I build a link for controller \\"([^\\"]*)\\" and action \\"([^\\"]*)\\"$")\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:32,263 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:32,263 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:32,264 - DEBUG - send_request_headers.complete
2025-09-23 02:45:32,264 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:32,264 - DEBUG - send_request_body.complete
2025-09-23 02:45:32,265 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:32,866 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:32 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b4dcaacd01de-YYC')])
2025-09-23 02:45:32,867 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:32,867 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:32,876 - DEBUG - receive_response_body.complete
2025-09-23 02:45:32,877 - DEBUG - response_closed.started
2025-09-23 02:45:32,877 - DEBUG - response_closed.complete
2025-09-23 02:45:32,877 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:22 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b49c1e8bbee8-YYC'})
2025-09-23 02:45:32,877 - DEBUG - request_id: None
2025-09-23 02:45:32,878 - INFO - Generated glue code: 
```java
@Then("^the result should be, in order:$")
public void thenTheResultShouldBeInOrder(DataTable expected) throws Throwable {
    if (lastCompileTimeException != null) {
        throw lastCompileTimeException;
    }
    if (lastRuntimeException != null) {
        throw lastRuntimeException;
    }
    List<String> columnNames = expected.raw().get(0);
    if (expected.raw().size() > 0) {
        List<List<String>> expectedRows = expected.raw().stream()
            .skip(1)
            .collect(Collectors.toList());
        List<List<String>> foundRows = lastResultRows.stream()
            .map(row -> lastResultColumnNames.stream()
                .map(row::get)
                .map(obj -> ctx.getResultWriter().columnValueToString(ctx, obj))
                .collect(Collectors.toList())
            )
            .collect(Collectors.toList());

        if (expectedRows.size() > 0) {
            System.out.println("Expected");
            System.out.println(String.join(", ", expected.raw().get(0)));
            for (List<String> expectedRow : expectedRows) {
                System.out.println(String.join(", ", expectedRow));
            }
        }

        System.out.println("Found");
        System.out.println(String.join(", ", lastResultColumnNames));
        for (List<String> foundRow : foundRows) {
            System.out.println(String.join(", ", foundRow));
        }

        if (expectedRows.size() > 0) {
            assertEquals(
                String.format(
                    "Header count, expected (%s), found (%s)",
                    String.join(", ", expected.raw().get(0)),
                    String.join(", ", lastResultColumnNames)
                ),
                expected.raw().get(0).size(),
                lastResultColumnNames.size()
            );
            for (int colIdx = 0; colIdx < expected.raw().get(0).size(); colIdx++) {
                String expectedColumnName = expected.raw().get(0).get(colIdx);
                assertTrue(
                    String.format(
                        "Header mismatch (expected: %s, columnNames: %s)",
                        expectedColumnName,
                        String.join(", ", lastResultColumnNames)
                    ),
                    lastResultColumnNames.contains(expectedColumnName)
                );
            }
        }

        assertEquals("result count", expectedRows.size(), foundRows.size());

        if (expectedRows.size() > 0) {
            for (int row = 0; row < expectedRows.size(); row++) {
                List<String> expectedRow = expectedRows.get(row);
                List<String> foundRow = foundRows.get(row);
                for (int col = 0; col < expectedRow.size(); col++) {
                    String expectedColumn = expectedRow.get(col);
                    String foundColumn = foundRow.get(col);
                    assertColumnValue(row, col, expectedColumn, foundColumn);
                }
            }
        }
    }
}
```
2025-09-23 02:45:32,904 - INFO - Step ID 613 CodeBLEU: {'codebleu': 0.7085149259828376, 'ngram_match_score': 0.05786382339769528, 'weighted_ngram_match_score': 0.8734392825845265, 'syntax_match_score': 0.5384615384615384, 'dataflow_match_score': 1.0}
2025-09-23 02:45:32,904 - INFO - Generating glue code for step ID 614
2025-09-23 02:45:32,906 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-efbf2372-adcd-4990-95b7-6a2c5fbdbe79', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n    @Then("^the result should be empty$")\nGlue Code:\n    @Then("^the result should be empty$")\n    public void thenTheResultsShouldBeEmpty() throws Throwable {\n        if (lastCompileTimeException != null) {\n            throw lastCompileTimeException;\n        }\n        if (lastRuntimeException != null) {\n            throw lastRuntimeException;\n        }\n        assertEquals("number of rows", 0, lastResultRows.size());\n    }\n\nExample 2:\nGherkin Step:\n\n    @Then("^the result should be:$")\nGlue Code:\n    @Then("^the result should be:$")\n    public void thenTheResultShouldBe(DataTable expected) throws Throwable {\n        if (lastCompileTimeException != null) {\n            throw lastCompileTimeException;\n        }\n        if (lastRuntimeException != null) {\n            throw lastRuntimeException;\n        }\n        List<String> columnNames = expected.raw().get(0);\n        if (expected.raw().size() > 0) {\n            List<List<String>> expectedRows = expected.raw().stream()\n                .skip(1)\n                .collect(Collectors.toList());\n            List<List<String>> foundRows = lastResultRows.stream()\n                .map(row -> lastResultColumnNames.stream()\n                    .map(row::get)\n                    .map(obj -> ctx.getResultWriter().columnValueToString(ctx, obj))\n                    .collect(Collectors.toList())\n                )\n                .collect(Collectors.toList());\n\n            expectedRows.sort(new RowComparator());\n            foundRows.sort(new RowComparator());\n\n            if (expectedRows.size() > 0) {\n                System.out.println("Expected");\n                System.out.println(String.join(", ", expected.raw().get(0)));\n                for (List<String> expectedRow : expectedRows) {\n                    System.out.println(String.join(", ", expectedRow));\n                }\n            }\n\n            System.out.println("Found");\n            System.out.println(String.join(", ", lastResultColumnNames));\n            for (List<String> foundRow : foundRows) {\n                System.out.println(String.join(", ", foundRow));\n            }\n\n            if (expectedRows.size() > 0) {\n                assertEquals(\n                    String.format(\n                        "Header count, expected (%s), found (%s)",\n                        String.join(", ", expected.raw().get(0)),\n                        String.join(", ", lastResultColumnNames)\n                    ),\n                    expected.raw().get(0).size(),\n                    lastResultColumnNames.size()\n                );\n                for (int colIdx = 0; colIdx < expected.raw().get(0).size(); colIdx++) {\n                    String expectedColumnName = expected.raw().get(0).get(colIdx);\n                    assertTrue(\n                        String.format(\n                            "Header mismatch (expected: %s, columnNames: %s)",\n                            expectedColumnName,\n                            String.join(", ", lastResultColumnNames)\n                        ),\n                        lastResultColumnNames.contains(expectedColumnName)\n                    );\n                }\n            }\n\n            assertEquals("result count", expectedRows.size(), foundRows.size());\n\n            if (expectedRows.size() > 0) {\n                for (int row = 0; row < expectedRows.size(); row++) {\n                    List<String> expectedRow = expectedRows.get(row);\n                    List<String> foundRow = foundRows.get(row);\n                    for (int col = 0; col < expectedRow.size(); col++) {\n                        String expectedColumn = expectedRow.get(col);\n                        String foundColumn = foundRow.get(col);\n                        assertColumnValue(row, col, expectedColumn, foundColumn);\n                    }\n                }\n            }\n        }\n    }\n\nExample 3:\nGherkin Step:\n\n    @Then("^the result should be, in order:$")\nGlue Code:\n    @Then("^the result should be, in order:$")\n    public void thenTheResultShouldBeInOrder(DataTable expected) throws Throwable {\n        thenTheResultShouldBe(expected);\n    }\n\nExample 4:\nGherkin Step:\n\n    @Then("^a (.*) should be raised at runtime: (.*)$")\nGlue Code:\n    @Then("^a (.*) should be raised at runtime: (.*)$")\n    public void thenATypeErrorShouldBeRaisedAtRuntime(String errorType, String error) {\n        if (lastRuntimeException == null) {\n            if (lastCompileTimeException != null) {\n                LOGGER.error("compile time exception", lastCompileTimeException);\n                fail("statement should have resulted in a runtime exception, but resulted in a compile time exception");\n            } else {\n                fail("statement should have resulted in a runtime exception");\n            }\n        }\n        if (!lastRuntimeException.getClass().getName().contains(errorType)) {\n            lastRuntimeException.printStackTrace();\n            // TODO do we care?\n            LOGGER.warn("exception type should contain \\"" + errorType + "\\", but only contained \\"" + lastRuntimeException.getClass().getName() + "\\": " + lastRuntimeException);\n        }\n        if (!lastRuntimeException.getMessage().contains(error)) {\n            lastRuntimeException.printStackTrace();\n            // TODO do we care?\n            LOGGER.warn("exception should contain \\"" + error + "\\", but only contained \\"" + lastRuntimeException.getMessage() + "\\"");\n        }\n    }\n\nExample 5:\nGherkin Step:\n\n    @Then("^a (.*) should be raised at compile time: (.*)$")\nGlue Code:\n    @Then("^a (.*) should be raised at compile time: (.*)$")\n    public void thenASyntaxErrorShouldBeRaisedAtCompileTime(String errorType, String error) {\n        Exception ex = this.lastCompileTimeException;\n        if (ex == null) {\n            if (lastRuntimeException != null) {\n                lastRuntimeException.printStackTrace();\n                // TODO do we care?\n                LOGGER.warn("statement should have resulted in a compile time exception, but resulted in a runtime exception");\n                ex = lastRuntimeException;\n            } else {\n                Assume.assumeTrue("statement should have resulted in a compile time exception", false);\n            }\n        }\n        if (!ex.getClass().getName().contains(errorType)) {\n            ex.printStackTrace();\n            // TODO do we care?\n            LOGGER.warn("exception type should contain \\"" + errorType + "\\", but only contained \\"" + ex.getClass().getName() + "\\": " + ex);\n        }\n        if (ex.getMessage() == null || !ex.getMessage().contains(error)) {\n            ex.printStackTrace();\n            // TODO do we care?\n            LOGGER.warn("exception should contain \\"" + error + "\\", but only contained \\"" + ex.getMessage() + "\\"");\n        }\n    }\n\nExample 6:\nGherkin Step:\n\n    @Then("^the side effects should be:$")\nGlue Code:\n    @Then("^the side effects should be:$")\n    public void thenTheSideEffectsShouldBe(DataTable table) {\n        for (List<String> tableRow : table.raw()) {\n            if (tableRow.size() == 2 && tableRow.get(0).equals("+nodes")) {\n                int plusNodes = Integer.parseInt(tableRow.get(1));\n                assertEquals("+nodes", plusNodes, ctx.getPlusNodeCount());\n            } else if (tableRow.size() == 2 && tableRow.get(0).equals("+relationships")) {\n                int plusRelationships = Integer.parseInt(tableRow.get(1));\n                assertEquals("+relationships", plusRelationships, ctx.getPlusRelationshipCount());\n            } else if (tableRow.size() == 2 && tableRow.get(0).equals("+labels")) {\n                int plusLabels = Integer.parseInt(tableRow.get(1));\n                assertEquals("+labels", plusLabels, ctx.getPlusLabelCount());\n            } else if (tableRow.size() == 2 && tableRow.get(0).equals("+properties")) {\n                int plusProperties = Integer.parseInt(tableRow.get(1));\n                assertEquals("+properties", plusProperties, ctx.getPlusPropertyCount());\n            } else if (tableRow.size() == 2 && tableRow.get(0).equals("-nodes")) {\n                int minusNodes = Integer.parseInt(tableRow.get(1));\n                assertEquals("-nodes", minusNodes, ctx.getMinusNodeCount());\n            } else if (tableRow.size() == 2 && tableRow.get(0).equals("-relationships")) {\n                int minusRelationships = Integer.parseInt(tableRow.get(1));\n                assertEquals("-relationships", minusRelationships, ctx.getMinusRelationshipCount());\n            } else if (tableRow.size() == 2 && tableRow.get(0).equals("-labels")) {\n                int minusLabels = Integer.parseInt(tableRow.get(1));\n                assertEquals("-labels", minusLabels, ctx.getMinusLabelCount());\n            } else if (tableRow.size() == 2 && tableRow.get(0).equals("-properties")) {\n                int minusProperties = Integer.parseInt(tableRow.get(1));\n                assertEquals("-properties", minusProperties, ctx.getMinusPropertyCount());\n            } else {\n                fail("Unhandled side effect row: " + tableRow.stream().collect(Collectors.joining(",")));\n            }\n        }\n    }\n\nExample 7:\nGherkin Step:\n\n    @Given("^any graph$")\nGlue Code:\n    @Given("^any graph$")\n    public void givenAnyGraph() {\n        createGraph();\n    }\n\nExample 8:\nGherkin Step:\n\n    @Given("^an empty graph$")\nGlue Code:\n    @Given("^an empty graph$")\n    public void givenEmptyGraph() {\n        createGraph();\n    }\n\nExample 9:\nGherkin Step:\n\n    @Given("^the binary-tree-(\\\\d+) graph$")\nGlue Code:\n    @Given("^the binary-tree-(\\\\d+) graph$")\n    public void givenTheBinaryTreeGraph(int number) throws Throwable {\n        createGraph();\n        String resourceName = String.format("/org/vertexium/cypher/tck/graphs/binary-tree-%d/binary-tree-%d.cypher", number, number);\n        InputStream treeIn = this.getClass().getResourceAsStream(resourceName);\n        if (treeIn == null) {\n            throw new VertexiumException("Could not find \'" + resourceName + "\'");\n        }\n        String cyp = IOUtils.toString(treeIn);\n        CypherCompilerContext compilerContext = new CypherCompilerContext(ctx.getFunctions());\n        VertexiumCypherQuery.parse(compilerContext, cyp).execute(ctx);\n    }\n\nExample 10:\nGherkin Step:\n\n    @Given("^parameters are:$")\nGlue Code:\n    @Given("^parameters are:$")\n    public void givenParametersAre(DataTable parameters) {\n        for (List<String> parameterRow : parameters.raw()) {\n            String key = parameterRow.get(0);\n            String valueString = parameterRow.get(1);\n            Object value = parseParameterValue(valueString);\n            ctx.setParameter(key, value);\n        }\n    }\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n    @Then("^the result should be \\\\(ignoring element order for lists\\\\):$")\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:32,907 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:32,907 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:32,907 - DEBUG - send_request_headers.complete
2025-09-23 02:45:32,907 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:32,908 - DEBUG - send_request_body.complete
2025-09-23 02:45:32,908 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:33,195 - DEBUG - receive_response_body.complete
2025-09-23 02:45:33,195 - DEBUG - response_closed.started
2025-09-23 02:45:33,195 - DEBUG - response_closed.complete
2025-09-23 02:45:33,196 - DEBUG - close.started
2025-09-23 02:45:33,196 - DEBUG - close.complete
2025-09-23 02:45:33,196 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:32 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b4d88f1dbf01-YYC'})
2025-09-23 02:45:33,196 - DEBUG - request_id: None
2025-09-23 02:45:33,198 - INFO - Generated glue code: 
```java
@And("^after not more than (.*)s, AD_EventLog are found$")
public void findAD_EventLog(final int timeoutSec, @NonNull final DataTable dataTable) throws InterruptedException
{
    final List<Map<String, String>> tableRows = dataTable.asMaps(String.class, String.class);
    for (final Map<String, String> row : tableRows)
    {
        findAD_EventLog_ByIdentifier(timeoutSec, row);
    }
}
```
2025-09-23 02:45:33,217 - INFO - Step ID 1214 CodeBLEU: {'codebleu': 0.19148233947890728, 'ngram_match_score': 0.15390355842220357, 'weighted_ngram_match_score': 0.2603759358229686, 'syntax_match_score': 0.2828282828282828, 'dataflow_match_score': 0.09230769230769231}
2025-09-23 02:45:33,217 - INFO - Generating glue code for step ID 1209
2025-09-23 02:45:33,221 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-209cd62d-6f50-404e-a8c3-a683771e26d4', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n\t@Given("metasfresh contains AD_JavaClass:")\nGlue Code:\n\t@Given("metasfresh contains AD_JavaClass:")\n\tpublic void metasfresh_contains_ad_javaclass(@NonNull final DataTable dataTable)\n\t{\n\t\tfinal List<Map<String, String>> tableRows = dataTable.asMaps(String.class, String.class);\n\t\tfor (final Map<String, String> tableRow : tableRows)\n\t\t{\n\t\t\tcreateAdJavaClass(tableRow);\n\t\t}\n\t}\n\nExample 2:\nGherkin Step:\n\n\t@Given("load AD_JavaClass_Type:")\nGlue Code:\n\t@Given("load AD_JavaClass_Type:")\n\tpublic void load_ad_javaclass_type(@NonNull final DataTable dataTable)\n\t{\n\t\tfinal List<Map<String, String>> tableRows = dataTable.asMaps(String.class, String.class);\n\t\tfor (final Map<String, String> tableRow : tableRows)\n\t\t{\n\t\t\tloadAdJavaClassType(tableRow);\n\t\t}\n\t}\n\nExample 3:\nGherkin Step:\n\n\t@Given("load C_BPartner_Location:")\nGlue Code:\n\t@Given("load C_BPartner_Location:")\n\tpublic void load_bpartner_location(@NonNull final DataTable dataTable)\n\t{\n\t\tDataTableRows.of(dataTable).forEach(this::load_bpartner_location);\n\t}\n\nExample 4:\nGherkin Step:\n\n\t@Given("load C_BPartner:")\nGlue Code:\n\t@Given("load C_BPartner:")\n\tpublic void load_bpartner(@NonNull final DataTable dataTable)\n\t{\n\t\tfinal List<Map<String, String>> tableRows = dataTable.asMaps(String.class, String.class);\n\t\tfor (final Map<String, String> tableRow : tableRows)\n\t\t{\n\t\t\tload_bpartner(tableRow);\n\t\t}\n\t}\n\nExample 5:\nGherkin Step:\n\n\t@Given("load EXP_Processor_Type")\nGlue Code:\n\t@Given("load EXP_Processor_Type")\n\tpublic void load_EXP_Processor_Type(@NonNull final DataTable dataTable)\n\t{\n\t\tfinal List<Map<String, String>> rows = dataTable.asMaps();\n\t\tfor (final Map<String, String> row : rows)\n\t\t{\n\t\t\tloadEXPProcessorType(row);\n\t\t}\n\t}\n\nExample 6:\nGherkin Step:\n\n\t@Given("load C_Aggregation_Attributes:")\nGlue Code:\n\t@Given("load C_Aggregation_Attributes:")\n\tpublic void load_C_Aggregation_Attribute(@NonNull final DataTable dataTable)\n\t{\n\t\tfinal List<Map<String, String>> tableRows = dataTable.asMaps(String.class, String.class);\n\t\tfor (final Map<String, String> tableRow : tableRows)\n\t\t{\n\t\t\tloadC_Aggregation_Attribute(tableRow);\n\t\t}\n\t}\n\nExample 7:\nGherkin Step:\n\n\t@Given("load IMP_Processor_Type")\nGlue Code:\n\t@Given("load IMP_Processor_Type")\n\tpublic void load_IMP_Processor_Type(@NonNull final DataTable dataTable)\n\t{\n\t\tfinal List<Map<String, String>> rows = dataTable.asMaps();\n\t\tfor (final Map<String, String> row : rows)\n\t\t{\n\t\t\tIMPProcessorType(row);\n\t\t}\n\t}\n\nExample 8:\nGherkin Step:\n\n\t@Given("load M_Product:")\nGlue Code:\n\t@Given("load M_Product:")\n\tpublic void load_M_Product(@NonNull final DataTable dataTable)\n\t{\n\t\tfinal List<Map<String, String>> tableRows = dataTable.asMaps(String.class, String.class);\n\t\tfor (final Map<String, String> row : tableRows)\n\t\t{\n\t\t\tloadProduct(row);\n\t\t}\n\t}\n\nExample 9:\nGherkin Step:\n\n\t@Given("load AD_Ref_Lists:")\nGlue Code:\n\t@Given("load AD_Ref_Lists:")\n\tpublic void load_ad_ref_lists(@NonNull final DataTable dataTable)\n\t{\n\t\tfinal List<Map<String, String>> tableRows = dataTable.asMaps(String.class, String.class);\n\t\tfor (final Map<String, String> tableRow : tableRows)\n\t\t{\n\t\t\tloadRefLists(tableRow);\n\t\t}\n\t}\n\nExample 10:\nGherkin Step:\n\n\t@Given("load AD_Roles")\nGlue Code:\n\t@Given("load AD_Roles")\n\tpublic void load_AD_Role(@NonNull final DataTable dataTable)\n\t{\n\t\tfor (final Map<String, String> row : dataTable.asMaps())\n\t\t{\n\t\t\tloadADRole(row);\n\t\t}\n\t}\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n\t@Given("load AD_JavaClass:")\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:33,222 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:33,223 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:33,223 - DEBUG - send_request_headers.complete
2025-09-23 02:45:33,223 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:33,223 - DEBUG - send_request_body.complete
2025-09-23 02:45:33,223 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:33,400 - DEBUG - receive_response_body.complete
2025-09-23 02:45:33,400 - DEBUG - response_closed.started
2025-09-23 02:45:33,401 - DEBUG - response_closed.complete
2025-09-23 02:45:33,401 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:31 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b4d7dfe401e4-YYC'})
2025-09-23 02:45:33,401 - DEBUG - request_id: None
2025-09-23 02:45:33,403 - INFO - Generated glue code: 
```java
@And("SAST returns scan ID: {int} and finding count per severity: HIGH: {int}, MEDIUM: {int}, LOW: {int}")
public void sastReturnsScanID(int scanId, int high, int medium, int low) throws InterruptedException {
    state.fakeScanId = scanId;
    state.findingsPerSeverity = toSeverityMap(high, medium, low);
    state.scanResultsToInject = createFakeSASTScanResults(state.findingsPerSeverity, scanId);
    processScanResultsInCxFlow();
}
```
2025-09-23 02:45:33,410 - INFO - Step ID 640 CodeBLEU: {'codebleu': 0.8438589286680069, 'ngram_match_score': 0.8785013598506871, 'weighted_ngram_match_score': 0.9457088418620612, 'syntax_match_score': 0.7647058823529411, 'dataflow_match_score': 0.8888888888888888}
2025-09-23 02:45:33,416 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:33 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b4e0b82abec2-YYC')])
2025-09-23 02:45:33,417 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:33,417 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:33,479 - DEBUG - receive_response_body.complete
2025-09-23 02:45:33,479 - DEBUG - response_closed.started
2025-09-23 02:45:33,480 - DEBUG - response_closed.complete
2025-09-23 02:45:33,480 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:32 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b4d60d54420e-YYC'})
2025-09-23 02:45:33,480 - DEBUG - request_id: None
2025-09-23 02:45:33,482 - INFO - Generated glue code: 
```java
@Then("the new book {string} be added")
public void theNewBookBeAdded(String isbn) {
    seleniumAdapter.gotoPage(Page.BOOKLIST);
    HtmlBookList htmlBookList = seleniumAdapter.getTableContent(PageElement.BOOK_LIST);
    HtmlBook htmlBook = htmlBookList.getBookByIsbn(isbn);
    assertThat(htmlBook).isNotNull();
}
```
2025-09-23 02:45:33,488 - INFO - Step ID 69 CodeBLEU: {'codebleu': 0.44774155606625726, 'ngram_match_score': 0.27823903705833014, 'weighted_ngram_match_score': 0.2944146188423376, 'syntax_match_score': 0.3333333333333333, 'dataflow_match_score': 0.6428571428571429}
2025-09-23 02:45:33,488 - INFO - Generating glue code for step ID 70
2025-09-23 02:45:33,492 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-aa1ec3ce-870f-48e2-b0b9-ed31faf19d83', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n  @Given("I browse the list of all books")\nGlue Code:\n  @Given("I browse the list of all books")\n  public void browseBookList() {\n    seleniumAdapter.gotoPage(Page.BOOKLIST);\n  }\n\nExample 2:\nGherkin Step:\n\n  @Then("the booklist lists {string} as borrower for the book with isbn {string}")\nGlue Code:\n  @Then("the booklist lists {string} as borrower for the book with isbn {string}")\n  public void bookListHasBorrowerForBookWithIsbn(final String borrower, final String isbn) {\n    seleniumAdapter.gotoPage(Page.BOOKLIST);\n    HtmlBookList htmlBookList = seleniumAdapter.getTableContent(PageElement.BOOK_LIST);\n    HtmlBook htmlBook = htmlBookList.getBookByIsbn(isbn);\n    assertThat(htmlBook.getBorrower(), is(borrower));\n  }\n\nExample 3:\nGherkin Step:\n\n  @When("{string} borrows the book {string}")\nGlue Code:\n  @When("{string} borrows the book {string}")\n  public void whenUseruserBorrowsTheBookisbn(String user, String isbn) {\n    seleniumAdapter.gotoPage(Page.BORROWBOOK);\n    seleniumAdapter.typeIntoField("email", user);\n    seleniumAdapter.typeIntoField("isbn", isbn);\n    seleniumAdapter.clickOnPageElementById(PageElement.BORROW_BOOK_BUTTON);\n  }\n\nExample 4:\nGherkin Step:\n\n  @Then("the booklist contains a book with all the properties from the last inserted book")\nGlue Code:\n  @Then("the booklist contains a book with all the properties from the last inserted book")\n  public void justAsLastInserted() {\n    Book lastInserted = (Book) storyContext.getObject("LAST_INSERTED_BOOK");\n    seleniumAdapter.gotoPage(Page.BOOKLIST);\n    HtmlBookList htmlBookList = seleniumAdapter.getTableContent(PageElement.BOOK_LIST);\n    HtmlBook htmlBook = htmlBookList.getBookByIsbn(lastInserted.getIsbn());\n    assertThat(lastInserted.getTitle(), containsString(htmlBook.getTitle()));\n    assertThat(lastInserted.getAuthor(), containsString(htmlBook.getAuthor()));\n    assertThat(\n        lastInserted.getYearOfPublication(), is(Integer.parseInt(htmlBook.getYearOfPublication())));\n    assertThat(lastInserted.getEdition(), containsString(htmlBook.getEdition().toString()));\n    assertThat(lastInserted.getDescription(), containsString(htmlBook.getDescription()));\n  }\n\nExample 5:\nGherkin Step:\n\n  @Then("for every book the booklist contains a cover")\nGlue Code:\n  @Then("for every book the booklist contains a cover")\n  public void checkCover() {\n    seleniumAdapter.gotoPage(Page.BOOKLIST);\n    HtmlBookList htmlBookList = seleniumAdapter.getTableContent(PageElement.BOOK_LIST);\n    Collection<HtmlBook> books = htmlBookList.getHtmlBooks().values();\n    for (HtmlBook book : books) {\n      assertThat(book.getCover(), containsString(book.getIsbn()));\n    }\n  }\n\nExample 6:\nGherkin Step:\n\n  @Then("the list shows the books {string} with due date {date}")\nGlue Code:\n  @Then("the list shows the books {string} with due date {date}")\n  public void the_list_shows_the_books(String isbns, LocalDate dueDate) {\n    HtmlBookList tableContent = seleniumAdapter.getTableContent(PageElement.BORROWED_BOOK_LIST);\n    HtmlBook bookByIsbn = tableContent.getBookByIsbn(isbns);\n\n    assertThat(bookByIsbn).isNotNull();\n    assertThat(bookByIsbn)\n        .hasFieldOrPropertyWithValue("dueDate", dueDate)\n        .hasFieldOrPropertyWithValue("isbn", isbns);\n  }\n\nExample 7:\nGherkin Step:\n  @Then("the page contains error message for field {string}")\nGlue Code:\n  public void pageContainsErrorMessage(String field) {\n    String errorMessage = seleniumAdapter.getTextFromElement(PageElement.errorFor(field));\n    assertThat(errorMessage, notNullValue());\n  }\n\n  // *****************\n  // *** U T I L *****\n  // *****************\n\n  private void insertAndSubmitBook(\n      String isbn, String title, String author, Integer edition, String year, String description) {\n\nExample 8:\nGherkin Step:\n\n  @When("{string} requests list of borrowed books")\nGlue Code:\n  @When("{string} requests list of borrowed books")\n  public void requests_list_of_borrowed_books(String borrower) {\n    seleniumAdapter.gotoPage(Page.BORROWED_BOOK_LIST);\n    seleniumAdapter.typeIntoField("email", borrower);\n    seleniumAdapter.clickOnPageElementById(PageElement.SHOW_BORROWED_BOOKS_BUTTON);\n  }\n\nExample 9:\nGherkin Step:\n\n  @When("a librarian tries to add a similar book with different {string}, {string} and {int}")\nGlue Code:\n  @When("a librarian tries to add a similar book with different {string}, {string} and {int}")\n  public void whenASimilarBookIsAdded(String title, String author, Integer edition) {\n    Book lastInsertedBook = (Book) storyContext.getObject("LAST_INSERTED_BOOK");\n    insertAndSubmitBook(\n        lastInsertedBook.getIsbn(),\n        title,\n        author,\n        edition,\n        String.valueOf(lastInsertedBook.getYearOfPublication()),\n        lastInsertedBook.getDescription());\n  }\n\nExample 10:\nGherkin Step:\n\n  @When("a librarian tries to add a similar book with same title, author and edition")\nGlue Code:\n  @When("a librarian tries to add a similar book with same title, author and edition")\n  public void whenASimilarBookIsAdded() {\n    Book lastInsertedBook = (Book) storyContext.getObject("LAST_INSERTED_BOOK");\n    insertAndSubmitBook(\n        lastInsertedBook.getIsbn(),\n        lastInsertedBook.getTitle(),\n        lastInsertedBook.getAuthor(),\n        Integer.parseInt(lastInsertedBook.getEdition()),\n        String.valueOf(lastInsertedBook.getYearOfPublication()),\n        lastInsertedBook.getDescription());\n  }\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n  @When("I navigate to the detail page of the book with the isbn {string}")\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:33,493 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:33,493 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:33,494 - DEBUG - send_request_headers.complete
2025-09-23 02:45:33,494 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:33,494 - DEBUG - send_request_body.complete
2025-09-23 02:45:33,494 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:33,743 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:33 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b4e2a904bf01-YYC')])
2025-09-23 02:45:33,744 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:33,744 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:33,796 - DEBUG - receive_response_body.complete
2025-09-23 02:45:33,797 - DEBUG - response_closed.started
2025-09-23 02:45:33,797 - DEBUG - response_closed.complete
2025-09-23 02:45:33,797 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:32 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b4dcaacd01de-YYC'})
2025-09-23 02:45:33,797 - DEBUG - request_id: None
2025-09-23 02:45:33,799 - INFO - Generated glue code: 
```java
@When("^I build a link for controller \"([^\"]*)\" and action \"([^\"]*)\"$")
public void I_build_a_link_for_controller_and_action(String controller, String action) throws Throwable {
    linkBuilder = linkBuilder.withController(controller).withAction(action);
}
```
2025-09-23 02:45:33,803 - INFO - Step ID 9 CodeBLEU: {'codebleu': 0.7055865075228338, 'ngram_match_score': 0.8390623881636138, 'weighted_ngram_match_score': 0.9215645918266289, 'syntax_match_score': 0.4666666666666667, 'dataflow_match_score': 0.8571428571428571}
2025-09-23 02:45:33,944 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:33 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b4e45b1e01e4-YYC')])
2025-09-23 02:45:33,945 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:33,945 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:34,522 - DEBUG - receive_response_body.complete
2025-09-23 02:45:34,522 - DEBUG - response_closed.started
2025-09-23 02:45:34,522 - DEBUG - response_closed.complete
2025-09-23 02:45:34,522 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:33 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b4e2a904bf01-YYC'})
2025-09-23 02:45:34,523 - DEBUG - request_id: None
2025-09-23 02:45:34,524 - INFO - Generated glue code: 
```java
@Given("load AD_JavaClass:")
public void load_ad_javaclass(@NonNull final DataTable dataTable)
{
    final List<Map<String, String>> tableRows = dataTable.asMaps(String.class, String.class);
    for (final Map<String, String> tableRow : tableRows)
    {
        loadAdJavaClass(tableRow);
    }
}
```
2025-09-23 02:45:34,531 - INFO - Step ID 1209 CodeBLEU: {'codebleu': 0.952714744382535, 'ngram_match_score': 0.9271474438253493, 'weighted_ngram_match_score': 1.0, 'syntax_match_score': 0.9, 'dataflow_match_score': 1.0}
2025-09-23 02:45:34,845 - DEBUG - receive_response_body.complete
2025-09-23 02:45:34,846 - DEBUG - response_closed.started
2025-09-23 02:45:34,846 - DEBUG - response_closed.complete
2025-09-23 02:45:34,846 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:33 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b4e45b1e01e4-YYC'})
2025-09-23 02:45:34,846 - DEBUG - request_id: None
2025-09-23 02:45:34,848 - INFO - Generated glue code: 
```java
@When("I navigate to the detail page of the book with the isbn {string}")
public void navigateToBookDetailPageWithIsbn(String isbn) {
  seleniumAdapter.gotoPage(Page.BOOKDETAIL);
  seleniumAdapter.typeIntoField("isbn", isbn);
  seleniumAdapter.clickOnPageElementById(PageElement.BOOK_DETAIL_BUTTON);
}
```
2025-09-23 02:45:34,850 - INFO - Step ID 70 CodeBLEU: {'codebleu': 0.6164044564655022, 'ngram_match_score': 0.6186099808728224, 'weighted_ngram_match_score': 0.6565456948933104, 'syntax_match_score': 0.5555555555555556, 'dataflow_match_score': 0.6666666666666666}
2025-09-23 02:45:34,850 - INFO - Generating glue code for step ID 71
2025-09-23 02:45:34,852 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-3f911af0-a3df-400b-a05e-eb391ac136be', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n  @When("a librarian adds a book with {string}, {string}, {string}, {int}, and {string}")\nGlue Code:\n  @When("a librarian adds a book with {string}, {string}, {string}, {int}, and {string}")\n  public void whenABookWithISBNisbnIsAdded(\n      String isbn, String title, String author, Integer edition, String year) {\n    insertAndSubmitBook(isbn, title, author, edition, year, "");\n  }\n\nExample 2:\nGherkin Step:\n\n\n    @Given("{string} has borrowed book(s) {string}")\nGlue Code:\n\n    @Given("{string} has borrowed book(s) {string}")\n\nExample 3:\nGherkin Step:\n\n  @When("a librarian adds a book with {string}, {string}, {string}, {int}, {string}, and {string}")\nGlue Code:\n  @When("a librarian adds a book with {string}, {string}, {string}, {int}, {string}, and {string}")\n  public void whenABookIsAdded(\n      String isbn, String title, String author, Integer edition, String year, String description) {\n    insertAndSubmitBook(isbn, title, author, edition, year, description);\n  }\n\nExample 4:\nGherkin Step:\n\n  @When("a librarian tries to add a similar book with different {string}, {string} and {int}")\nGlue Code:\n  @When("a librarian tries to add a similar book with different {string}, {string} and {int}")\n  public void whenASimilarBookIsAdded(String title, String author, Integer edition) {\n    Book lastInsertedBook = (Book) storyContext.getObject("LAST_INSERTED_BOOK");\n    insertAndSubmitBook(\n        lastInsertedBook.getIsbn(),\n        title,\n        author,\n        edition,\n        String.valueOf(lastInsertedBook.getYearOfPublication()),\n        lastInsertedBook.getDescription());\n  }\n\nExample 5:\nGherkin Step:\n\n  @When("a librarian tries to add a similar book with same title, author and edition")\nGlue Code:\n  @When("a librarian tries to add a similar book with same title, author and edition")\n  public void whenASimilarBookIsAdded() {\n    Book lastInsertedBook = (Book) storyContext.getObject("LAST_INSERTED_BOOK");\n    insertAndSubmitBook(\n        lastInsertedBook.getIsbn(),\n        lastInsertedBook.getTitle(),\n        lastInsertedBook.getAuthor(),\n        Integer.parseInt(lastInsertedBook.getEdition()),\n        String.valueOf(lastInsertedBook.getYearOfPublication()),\n        lastInsertedBook.getDescription());\n  }\n\nExample 6:\nGherkin Step:\n\n    @Then("the library contains {int} book(s) with {string}")\nGlue Code:\n    @Then("the library contains {int} book(s) with {string}")\n    public void shouldContainNumberOfBooksWithISBN(int books, String isbn) {\n        if (isbn.isEmpty()) return;\n        assertThat(bookRepository.findByIsbn(isbn).size(), is(books));\n    }\n\nExample 7:\nGherkin Step:\n\n  @When("{string} borrows the book {string}")\nGlue Code:\n  @When("{string} borrows the book {string}")\n  public void whenUseruserBorrowsTheBookisbn(String user, String isbn) {\n    seleniumAdapter.gotoPage(Page.BORROWBOOK);\n    seleniumAdapter.typeIntoField("email", user);\n    seleniumAdapter.typeIntoField("isbn", isbn);\n    seleniumAdapter.clickOnPageElementById(PageElement.BORROW_BOOK_BUTTON);\n  }\n\nExample 8:\nGherkin Step:\n\n  @Then("book(s) {string} is/are {string} by {string}")\nGlue Code:\n  @Then("book(s) {string} is/are {string} by {string}")\n  public void booksAreNotBorrowedByBorrower1(String isbns, String borrowStatus, String borrower) {\n    seleniumAdapter.gotoPage(Page.BOOKLIST);\n    HtmlBookList htmlBookList = seleniumAdapter.getTableContent(PageElement.BOOK_LIST);\n\n    long booksInWrongBorrowingState =\n        Splitter.on(" ").omitEmptyStrings().splitToList(isbns).stream()\n            .filter(\n                isbn -> {\n                  String actualBorrower = htmlBookList.getBookByIsbn(isbn).getBorrower();\n                  return !borrowStatus.contains("not borrowed") != borrower.equals(actualBorrower);\n                })\n            .count();\n\n    assertThat(booksInWrongBorrowingState, is(0L));\n  }\n\nExample 9:\nGherkin Step:\n\n    @Then("the library still contains all borrowed books {string}")\nGlue Code:\n    @Then("the library still contains all borrowed books {string}")\n    public void shouldContainOneCopyOf(String isbn) {\n        if (isbn.isEmpty()) return;\n        assertThat(bookRepository.findByIsbn(isbn).size(), is(1));\n    }\n\nExample 10:\nGherkin Step:\n  @Then("the page contains error message for field {string}")\nGlue Code:\n  public void pageContainsErrorMessage(String field) {\n    String errorMessage = seleniumAdapter.getTextFromElement(PageElement.errorFor(field));\n    assertThat(errorMessage, notNullValue());\n  }\n\n  // *****************\n  // *** U T I L *****\n  // *****************\n\n  private void insertAndSubmitBook(\n      String isbn, String title, String author, Integer edition, String year, String description) {\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n  @When("a librarian removes book(s) {string}")\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:34,852 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:34,852 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:34,853 - DEBUG - send_request_headers.complete
2025-09-23 02:45:34,853 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:34,853 - DEBUG - send_request_body.complete
2025-09-23 02:45:34,853 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:35,616 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:35 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b4ecdb8001e4-YYC')])
2025-09-23 02:45:35,617 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:35,617 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:36,519 - DEBUG - receive_response_body.complete
2025-09-23 02:45:36,519 - DEBUG - response_closed.started
2025-09-23 02:45:36,519 - DEBUG - response_closed.complete
2025-09-23 02:45:36,520 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:35 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b4ecdb8001e4-YYC'})
2025-09-23 02:45:36,520 - DEBUG - request_id: None
2025-09-23 02:45:36,522 - INFO - Generated glue code: 
```java
@When("a librarian removes book(s) {string}")
public void whenALibrarianRemovesBooks(String isbns) {
  for (String isbn : isbns.split("\\s+")) {
    seleniumAdapter.gotoPage(Page.BOOKLIST);
    seleniumAdapter.typeIntoField("isbn", isbn);
    seleniumAdapter.clickOnPageElementById(PageElement.REMOVE_BOOK_BUTTON);
  }
}
```
2025-09-23 02:45:36,527 - INFO - Step ID 71 CodeBLEU: {'codebleu': 0.6604622865465171, 'ngram_match_score': 0.27876286341624873, 'weighted_ngram_match_score': 0.4797061558950754, 'syntax_match_score': 0.46153846153846156, 'dataflow_match_score': 1.0}
2025-09-23 02:45:47,946 - DEBUG - receive_response_body.complete
2025-09-23 02:45:47,946 - DEBUG - response_closed.started
2025-09-23 02:45:47,946 - DEBUG - response_closed.complete
2025-09-23 02:45:47,946 - DEBUG - close.started
2025-09-23 02:45:47,947 - DEBUG - close.complete
2025-09-23 02:45:47,947 - DEBUG - close.started
2025-09-23 02:45:47,947 - DEBUG - close.complete
2025-09-23 02:45:47,947 - DEBUG - close.started
2025-09-23 02:45:47,947 - DEBUG - close.complete
2025-09-23 02:45:47,947 - DEBUG - close.started
2025-09-23 02:45:47,947 - DEBUG - close.complete
2025-09-23 02:45:47,947 - DEBUG - close.started
2025-09-23 02:45:47,948 - DEBUG - close.complete
2025-09-23 02:45:47,948 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:33 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b4e0b82abec2-YYC'})
2025-09-23 02:45:47,948 - DEBUG - request_id: None
2025-09-23 02:45:47,949 - INFO - Generated glue code: 
```java
@Then("^the result should be \\(ignoring element order for lists\\):$")
public void thenTheResultShouldBeIgnoringElementOrderForLists(DataTable expected) throws Throwable {
    if (lastCompileTimeException != null) {
        throw lastCompileTimeException;
    }
    if (lastRuntimeException != null) {
        throw lastRuntimeException;
    }
    List<String> columnNames = expected.raw().get(0);
    if (expected.raw().size() > 0) {
        List<List<String>> expectedRows = expected.raw().stream()
            .skip(1)
            .collect(Collectors.toList());
        List<List<String>> foundRows = lastResultRows.stream()
            .map(row -> lastResultColumnNames.stream()
                .map(row::get)
                .map(obj -> ctx.getResultWriter().columnValueToString(ctx, obj))
                .collect(Collectors.toList())
            )
            .collect(Collectors.toList());

        expectedRows.sort(new RowComparatorIgnoringListOrder());
        foundRows.sort(new RowComparatorIgnoringListOrder());

        if (expectedRows.size() > 0) {
            System.out.println("Expected");
            System.out.println(String.join(", ", expected.raw().get(0)));
            for (List<String> expectedRow : expectedRows) {
                System.out.println(String.join(", ", expectedRow));
            }
        }

        System.out.println("Found");
        System.out.println(String.join(", ", lastResultColumnNames));
        for (List<String> foundRow : foundRows) {
            System.out.println(String.join(", ", foundRow));
        }

        if (expectedRows.size() > 0) {
            assertEquals(
                String.format(
                    "Header count, expected (%s), found (%s)",
                    String.join(", ", expected.raw().get(0)),
                    String.join(", ", lastResultColumnNames)
                ),
                expected.raw().get(0).size(),
                lastResultColumnNames.size()
            );
            for (int colIdx = 0; colIdx < expected.raw().get(0).size(); colIdx++) {
                String expectedColumnName = expected.raw().get(0).get(colIdx);
                assertTrue(
                    String.format(
                        "Header mismatch (expected: %s, columnNames: %s)",
                        expectedColumnName,
                        String.join(", ", lastResultColumnNames)
                    ),
                    lastResultColumnNames.contains(expectedColumnName)
                );
            }
        }

        assertEquals("result count", expectedRows.size(), foundRows.size());

        if (expectedRows.size() > 0) {
            for (int row = 0; row < expectedRows.size(); row++) {
                List<String> expectedRow = expectedRows.get(row);
                List<String> foundRow = foundRows.get(row);
                for (int col = 0; col < expectedRow.size(); col++) {
                    String expectedColumn = expectedRow.get(col);
                    String foundColumn = foundRow.get(col);
                    assertColumnValueIgnoringListOrder(row, col, expectedColumn, foundColumn);
                }
            }
        }
    }
}
```
---

**Notes:**

- This code is based on the standard `thenTheResultShouldBe` method, but it uses special comparators and assertions that ignore element order for lists:

  - `RowComparatorIgnoringListOrder` is a hypothetical comparator that should compare rows considering list elements unordered.

  - `assertColumnValueIgnoringListOrder` is a hypothetical assertion helper method that compares two column values ignoring order for list elements.

- You will need to implement these helpers (`RowComparatorIgnoringListOrder` and `assertColumnValueIgnoringListOrder`) to handle list order ignoring logic appropriately.

- All other logging, exception checking, and header validation stays consistent with the pattern demonstrated in the examples.
2025-09-23 02:45:47,963 - INFO - Step ID 614 CodeBLEU: {'codebleu': 0.7100234684917912, 'ngram_match_score': 0.048682016773818816, 'weighted_ngram_match_score': 0.8977065142979394, 'syntax_match_score': 0.5384615384615384, 'dataflow_match_score': 1.0}
2025-09-23 02:45:47,963 - INFO - Generating glue code for step ID 615
2025-09-23 02:45:47,966 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-e6204b28-2110-48d8-ad5e-8e1e8ba8aeef', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n    @Then("^the side effects should be:$")\nGlue Code:\n    @Then("^the side effects should be:$")\n    public void thenTheSideEffectsShouldBe(DataTable table) {\n        for (List<String> tableRow : table.raw()) {\n            if (tableRow.size() == 2 && tableRow.get(0).equals("+nodes")) {\n                int plusNodes = Integer.parseInt(tableRow.get(1));\n                assertEquals("+nodes", plusNodes, ctx.getPlusNodeCount());\n            } else if (tableRow.size() == 2 && tableRow.get(0).equals("+relationships")) {\n                int plusRelationships = Integer.parseInt(tableRow.get(1));\n                assertEquals("+relationships", plusRelationships, ctx.getPlusRelationshipCount());\n            } else if (tableRow.size() == 2 && tableRow.get(0).equals("+labels")) {\n                int plusLabels = Integer.parseInt(tableRow.get(1));\n                assertEquals("+labels", plusLabels, ctx.getPlusLabelCount());\n            } else if (tableRow.size() == 2 && tableRow.get(0).equals("+properties")) {\n                int plusProperties = Integer.parseInt(tableRow.get(1));\n                assertEquals("+properties", plusProperties, ctx.getPlusPropertyCount());\n            } else if (tableRow.size() == 2 && tableRow.get(0).equals("-nodes")) {\n                int minusNodes = Integer.parseInt(tableRow.get(1));\n                assertEquals("-nodes", minusNodes, ctx.getMinusNodeCount());\n            } else if (tableRow.size() == 2 && tableRow.get(0).equals("-relationships")) {\n                int minusRelationships = Integer.parseInt(tableRow.get(1));\n                assertEquals("-relationships", minusRelationships, ctx.getMinusRelationshipCount());\n            } else if (tableRow.size() == 2 && tableRow.get(0).equals("-labels")) {\n                int minusLabels = Integer.parseInt(tableRow.get(1));\n                assertEquals("-labels", minusLabels, ctx.getMinusLabelCount());\n            } else if (tableRow.size() == 2 && tableRow.get(0).equals("-properties")) {\n                int minusProperties = Integer.parseInt(tableRow.get(1));\n                assertEquals("-properties", minusProperties, ctx.getMinusPropertyCount());\n            } else {\n                fail("Unhandled side effect row: " + tableRow.stream().collect(Collectors.joining(",")));\n            }\n        }\n    }\n\nExample 2:\nGherkin Step:\n\n    @Then("^the result should be empty$")\nGlue Code:\n    @Then("^the result should be empty$")\n    public void thenTheResultsShouldBeEmpty() throws Throwable {\n        if (lastCompileTimeException != null) {\n            throw lastCompileTimeException;\n        }\n        if (lastRuntimeException != null) {\n            throw lastRuntimeException;\n        }\n        assertEquals("number of rows", 0, lastResultRows.size());\n    }\n\nExample 3:\nGherkin Step:\n\n    @Then("^the result should be, in order:$")\nGlue Code:\n    @Then("^the result should be, in order:$")\n    public void thenTheResultShouldBeInOrder(DataTable expected) throws Throwable {\n        thenTheResultShouldBe(expected);\n    }\n\nExample 4:\nGherkin Step:\n\n    @Then("^the result should be \\\\(ignoring element order for lists\\\\):$")\nGlue Code:\n    @Then("^the result should be \\\\(ignoring element order for lists\\\\):$")\n    public void thenTheResultShouldBeIgnoringElementOrderForLists(DataTable expected) throws Throwable {\n        thenTheResultShouldBe(expected);\n    }\n\nExample 5:\nGherkin Step:\n\n    @Given("^any graph$")\nGlue Code:\n    @Given("^any graph$")\n    public void givenAnyGraph() {\n        createGraph();\n    }\n\nExample 6:\nGherkin Step:\n\n    @Given("^an empty graph$")\nGlue Code:\n    @Given("^an empty graph$")\n    public void givenEmptyGraph() {\n        createGraph();\n    }\n\nExample 7:\nGherkin Step:\n\n    @Given("^the binary-tree-(\\\\d+) graph$")\nGlue Code:\n    @Given("^the binary-tree-(\\\\d+) graph$")\n    public void givenTheBinaryTreeGraph(int number) throws Throwable {\n        createGraph();\n        String resourceName = String.format("/org/vertexium/cypher/tck/graphs/binary-tree-%d/binary-tree-%d.cypher", number, number);\n        InputStream treeIn = this.getClass().getResourceAsStream(resourceName);\n        if (treeIn == null) {\n            throw new VertexiumException("Could not find \'" + resourceName + "\'");\n        }\n        String cyp = IOUtils.toString(treeIn);\n        CypherCompilerContext compilerContext = new CypherCompilerContext(ctx.getFunctions());\n        VertexiumCypherQuery.parse(compilerContext, cyp).execute(ctx);\n    }\n\nExample 8:\nGherkin Step:\n\n    @Given("^parameters are:$")\nGlue Code:\n    @Given("^parameters are:$")\n    public void givenParametersAre(DataTable parameters) {\n        for (List<String> parameterRow : parameters.raw()) {\n            String key = parameterRow.get(0);\n            String valueString = parameterRow.get(1);\n            Object value = parseParameterValue(valueString);\n            ctx.setParameter(key, value);\n        }\n    }\n\nExample 9:\nGherkin Step:\n\n    @When("^executing(.*)query:$")\nGlue Code:\n    @When("^executing(.*)query:$")\n    public void whenExecutingQuery(String queryName, String queryString) {\n        ctx.clearCounts();\n        lastResultRows = null;\n        lastResultColumnNames = null;\n        lastCompileTimeException = null;\n        lastRuntimeException = null;\n        try {\n            CypherCompilerContext compilerContext = new CypherCompilerContext(ctx.getFunctions());\n            query = VertexiumCypherQuery.parse(compilerContext, queryString);\n            try {\n                VertexiumCypherResult results = query.execute(ctx);\n                lastResultRows = results\n                    .peek(row -> {\n                        try {\n                            Map<String, Object> scope = row.popScope();\n                            throw new VertexiumCypherException("Scope should be empty:\\n"\n                                + scope.entrySet().stream().map(e -> e.getKey() + ": " + e.getValue()).collect(Collectors.joining("\\n"))\n                            );\n                        } catch (Exception ex) {\n                            // OK\n                        }\n                    })\n                    .collect(Collectors.toList());\n                lastResultColumnNames = results.getColumnNames();\n            } catch (Exception ex) {\n                lastRuntimeException = ex;\n            }\n        } catch (Exception ex) {\n            lastCompileTimeException = ex;\n        }\n    }\n\nExample 10:\nGherkin Step:\n\n    @Given("^having executed:$")\nGlue Code:\n    @Given("^having executed:$")\n    public void givenHavingExecuted(String queryString) {\n        CypherCompilerContext compilerContext = new CypherCompilerContext(ctx.getFunctions());\n        VertexiumCypherQuery.parse(compilerContext, queryString).execute(ctx).count();\n    }\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n    @Then("^the result should be:$")\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:47,967 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:47,968 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:47,968 - DEBUG - send_request_headers.complete
2025-09-23 02:45:47,968 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:47,968 - DEBUG - send_request_body.complete
2025-09-23 02:45:47,968 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:48,735 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:48 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b53ed9c2bec2-YYC')])
2025-09-23 02:45:48,736 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:48,736 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:49,138 - DEBUG - receive_response_body.complete
2025-09-23 02:45:49,138 - DEBUG - response_closed.started
2025-09-23 02:45:49,138 - DEBUG - response_closed.complete
2025-09-23 02:45:49,138 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:48 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b53ed9c2bec2-YYC'})
2025-09-23 02:45:49,138 - DEBUG - request_id: None
2025-09-23 02:45:49,140 - INFO - Generated glue code: 
```java
@Then("^the result should be:$")
public void thenTheResultShouldBe(DataTable expected) throws Throwable {
    thenTheResultShouldBe(expected);
}
```
2025-09-23 02:45:49,165 - INFO - Step ID 615 CodeBLEU: {'codebleu': 0.05049468593599576, 'ngram_match_score': 2.583062745642043e-06, 'weighted_ngram_match_score': 0.0531329297490232, 'syntax_match_score': 0.09022556390977443, 'dataflow_match_score': 0.022727272727272728}
2025-09-23 02:45:49,166 - INFO - Generating glue code for step ID 616
2025-09-23 02:45:49,169 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true'}, 'files': None, 'idempotency_key': 'stainless-python-retry-efb56f0e-32b9-4a7c-9e67-7d95e98a2817', 'json_data': {'messages': [{'content': '\nYou are an expert in Behavior-Driven Development (BDD).\nYour task is to generate the Java glue code for the given Gherkin step.\n\nExample 1:\nGherkin Step:\n\n    @Then("^a (.*) should be raised at runtime: (.*)$")\nGlue Code:\n    @Then("^a (.*) should be raised at runtime: (.*)$")\n    public void thenATypeErrorShouldBeRaisedAtRuntime(String errorType, String error) {\n        if (lastRuntimeException == null) {\n            if (lastCompileTimeException != null) {\n                LOGGER.error("compile time exception", lastCompileTimeException);\n                fail("statement should have resulted in a runtime exception, but resulted in a compile time exception");\n            } else {\n                fail("statement should have resulted in a runtime exception");\n            }\n        }\n        if (!lastRuntimeException.getClass().getName().contains(errorType)) {\n            lastRuntimeException.printStackTrace();\n            // TODO do we care?\n            LOGGER.warn("exception type should contain \\"" + errorType + "\\", but only contained \\"" + lastRuntimeException.getClass().getName() + "\\": " + lastRuntimeException);\n        }\n        if (!lastRuntimeException.getMessage().contains(error)) {\n            lastRuntimeException.printStackTrace();\n            // TODO do we care?\n            LOGGER.warn("exception should contain \\"" + error + "\\", but only contained \\"" + lastRuntimeException.getMessage() + "\\"");\n        }\n    }\n\nExample 2:\nGherkin Step:\n\n    @Then("^the result should be empty$")\nGlue Code:\n    @Then("^the result should be empty$")\n    public void thenTheResultsShouldBeEmpty() throws Throwable {\n        if (lastCompileTimeException != null) {\n            throw lastCompileTimeException;\n        }\n        if (lastRuntimeException != null) {\n            throw lastRuntimeException;\n        }\n        assertEquals("number of rows", 0, lastResultRows.size());\n    }\n\nExample 3:\nGherkin Step:\n\n    @Then("^the result should be \\\\(ignoring element order for lists\\\\):$")\nGlue Code:\n    @Then("^the result should be \\\\(ignoring element order for lists\\\\):$")\n    public void thenTheResultShouldBeIgnoringElementOrderForLists(DataTable expected) throws Throwable {\n        thenTheResultShouldBe(expected);\n    }\n\nExample 4:\nGherkin Step:\n\n    @Given("^any graph$")\nGlue Code:\n    @Given("^any graph$")\n    public void givenAnyGraph() {\n        createGraph();\n    }\n\nExample 5:\nGherkin Step:\n\n    @Given("^an empty graph$")\nGlue Code:\n    @Given("^an empty graph$")\n    public void givenEmptyGraph() {\n        createGraph();\n    }\n\nExample 6:\nGherkin Step:\n\n    @Given("^the binary-tree-(\\\\d+) graph$")\nGlue Code:\n    @Given("^the binary-tree-(\\\\d+) graph$")\n    public void givenTheBinaryTreeGraph(int number) throws Throwable {\n        createGraph();\n        String resourceName = String.format("/org/vertexium/cypher/tck/graphs/binary-tree-%d/binary-tree-%d.cypher", number, number);\n        InputStream treeIn = this.getClass().getResourceAsStream(resourceName);\n        if (treeIn == null) {\n            throw new VertexiumException("Could not find \'" + resourceName + "\'");\n        }\n        String cyp = IOUtils.toString(treeIn);\n        CypherCompilerContext compilerContext = new CypherCompilerContext(ctx.getFunctions());\n        VertexiumCypherQuery.parse(compilerContext, cyp).execute(ctx);\n    }\n\nExample 7:\nGherkin Step:\n\n    @Given("^parameters are:$")\nGlue Code:\n    @Given("^parameters are:$")\n    public void givenParametersAre(DataTable parameters) {\n        for (List<String> parameterRow : parameters.raw()) {\n            String key = parameterRow.get(0);\n            String valueString = parameterRow.get(1);\n            Object value = parseParameterValue(valueString);\n            ctx.setParameter(key, value);\n        }\n    }\n\nExample 8:\nGherkin Step:\n\n    @When("^executing(.*)query:$")\nGlue Code:\n    @When("^executing(.*)query:$")\n    public void whenExecutingQuery(String queryName, String queryString) {\n        ctx.clearCounts();\n        lastResultRows = null;\n        lastResultColumnNames = null;\n        lastCompileTimeException = null;\n        lastRuntimeException = null;\n        try {\n            CypherCompilerContext compilerContext = new CypherCompilerContext(ctx.getFunctions());\n            query = VertexiumCypherQuery.parse(compilerContext, queryString);\n            try {\n                VertexiumCypherResult results = query.execute(ctx);\n                lastResultRows = results\n                    .peek(row -> {\n                        try {\n                            Map<String, Object> scope = row.popScope();\n                            throw new VertexiumCypherException("Scope should be empty:\\n"\n                                + scope.entrySet().stream().map(e -> e.getKey() + ": " + e.getValue()).collect(Collectors.joining("\\n"))\n                            );\n                        } catch (Exception ex) {\n                            // OK\n                        }\n                    })\n                    .collect(Collectors.toList());\n                lastResultColumnNames = results.getColumnNames();\n            } catch (Exception ex) {\n                lastRuntimeException = ex;\n            }\n        } catch (Exception ex) {\n            lastCompileTimeException = ex;\n        }\n    }\n\nExample 9:\nGherkin Step:\n\n    @Given("^having executed:$")\nGlue Code:\n    @Given("^having executed:$")\n    public void givenHavingExecuted(String queryString) {\n        CypherCompilerContext compilerContext = new CypherCompilerContext(ctx.getFunctions());\n        VertexiumCypherQuery.parse(compilerContext, queryString).execute(ctx).count();\n    }\n\nExample 10:\nGherkin Step:\n\n    @Then("^the result should be, in order:$")\nGlue Code:\n    @Then("^the result should be, in order:$")\n    public void thenTheResultShouldBeInOrder(DataTable expected) throws Throwable {\n        thenTheResultShouldBe(expected);\n    }\n\n\nNow, generate glue code for this new step:\nGherkin Step:\n\n    @Then("^a (.*) should be raised at compile time: (.*)$")\n\nGlue Code:\n', 'role': 'user'}], 'model': 'gpt-4.1-mini', 'stream': False}}
2025-09-23 02:45:49,170 - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-09-23 02:45:49,170 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-23 02:45:49,171 - DEBUG - send_request_headers.complete
2025-09-23 02:45:49,171 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-23 02:45:49,171 - DEBUG - send_request_body.complete
2025-09-23 02:45:49,171 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-23 02:45:49,778 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 23 Sep 2025 02:45:49 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Content-Encoding', b'gzip'), (b'Access-Control-Allow-Origin', b'*'), (b'Vary', b'Accept-Encoding'), (b'Permissions-Policy', b'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")'), (b'Referrer-Policy', b'no-referrer, strict-origin-when-cross-origin'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9836b54659bdbec2-YYC')])
2025-09-23 02:45:49,779 - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 02:45:49,779 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-23 02:45:52,457 - DEBUG - receive_response_body.complete
2025-09-23 02:45:52,458 - DEBUG - response_closed.started
2025-09-23 02:45:52,458 - DEBUG - response_closed.complete
2025-09-23 02:45:52,458 - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Tue, 23 Sep 2025 02:45:49 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'access-control-allow-origin': '*', 'vary': 'Accept-Encoding', 'permissions-policy': 'payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com" "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")', 'referrer-policy': 'no-referrer, strict-origin-when-cross-origin', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9836b54659bdbec2-YYC'})
2025-09-23 02:45:52,458 - DEBUG - request_id: None
2025-09-23 02:45:52,460 - INFO - Generated glue code: 
```java
@Then("^a (.*) should be raised at compile time: (.*)$")
public void thenATypeErrorShouldBeRaisedAtCompileTime(String errorType, String error) {
    if (lastCompileTimeException == null) {
        if (lastRuntimeException != null) {
            LOGGER.error("runtime exception", lastRuntimeException);
            fail("statement should have resulted in a compile time exception, but resulted in a runtime exception");
        } else {
            fail("statement should have resulted in a compile time exception");
        }
    }
    if (!lastCompileTimeException.getClass().getName().contains(errorType)) {
        lastCompileTimeException.printStackTrace();
        // TODO do we care?
        LOGGER.warn("exception type should contain \"" + errorType + "\", but only contained \"" +
            lastCompileTimeException.getClass().getName() + "\": " + lastCompileTimeException);
    }
    if (!lastCompileTimeException.getMessage().contains(error)) {
        lastCompileTimeException.printStackTrace();
        // TODO do we care?
        LOGGER.warn("exception should contain \"" + error + "\", but only contained \"" +
            lastCompileTimeException.getMessage() + "\"");
    }
}
```
2025-09-23 02:45:52,476 - INFO - Step ID 616 CodeBLEU: {'codebleu': 0.6568548189356779, 'ngram_match_score': 0.6117121887567262, 'weighted_ngram_match_score': 0.6200838638479156, 'syntax_match_score': 0.7444444444444445, 'dataflow_match_score': 0.5897435897435898}
2025-09-23 02:45:52,476 - INFO - DataDog dd-trace-java Average CodeBLEU per metric: {'codebleu': 0.8845639478415602, 'ngram_match_score': 0.8205881312695545, 'weighted_ngram_match_score': 0.9482961023908025, 'syntax_match_score': 0.7691888111888112, 'dataflow_match_score': 1.0}
2025-09-23 02:45:52,476 - INFO - rmpestano dbunit-rules Average CodeBLEU per metric: {'codebleu': 0.7667165518485786, 'ngram_match_score': 0.6002375581757619, 'weighted_ngram_match_score': 0.7639365073185704, 'syntax_match_score': 0.5757478632478632, 'dataflow_match_score': 0.3}
2025-09-23 02:45:52,476 - INFO - SolutionGuidance psm Average CodeBLEU per metric: {'codebleu': 0.7991503250169062, 'ngram_match_score': 0.6078017529229025, 'weighted_ngram_match_score': 0.698227205456077, 'syntax_match_score': 0.7380352396141869, 'dataflow_match_score': 0.2333333333333333}
2025-09-23 02:45:52,476 - INFO - checkmarx-ltd cx-flow Average CodeBLEU per metric: {'codebleu': 0.7465159702208455, 'ngram_match_score': 0.6438524354885912, 'weighted_ngram_match_score': 0.8128080120941623, 'syntax_match_score': 0.6975663255495497, 'dataflow_match_score': 0.7045584881068752}
2025-09-23 02:45:52,477 - INFO - metasfresh metasfresh Average CodeBLEU per metric: {'codebleu': 0.6136030918735376, 'ngram_match_score': 0.44444907884979623, 'weighted_ngram_match_score': 0.6005539805219904, 'syntax_match_score': 0.5928471832644489, 'dataflow_match_score': 0.47990978157644826}
2025-09-23 02:45:52,477 - INFO - resthub springmvc-router Average CodeBLEU per metric: {'codebleu': 0.6754048199481518, 'ngram_match_score': 0.610257562470405, 'weighted_ngram_match_score': 0.7448580380135874, 'syntax_match_score': 0.659085903913456, 'dataflow_match_score': 0.6906472458359251}
2025-09-23 02:45:52,477 - INFO - TheKiddos faith Average CodeBLEU per metric: {'codebleu': 0.646422956045113, 'ngram_match_score': 0.4555889968795731, 'weighted_ngram_match_score': 0.5583100683185681, 'syntax_match_score': 0.6149551728328551, 'dataflow_match_score': 0.14762745098039215}
2025-09-23 02:45:52,477 - INFO - jdi-testing jdi-light Average CodeBLEU per metric: {'codebleu': 0.6229140919431487, 'ngram_match_score': 0.3923966455615654, 'weighted_ngram_match_score': 0.4480812702069176, 'syntax_match_score': 0.5404990842490842, 'dataflow_match_score': 0.5066666666666666}
2025-09-23 02:45:52,477 - INFO - visallo vertexium Average CodeBLEU per metric: {'codebleu': 0.48518721783902274, 'ngram_match_score': 0.216080214614091, 'weighted_ngram_match_score': 0.5096767968414865, 'syntax_match_score': 0.47079256597112096, 'dataflow_match_score': 0.3607362257625416}
2025-09-23 02:45:52,477 - INFO - scrum-for-developers worblehat-youtube Average CodeBLEU per metric: {'codebleu': 0.5839896421982782, 'ngram_match_score': 0.30423429331459945, 'weighted_ngram_match_score': 0.5242259132261528, 'syntax_match_score': 0.49524000624146, 'dataflow_match_score': 0.5576190476190476}
2025-09-23 02:45:52,477 - INFO - martinpiper BDD6502 Average CodeBLEU per metric: {'codebleu': 0.5152746222819979, 'ngram_match_score': 0.2948892508178703, 'weighted_ngram_match_score': 0.42402540362134145, 'syntax_match_score': 0.44872123985853973, 'dataflow_match_score': 0.35973665223665224}
2025-09-23 02:45:52,477 - INFO - 
Overall Average CodeBLEU across all datasets per metric: {'codebleu': 0.6672493851870129, 'ngram_match_score': 0.49003417457861004, 'weighted_ngram_match_score': 0.6393635725463324, 'syntax_match_score': 0.6002435814483067, 'dataflow_match_score': 0.4855304447379893}
2025-09-23 02:45:52,477 - INFO - Overall codebleu: 0.667
2025-09-23 02:45:52,477 - INFO - Overall ngram_match_score: 0.490
2025-09-23 02:45:52,477 - INFO - Overall weighted_ngram_match_score: 0.639
2025-09-23 02:45:52,477 - INFO - Overall syntax_match_score: 0.600
2025-09-23 02:45:52,478 - INFO - Overall dataflow_match_score: 0.486
